(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(d){if(d.ep)return;d.ep=!0;const h=s(d);fetch(d.href,h)}})();function t_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pf={exports:{}},ql={};var Fy;function Kw(){if(Fy)return ql;Fy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var y in d)y!=="key"&&(h[y]=d[y])}else h=d;return d=h.ref,{$$typeof:n,type:r,key:f,ref:d!==void 0?d:null,props:h}}return ql.Fragment=e,ql.jsx=s,ql.jsxs=s,ql}var Ky;function Ww(){return Ky||(Ky=1,Pf.exports=Kw()),Pf.exports}var l=Ww(),zf={exports:{}},Ae={};var Wy;function Yw(){if(Wy)return Ae;Wy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=T&&B[T]||B["@@iterator"],typeof B=="function"?B:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function z(B,X,re){this.props=B,this.context=X,this.refs=M,this.updater=re||O}z.prototype.isReactComponent={},z.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},z.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=z.prototype;function k(B,X,re){this.props=B,this.context=X,this.refs=M,this.updater=re||O}var Y=k.prototype=new V;Y.constructor=k,R(Y,z.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray;function I(){}var Q={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function be(B,X,re){var ue=re.ref;return{$$typeof:n,type:B,key:X,ref:ue!==void 0?ue:null,props:re}}function ke(B,X){return be(B.type,X,B.props)}function Me(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function ze(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(re){return X[re]})}var sn=/\/+/g;function rt(B,X){return typeof B=="object"&&B!==null&&B.key!=null?ze(""+B.key):X.toString(36)}function Ot(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(I,I):(B.status="pending",B.then(function(X){B.status==="pending"&&(B.status="fulfilled",B.value=X)},function(X){B.status==="pending"&&(B.status="rejected",B.reason=X)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,X,re,ue,me){var fe=typeof B;(fe==="undefined"||fe==="boolean")&&(B=null);var Pe=!1;if(B===null)Pe=!0;else switch(fe){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(B.$$typeof){case n:case e:Pe=!0;break;case b:return Pe=B._init,$(Pe(B._payload),X,re,ue,me)}}if(Pe)return me=me(B),Pe=ue===""?"."+rt(B,0):ue,ee(me)?(re="",Pe!=null&&(re=Pe.replace(sn,"$&/")+"/"),$(me,X,re,"",function(qi){return qi})):me!=null&&(Me(me)&&(me=ke(me,re+(me.key==null||B&&B.key===me.key?"":(""+me.key).replace(sn,"$&/")+"/")+Pe)),X.push(me)),1;Pe=0;var ht=ue===""?".":ue+":";if(ee(B))for(var ft=0;ft<B.length;ft++)ue=B[ft],fe=ht+rt(ue,ft),Pe+=$(ue,X,re,fe,me);else if(ft=A(B),typeof ft=="function")for(B=ft.call(B),ft=0;!(ue=B.next()).done;)ue=ue.value,fe=ht+rt(ue,ft++),Pe+=$(ue,X,re,fe,me);else if(fe==="object"){if(typeof B.then=="function")return $(Ot(B),X,re,ue,me);throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ae(B,X,re){if(B==null)return B;var ue=[],me=0;return $(B,ue,"","",function(fe){return X.call(re,fe,me++)}),ue}function se(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(re){(B._status===0||B._status===-1)&&(B._status=1,B._result=re)},function(re){(B._status===0||B._status===-1)&&(B._status=2,B._result=re)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var ce=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},le={map:ae,forEach:function(B,X,re){ae(B,function(){X.apply(this,arguments)},re)},count:function(B){var X=0;return ae(B,function(){X++}),X},toArray:function(B){return ae(B,function(X){return X})||[]},only:function(B){if(!Me(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ae.Activity=S,Ae.Children=le,Ae.Component=z,Ae.Fragment=s,Ae.Profiler=d,Ae.PureComponent=k,Ae.StrictMode=r,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Q.H.useMemoCache(B)}},Ae.cache=function(B){return function(){return B.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(B,X,re){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ue=R({},B.props),me=B.key;if(X!=null)for(fe in X.key!==void 0&&(me=""+X.key),X)!oe.call(X,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&X.ref===void 0||(ue[fe]=X[fe]);var fe=arguments.length-2;if(fe===1)ue.children=re;else if(1<fe){for(var Pe=Array(fe),ht=0;ht<fe;ht++)Pe[ht]=arguments[ht+2];ue.children=Pe}return be(B.type,me,ue)},Ae.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:h,_context:B},B},Ae.createElement=function(B,X,re){var ue,me={},fe=null;if(X!=null)for(ue in X.key!==void 0&&(fe=""+X.key),X)oe.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(me[ue]=X[ue]);var Pe=arguments.length-2;if(Pe===1)me.children=re;else if(1<Pe){for(var ht=Array(Pe),ft=0;ft<Pe;ft++)ht[ft]=arguments[ft+2];me.children=ht}if(B&&B.defaultProps)for(ue in Pe=B.defaultProps,Pe)me[ue]===void 0&&(me[ue]=Pe[ue]);return be(B,fe,me)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(B){return{$$typeof:y,render:B}},Ae.isValidElement=Me,Ae.lazy=function(B){return{$$typeof:b,_payload:{_status:-1,_result:B},_init:se}},Ae.memo=function(B,X){return{$$typeof:x,type:B,compare:X===void 0?null:X}},Ae.startTransition=function(B){var X=Q.T,re={};Q.T=re;try{var ue=B(),me=Q.S;me!==null&&me(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(I,ce)}catch(fe){ce(fe)}finally{X!==null&&re.types!==null&&(X.types=re.types),Q.T=X}},Ae.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ae.use=function(B){return Q.H.use(B)},Ae.useActionState=function(B,X,re){return Q.H.useActionState(B,X,re)},Ae.useCallback=function(B,X){return Q.H.useCallback(B,X)},Ae.useContext=function(B){return Q.H.useContext(B)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(B,X){return Q.H.useDeferredValue(B,X)},Ae.useEffect=function(B,X){return Q.H.useEffect(B,X)},Ae.useEffectEvent=function(B){return Q.H.useEffectEvent(B)},Ae.useId=function(){return Q.H.useId()},Ae.useImperativeHandle=function(B,X,re){return Q.H.useImperativeHandle(B,X,re)},Ae.useInsertionEffect=function(B,X){return Q.H.useInsertionEffect(B,X)},Ae.useLayoutEffect=function(B,X){return Q.H.useLayoutEffect(B,X)},Ae.useMemo=function(B,X){return Q.H.useMemo(B,X)},Ae.useOptimistic=function(B,X){return Q.H.useOptimistic(B,X)},Ae.useReducer=function(B,X,re){return Q.H.useReducer(B,X,re)},Ae.useRef=function(B){return Q.H.useRef(B)},Ae.useState=function(B){return Q.H.useState(B)},Ae.useSyncExternalStore=function(B,X,re){return Q.H.useSyncExternalStore(B,X,re)},Ae.useTransition=function(){return Q.H.useTransition()},Ae.version="19.2.3",Ae}var Yy;function ep(){return Yy||(Yy=1,zf.exports=Yw()),zf.exports}var N=ep();const Ui=t_(N);var Df={exports:{}},$l={},Bf={exports:{}},Uf={};var Xy;function Xw(){return Xy||(Xy=1,(function(n){function e($,ae){var se=$.length;$.push(ae);e:for(;0<se;){var ce=se-1>>>1,le=$[ce];if(0<d(le,ae))$[ce]=ae,$[se]=le,se=ce;else break e}}function s($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ae=$[0],se=$.pop();if(se!==ae){$[0]=se;e:for(var ce=0,le=$.length,B=le>>>1;ce<B;){var X=2*(ce+1)-1,re=$[X],ue=X+1,me=$[ue];if(0>d(re,se))ue<le&&0>d(me,re)?($[ce]=me,$[ue]=se,ce=ue):($[ce]=re,$[X]=se,ce=X);else if(ue<le&&0>d(me,se))$[ce]=me,$[ue]=se,ce=ue;else break e}}return ae}function d($,ae){var se=$.sortIndex-ae.sortIndex;return se!==0?se:$.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var f=Date,y=f.now();n.unstable_now=function(){return f.now()-y}}var g=[],x=[],b=1,S=null,T=3,A=!1,O=!1,R=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function Y($){for(var ae=s(x);ae!==null;){if(ae.callback===null)r(x);else if(ae.startTime<=$)r(x),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=s(x)}}function ee($){if(R=!1,Y($),!O)if(s(g)!==null)O=!0,I||(I=!0,ze());else{var ae=s(x);ae!==null&&Ot(ee,ae.startTime-$)}}var I=!1,Q=-1,oe=5,be=-1;function ke(){return M?!0:!(n.unstable_now()-be<oe)}function Me(){if(M=!1,I){var $=n.unstable_now();be=$;var ae=!0;try{e:{O=!1,R&&(R=!1,V(Q),Q=-1),A=!0;var se=T;try{t:{for(Y($),S=s(g);S!==null&&!(S.expirationTime>$&&ke());){var ce=S.callback;if(typeof ce=="function"){S.callback=null,T=S.priorityLevel;var le=ce(S.expirationTime<=$);if($=n.unstable_now(),typeof le=="function"){S.callback=le,Y($),ae=!0;break t}S===s(g)&&r(g),Y($)}else r(g);S=s(g)}if(S!==null)ae=!0;else{var B=s(x);B!==null&&Ot(ee,B.startTime-$),ae=!1}}break e}finally{S=null,T=se,A=!1}ae=void 0}}finally{ae?ze():I=!1}}}var ze;if(typeof k=="function")ze=function(){k(Me)};else if(typeof MessageChannel<"u"){var sn=new MessageChannel,rt=sn.port2;sn.port1.onmessage=Me,ze=function(){rt.postMessage(null)}}else ze=function(){z(Me,0)};function Ot($,ae){Q=z(function(){$(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function($){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var se=T;T=ae;try{return $()}finally{T=se}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=T;T=$;try{return ae()}finally{T=se}},n.unstable_scheduleCallback=function($,ae,se){var ce=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ce+se:ce):se=ce,$){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=se+le,$={id:b++,callback:ae,priorityLevel:$,startTime:se,expirationTime:le,sortIndex:-1},se>ce?($.sortIndex=se,e(x,$),s(g)===null&&$===s(x)&&(R?(V(Q),Q=-1):R=!0,Ot(ee,se-ce))):($.sortIndex=le,e(g,$),O||A||(O=!0,I||(I=!0,ze()))),$},n.unstable_shouldYield=ke,n.unstable_wrapCallback=function($){var ae=T;return function(){var se=T;T=ae;try{return $.apply(this,arguments)}finally{T=se}}}})(Uf)),Uf}var Jy;function Jw(){return Jy||(Jy=1,Bf.exports=Xw()),Bf.exports}var Vf={exports:{}},on={};var Qy;function Qw(){if(Qy)return on;Qy=1;var n=ep();function e(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(g,x,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:g,containerInfo:x,implementation:b}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return h(g,x,null,b)},on.flushSync=function(g){var x=f.T,b=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=x,r.p=b,r.d.f()}},on.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,r.d.C(g,x))},on.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},on.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,S=y(b,x.crossOrigin),T=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?r.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:A}):b==="script"&&r.d.X(g,{crossOrigin:S,integrity:T,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},on.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=y(x.as,x.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&r.d.M(g)},on.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,S=y(b,x.crossOrigin);r.d.L(g,b,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},on.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=y(x.as,x.crossOrigin);r.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else r.d.m(g)},on.requestFormReset=function(g){r.d.r(g)},on.unstable_batchedUpdates=function(g,x){return g(x)},on.useFormState=function(g,x,b){return f.H.useFormState(g,x,b)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.2.3",on}var ev;function n_(){if(ev)return Vf.exports;ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vf.exports=Qw(),Vf.exports}var tv;function e2(){if(tv)return $l;tv=1;var n=Jw(),e=ep(),s=n_();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function x(t){var i=t.alternate;if(!i){if(i=h(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,u=i;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return g(p),t;if(v===u)return g(p),i;v=v.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=v;else{for(var j=!1,C=p.child;C;){if(C===o){j=!0,o=p,u=v;break}if(C===u){j=!0,u=p,o=v;break}C=C.sibling}if(!j){for(C=v.child;C;){if(C===o){j=!0,o=v,u=p;break}if(C===u){j=!0,u=v,o=p;break}C=C.sibling}if(!j)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function ze(t){return t===null||typeof t!="object"?null:(t=Me&&t[Me]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===sn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case ee:return"Suspense";case I:return"SuspenseList";case be:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case k:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case Y:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case oe:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Ot=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ce=[],le=-1;function B(t){return{current:t}}function X(t){0>le||(t.current=ce[le],ce[le]=null,le--)}function re(t,i){le++,ce[le]=t.current,t.current=i}var ue=B(null),me=B(null),fe=B(null),Pe=B(null);function ht(t,i){switch(re(fe,i),re(me,t),re(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?gy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=gy(i),t=yy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ue),re(ue,t)}function ft(){X(ue),X(me),X(fe)}function qi(t){t.memoizedState!==null&&re(Pe,t);var i=ue.current,o=yy(i,t.type);i!==o&&(re(me,t),re(ue,o))}function Ss(t){me.current===t&&(X(ue),X(me)),Pe.current===t&&(X(Pe),Ul._currentValue=se)}var $i,yr;function Zi(t){if($i===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);$i=i&&i[1]||"",yr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+t+yr}var vr=!1;function xr(t,i){if(!t||vr)return"";vr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var K=W}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(W){K=W}t.call(ie.prototype)}}else{try{throw Error()}catch(W){K=W}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),j=v[0],C=v[1];if(j&&C){var D=j.split(`
`),G=C.split(`
`);for(p=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(u===D.length||p===G.length)for(u=D.length-1,p=G.length-1;1<=u&&0<=p&&D[u]!==G[p];)p--;for(;1<=u&&0<=p;u--,p--)if(D[u]!==G[p]){if(u!==1||p!==1)do if(u--,p--,0>p||D[u]!==G[p]){var J=`
`+D[u].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=u&&0<=p);break}}}finally{vr=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Zi(o):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return t.child!==i&&i!==null?Zi("Suspense Fallback"):Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return xr(t.type,!1);case 11:return xr(t.type.render,!1);case 1:return xr(t.type,!0);case 31:return Zi("Activity");default:return""}}function ma(t){try{var i="",o=null;do i+=Do(t,o),o=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Bo=Object.prototype.hasOwnProperty,_r=n.unstable_scheduleCallback,pa=n.unstable_cancelCallback,jc=n.unstable_shouldYield,Tc=n.unstable_requestPaint,un=n.unstable_now,zd=n.unstable_getCurrentPriorityLevel,br=n.unstable_ImmediatePriority,Uo=n.unstable_UserBlockingPriority,ga=n.unstable_NormalPriority,Dd=n.unstable_LowPriority,Vo=n.unstable_IdlePriority,Ec=n.log,Bd=n.unstable_setDisableYieldValue,js=null,Wt=null;function si(t){if(typeof Ec=="function"&&Bd(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(js,t)}catch{}}var dn=Math.clz32?Math.clz32:Vd,ya=Math.log,Ud=Math.LN2;function Vd(t){return t>>>=0,t===0?32:31-(ya(t)/Ud|0)|0}var va=256,xa=262144,_a=4194304;function Gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wr(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var C=u&134217727;return C!==0?(u=C&~v,u!==0?p=Gi(u):(j&=C,j!==0?p=Gi(j):o||(o=C&~t,o!==0&&(p=Gi(o))))):(C=u&~v,C!==0?p=Gi(C):j!==0?p=Gi(j):o||(o=u&~t,o!==0&&(p=Gi(o)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,o=i&-i,v>=o||v===32&&(o&4194048)!==0)?i:p}function ba(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Id(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var t=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),t}function Io(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function Fi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hd(t,i,o,u,p,v){var j=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var C=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(o=j&~o;0<o;){var J=31-dn(o),ie=1<<J;C[J]=0,D[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var W=K[J];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&Cc(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(j&~i))}function Cc(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-dn(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function Ac(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-dn(o),p=1<<u;p&i|t[u]&i&&(t[u]|=i),o&=~p}}function Rc(t,i){var o=i&-i;return o=(o&42)!==0?1:gn(o),(o&(t.suspendedLanes|i))!==0?0:o}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ve(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ho(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Vy(t.type))}function qo(t,i){var o=ae.p;try{return ae.p=t,i()}finally{ae.p=o}}var ai=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ai,Zt="__reactProps$"+ai,Ki="__reactContainer$"+ai,Si="__reactEvents$"+ai,Oc="__reactListeners$"+ai,qd="__reactHandles$"+ai,Lc="__reactResources$"+ai,wa="__reactMarker$"+ai;function $o(t){delete t[Lt],delete t[Zt],delete t[Si],delete t[Oc],delete t[qd]}function Wi(t){var i=t[Lt];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Ki]||o[Lt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=jy(t);t!==null;){if(o=t[Lt])return o;t=jy(t)}return i}t=o,o=t.parentNode}return null}function Ts(t){if(t=t[Lt]||t[Ki]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function ji(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Es(t){var i=t[Lc];return i||(i=t[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(t){t[wa]=!0}var kc=new Set,Mc={};function Yi(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Mc[t]=i,t=0;t<i.length;t++)kc.add(i[t])}var Sa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Go={};function ja(t){return Bo.call(Go,t)?!0:Bo.call(Zo,t)?!1:Sa.test(t)?Go[t]=!0:(Zo[t]=!0,!1)}function De(t,i,o){if(ja(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function Qe(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function yn(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fo(t,i,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(j){o=""+j,v.call(this,j)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ce(t){if(!t._valueTracker){var i=Xi(t)?"checked":"value";t._valueTracker=Fo(t,i,""+t[i])}}function mt(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Xi(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function ct(t){return t.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ko(t,i,o,u,p,v,j,C){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),i!=null?j==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Vt(i)):t.value!==""+Vt(i)&&(t.value=""+Vt(i)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),i!=null?ri(t,j,Vt(i)):o!=null?ri(t,j,Vt(o)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Vt(C):t.removeAttribute("name")}function Ta(t,i,o,u,p,v,j,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Ce(t);return}o=o!=null?""+Vt(o):"",i=i!=null?""+Vt(i):o,C||i===t.value||(t.value=i),t.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=C?t.checked:!!u,t.defaultChecked=!!u,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j),Ce(t)}function ri(t,i,o){i==="number"&&Ns(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function it(t,i,o,u){if(t=t.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=i.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Vt(o),i=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function Ei(t,i,o){if(i!=null&&(i=""+Vt(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Vt(o):""}function Cs(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ot(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Vt(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),Ce(t)}function qn(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function As(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||Wo.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function jr(t,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&o[p]!==u&&As(t,p,u)}else for(var v in i)i.hasOwnProperty(v)&&As(t,v,i[v])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(t){return Yo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vn(){}var Er=null;function Na(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ee=null;function An(t){var i=Ts(t);if(i&&(t=i.stateNode)){var o=t[Zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ko(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var p=u[Zt]||null;if(!p)throw Error(r(90));Ko(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&mt(u)}break e;case"textarea":Ei(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&it(t,!!o.multiple,i,!1)}}}var Ye=!1;function Xo(t,i,o){if(Ye)return t(i,o);Ye=!0;try{var u=t(i);return u}finally{if(Ye=!1,(Os!==null||Ee!==null)&&(Ru(),Os&&(i=Os,t=Ee,Ee=Os=null,An(i),t)))for(i=0;i<t.length;i++)An(t[i])}}function Ji(t,i){var o=t.stateNode;if(o===null)return null;var u=o[Zt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(Rn)try{var On={};Object.defineProperty(On,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Ca=!1}var $n=null,Qi=null,bt=null;function Ni(){if(bt)return bt;var t,i=Qi,o=i.length,u,p="value"in $n?$n.value:$n.textContent,v=p.length;for(t=0;t<o&&i[t]===p[t];t++);var j=o-t;for(u=1;u<=j&&i[o-u]===p[v-u];u++);return bt=p.slice(t,1<u?1-u:void 0)}function Aa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ra(){return!0}function Pc(){return!1}function Yt(t){function i(o,u,p,v,j){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ra:Pc,this.isPropagationStopped=Pc,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),i}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=Yt(oi),Ls=S({},oi,{view:0,detail:0}),Ie=Yt(Ls),Jo,hn,li,Oa=S({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Jo=t.screenX-li.screenX,hn=t.screenY-li.screenY):hn=Jo=0,li=t),Jo)},movementY:function(t){return"movementY"in t?t.movementY:hn}}),zc=Yt(Oa),Qo=S({},Oa,{dataTransfer:0}),$d=Yt(Qo),Dc=S({},Ls,{relatedTarget:0}),el=Yt(Dc),Zd=S({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),tl=Yt(Zd),Gd=S({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zn=Yt(Gd),Fd=S({},oi,{data:0}),nl=Yt(Fd),Ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Uc[t])?!!i[t]:!1}function sl(){return il}var Vc=S({},Ls,{key:function(t){if(t.key){var i=Ci[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(t){return t.type==="keypress"?Aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ic=Yt(Vc),Kd=S({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=Yt(Kd),al=S({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),Wd=Yt(al),qc=S({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=Yt(qc),Cr=S({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),es=Yt(Cr),Yd=S({},oi,{newState:0,oldState:0}),La=Yt(Yd),xn=[9,13,27,32],Ar=Rn&&"CompositionEvent"in window,ks=null;Rn&&"documentMode"in document&&(ks=document.documentMode);var Xd=Rn&&"TextEvent"in window&&!ks,Rr=Rn&&(!Ar||ks&&8<ks&&11>=ks),Or=" ",Zc=!1;function Gc(t,i){switch(t){case"keyup":return xn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function Ln(t,i){switch(t){case"compositionend":return rl(i);case"keypress":return i.which!==32?null:(Zc=!0,Or);case"textInput":return t=i.data,t===Or&&Zc?null:t;default:return null}}function Ps(t,i){if(Ms)return t==="compositionend"||!Ar&&Gc(t,i)?(t=Ni(),bt=Qi=$n=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Rr&&i.locale!=="ko"?null:i.data;default:return null}}var Jd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Jd[t.type]:i==="textarea"}function Fc(t,i,o,u){Os?Ee?Ee.push(u):Ee=[u]:Os=u,i=Du(i,"onChange"),0<i.length&&(o=new Nr("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var Fn=null,ka=null;function Ma(t){uy(t,0)}function Pa(t){var i=ji(t);if(mt(i))return t}function za(t,i){if(t==="change")return i}var Kc=!1;if(Rn){var Kn;if(Rn){var zs="oninput"in document;if(!zs){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),zs=typeof Wc.oninput=="function"}Kn=zs}else Kn=!1;Kc=Kn&&(!document.documentMode||9<document.documentMode)}function Lr(){Fn&&(Fn.detachEvent("onpropertychange",Yc),ka=Fn=null)}function Yc(t){if(t.propertyName==="value"&&Pa(ka)){var i=[];Fc(i,ka,t,Na(t)),Xo(Ma,i)}}function ci(t,i,o){t==="focusin"?(Lr(),Fn=i,ka=o,Fn.attachEvent("onpropertychange",Yc)):t==="focusout"&&Lr()}function Qd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pa(ka)}function Ds(t,i){if(t==="click")return Pa(i)}function eh(t,i){if(t==="input"||t==="change")return Pa(i)}function ui(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gt=typeof Object.is=="function"?Object.is:ui;function Bs(t,i){if(Gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Bo.call(i,p)||!Gt(t[p],i[p]))return!1}return!0}function kr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Da(t,i){var o=kr(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kr(o)}}function Mr(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mr(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ba(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ns(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Ns(t.document)}return i}function Ai(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Pr=Rn&&"documentMode"in document&&11>=document.documentMode,Ri=null,zr=null,Ua=null,Us=!1;function Xc(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Us||Ri==null||Ri!==Ns(u)||(u=Ri,"selectionStart"in u&&Ai(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ua&&Bs(Ua,u)||(Ua=u,u=Du(zr,"onSelect"),0<u.length&&(i=new Nr("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Ri)))}function Oi(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Vs={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Dr={},Jc={};Rn&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Ft(t){if(Dr[t])return Dr[t];if(!Vs[t])return t;var i=Vs[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Jc)return Dr[t]=i[o];return t}var Va=Ft("animationend"),Qc=Ft("animationiteration"),Ia=Ft("animationstart"),th=Ft("transitionrun"),eu=Ft("transitionstart"),nh=Ft("transitioncancel"),Is=Ft("transitionend"),tu=new Map,Li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Li.push("scrollEnd");function _n(t,i){tu.set(t,i),Yi(i,[t])}var Ha=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],an=0,Br=0;function qa(){for(var t=an,i=Br=an=0;i<t;){var o=bn[i];bn[i++]=null;var u=bn[i];bn[i++]=null;var p=bn[i];bn[i++]=null;var v=bn[i];if(bn[i++]=null,u!==null&&p!==null){var j=u.pending;j===null?p.next=p:(p.next=j.next,j.next=p),u.pending=p}v!==0&&Hs(o,p,v)}}function ki(t,i,o,u){bn[an++]=t,bn[an++]=i,bn[an++]=o,bn[an++]=u,Br|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ol(t,i,o,u){return ki(t,i,o,u),$a(t)}function Wn(t,i){return ki(t,null,null,i),$a(t)}function Hs(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=t.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&i!==null&&(p=31-dn(o),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[i]:u.push(i),i.lane=o|536870912),v):null}function $a(t){if(50<Ll)throw Ll=0,af=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ts={};function ih(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,i,o,u){return new ih(t,i,o,u)}function Ur(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yn(t,i){var o=t.alternate;return o===null?(o=rn(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function ll(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Za(t,i,o,u,p,v){var j=0;if(u=t,typeof t=="function")Ur(t)&&(j=1);else if(typeof t=="string")j=zw(t,o,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case be:return t=rn(31,o,i,p),t.elementType=be,t.lanes=v,t;case R:return ns(o.children,p,v,i);case M:j=8,p|=24;break;case z:return t=rn(12,o,i,p|2),t.elementType=z,t.lanes=v,t;case ee:return t=rn(13,o,i,p),t.elementType=ee,t.lanes=v,t;case I:return t=rn(19,o,i,p),t.elementType=I,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:j=10;break e;case V:j=9;break e;case Y:j=11;break e;case Q:j=14;break e;case oe:j=16,u=null;break e}j=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return i=rn(j,o,i,p),i.elementType=t,i.type=u,i.lanes=v,i}function ns(t,i,o,u){return t=rn(7,t,u,i),t.lanes=o,t}function Vr(t,i,o){return t=rn(6,t,null,i),t.lanes=o,t}function cl(t){var i=rn(18,null,null,0);return i.stateNode=t,i}function ul(t,i,o){return i=rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var a=new WeakMap;function c(t,i){if(typeof t=="object"&&t!==null){var o=a.get(t);return o!==void 0?o:(i={value:t,source:i,stack:ma(i)},a.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var m=[],_=0,w=null,E=0,P=[],q=0,F=null,ne=1,de="";function xe(t,i){m[_++]=E,m[_++]=w,w=t,E=i}function Oe(t,i,o){P[q++]=ne,P[q++]=de,P[q++]=F,F=t;var u=ne;t=de;var p=32-dn(u)-1;u&=~(1<<p),o+=1;var v=32-dn(i)+p;if(30<v){var j=p-p%5;v=(u&(1<<j)-1).toString(32),u>>=j,p-=j,ne=1<<32-dn(i)+p|o<<p|u,de=v+t}else ne=1<<v|o<<p|u,de=t}function It(t){t.return!==null&&(xe(t,1),Oe(t,1,0))}function wt(t){for(;t===w;)w=m[--_],m[_]=null,E=m[--_],m[_]=null;for(;t===F;)F=P[--q],P[q]=null,de=P[--q],P[q]=null,ne=P[--q],P[q]=null}function fn(t,i){P[q++]=ne,P[q++]=de,P[q++]=F,ne=i.id,de=i.overflow,F=t}var $e=null,Ze=null,Be=!1,Mi=null,wn=!1,Ir=Error(r(519));function Pi(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ga(c(i,t)),Ir}function dl(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[Lt]=t,i[Zt]=u,o){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(o=0;o<Ml.length;o++)Ve(Ml[o],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ta(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Cs(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||my(i.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),u.onScroll!=null&&Ve("scroll",i),u.onScrollEnd!=null&&Ve("scrollend",i),u.onClick!=null&&(i.onclick=vn),i=!0):i=!1,i||Pi(t,!0)}function vt(t){for($e=t.return;$e;)switch($e.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:$e=$e.return}}function di(t){if(t!==$e)return!1;if(!Be)return vt(t),Be=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||_f(t.type,t.memoizedProps)),o=!o),o&&Ze&&Pi(t),vt(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ze=Sy(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ze=Sy(t)}else i===27?(i=Ze,na(t.type)?(t=Tf,Tf=null,Ze=t):Ze=i):Ze=$e?Jn(t.stateNode.nextSibling):null;return!0}function is(){Ze=$e=null,Be=!1}function hl(){var t=Mi;return t!==null&&(En===null?En=t:En.push.apply(En,t),Mi=null),t}function Ga(t){Mi===null?Mi=[t]:Mi.push(t)}var Fa=B(null),zi=null,hi=null;function qs(t,i,o){re(Fa,i._currentValue),i._currentValue=o}function ss(t){t._currentValue=Fa.current,X(Fa)}function sh(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function ah(t,i,o,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var j=p.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=p;for(var D=0;D<i.length;D++)if(C.context===i[D]){v.lanes|=o,C=v.alternate,C!==null&&(C.lanes|=o),sh(v.return,o,t),u||(j=null);break e}v=C.next}}else if(p.tag===18){if(j=p.return,j===null)throw Error(r(341));j.lanes|=o,v=j.alternate,v!==null&&(v.lanes|=o),sh(j,o,t),j=null}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===t){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}}function Hr(t,i,o,u){t=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var j=p.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var C=p.type;Gt(p.pendingProps.value,j.value)||(t!==null?t.push(C):t=[C])}}else if(p===Pe.current){if(j=p.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}p=p.return}t!==null&&ah(i,t,o,u),i.flags|=262144}function nu(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ka(t){zi=t,hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Qp(zi,t)}function iu(t,i){return zi===null&&Ka(t),Qp(t,i)}function Qp(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},hi===null){if(t===null)throw Error(r(308));hi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else hi=hi.next=i;return o}var L1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},k1=n.unstable_scheduleCallback,M1=n.unstable_NormalPriority,Mt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new L1,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&k1(M1,function(){t.controller.abort()})}var ml=null,oh=0,qr=0,$r=null;function P1(t,i){if(ml===null){var o=ml=[];oh=0,qr=df(),$r={status:"pending",value:void 0,then:function(u){o.push(u)}}}return oh++,i.then(eg,eg),i}function eg(){if(--oh===0&&ml!==null){$r!==null&&($r.status="fulfilled");var t=ml;ml=null,qr=0,$r=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function z1(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var tg=$.S;$.S=function(t,i){B0=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&P1(t,i),tg!==null&&tg(t,i)};var Wa=B(null);function lh(){var t=Wa.current;return t!==null?t:st.pooledCache}function su(t,i){i===null?re(Wa,Wa.current):re(Wa,i.pool)}function ng(){var t=lh();return t===null?null:{parent:Mt._currentValue,pool:t}}var Zr=Error(r(460)),ch=Error(r(474)),au=Error(r(542)),ru={then:function(){}};function ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(vn,vn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rg(t),t;default:if(typeof i.status=="string")i.then(vn,vn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rg(t),t}throw Xa=i,Zr}}function Ya(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xa=o,Zr):o}}var Xa=null;function ag(){if(Xa===null)throw Error(r(459));var t=Xa;return Xa=null,t}function rg(t){if(t===Zr||t===au)throw Error(r(483))}var Gr=null,pl=0;function ou(t){var i=pl;return pl+=1,Gr===null&&(Gr=[]),sg(Gr,t,i)}function gl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lu(t,i){throw i.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function og(t){function i(H,U){if(t){var Z=H.deletions;Z===null?(H.deletions=[U],H.flags|=16):Z.push(U)}}function o(H,U){if(!t)return null;for(;U!==null;)i(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function p(H,U){return H=Yn(H,U),H.index=0,H.sibling=null,H}function v(H,U,Z){return H.index=Z,t?(Z=H.alternate,Z!==null?(Z=Z.index,Z<U?(H.flags|=67108866,U):Z):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function j(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function C(H,U,Z,te){return U===null||U.tag!==6?(U=Vr(Z,H.mode,te),U.return=H,U):(U=p(U,Z),U.return=H,U)}function D(H,U,Z,te){var we=Z.type;return we===R?J(H,U,Z.props.children,te,Z.key):U!==null&&(U.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===oe&&Ya(we)===U.type)?(U=p(U,Z.props),gl(U,Z),U.return=H,U):(U=Za(Z.type,Z.key,Z.props,null,H.mode,te),gl(U,Z),U.return=H,U)}function G(H,U,Z,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==Z.containerInfo||U.stateNode.implementation!==Z.implementation?(U=ul(Z,H.mode,te),U.return=H,U):(U=p(U,Z.children||[]),U.return=H,U)}function J(H,U,Z,te,we){return U===null||U.tag!==7?(U=ns(Z,H.mode,te,we),U.return=H,U):(U=p(U,Z),U.return=H,U)}function ie(H,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Vr(""+U,H.mode,Z),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return Z=Za(U.type,U.key,U.props,null,H.mode,Z),gl(Z,U),Z.return=H,Z;case O:return U=ul(U,H.mode,Z),U.return=H,U;case oe:return U=Ya(U),ie(H,U,Z)}if(Ot(U)||ze(U))return U=ns(U,H.mode,Z,null),U.return=H,U;if(typeof U.then=="function")return ie(H,ou(U),Z);if(U.$$typeof===k)return ie(H,iu(H,U),Z);lu(H,U)}return null}function K(H,U,Z,te){var we=U!==null?U.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return we!==null?null:C(H,U,""+Z,te);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return Z.key===we?D(H,U,Z,te):null;case O:return Z.key===we?G(H,U,Z,te):null;case oe:return Z=Ya(Z),K(H,U,Z,te)}if(Ot(Z)||ze(Z))return we!==null?null:J(H,U,Z,te,null);if(typeof Z.then=="function")return K(H,U,ou(Z),te);if(Z.$$typeof===k)return K(H,U,iu(H,Z),te);lu(H,Z)}return null}function W(H,U,Z,te,we){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(Z)||null,C(U,H,""+te,we);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return H=H.get(te.key===null?Z:te.key)||null,D(U,H,te,we);case O:return H=H.get(te.key===null?Z:te.key)||null,G(U,H,te,we);case oe:return te=Ya(te),W(H,U,Z,te,we)}if(Ot(te)||ze(te))return H=H.get(Z)||null,J(U,H,te,we,null);if(typeof te.then=="function")return W(H,U,Z,ou(te),we);if(te.$$typeof===k)return W(H,U,Z,iu(U,te),we);lu(U,te)}return null}function ge(H,U,Z,te){for(var we=null,Ge=null,ye=U,Le=U=0,qe=null;ye!==null&&Le<Z.length;Le++){ye.index>Le?(qe=ye,ye=null):qe=ye.sibling;var Fe=K(H,ye,Z[Le],te);if(Fe===null){ye===null&&(ye=qe);break}t&&ye&&Fe.alternate===null&&i(H,ye),U=v(Fe,U,Le),Ge===null?we=Fe:Ge.sibling=Fe,Ge=Fe,ye=qe}if(Le===Z.length)return o(H,ye),Be&&xe(H,Le),we;if(ye===null){for(;Le<Z.length;Le++)ye=ie(H,Z[Le],te),ye!==null&&(U=v(ye,U,Le),Ge===null?we=ye:Ge.sibling=ye,Ge=ye);return Be&&xe(H,Le),we}for(ye=u(ye);Le<Z.length;Le++)qe=W(ye,H,Le,Z[Le],te),qe!==null&&(t&&qe.alternate!==null&&ye.delete(qe.key===null?Le:qe.key),U=v(qe,U,Le),Ge===null?we=qe:Ge.sibling=qe,Ge=qe);return t&&ye.forEach(function(oa){return i(H,oa)}),Be&&xe(H,Le),we}function Se(H,U,Z,te){if(Z==null)throw Error(r(151));for(var we=null,Ge=null,ye=U,Le=U=0,qe=null,Fe=Z.next();ye!==null&&!Fe.done;Le++,Fe=Z.next()){ye.index>Le?(qe=ye,ye=null):qe=ye.sibling;var oa=K(H,ye,Fe.value,te);if(oa===null){ye===null&&(ye=qe);break}t&&ye&&oa.alternate===null&&i(H,ye),U=v(oa,U,Le),Ge===null?we=oa:Ge.sibling=oa,Ge=oa,ye=qe}if(Fe.done)return o(H,ye),Be&&xe(H,Le),we;if(ye===null){for(;!Fe.done;Le++,Fe=Z.next())Fe=ie(H,Fe.value,te),Fe!==null&&(U=v(Fe,U,Le),Ge===null?we=Fe:Ge.sibling=Fe,Ge=Fe);return Be&&xe(H,Le),we}for(ye=u(ye);!Fe.done;Le++,Fe=Z.next())Fe=W(ye,H,Le,Fe.value,te),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Le:Fe.key),U=v(Fe,U,Le),Ge===null?we=Fe:Ge.sibling=Fe,Ge=Fe);return t&&ye.forEach(function(Fw){return i(H,Fw)}),Be&&xe(H,Le),we}function nt(H,U,Z,te){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:e:{for(var we=Z.key;U!==null;){if(U.key===we){if(we=Z.type,we===R){if(U.tag===7){o(H,U.sibling),te=p(U,Z.props.children),te.return=H,H=te;break e}}else if(U.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===oe&&Ya(we)===U.type){o(H,U.sibling),te=p(U,Z.props),gl(te,Z),te.return=H,H=te;break e}o(H,U);break}else i(H,U);U=U.sibling}Z.type===R?(te=ns(Z.props.children,H.mode,te,Z.key),te.return=H,H=te):(te=Za(Z.type,Z.key,Z.props,null,H.mode,te),gl(te,Z),te.return=H,H=te)}return j(H);case O:e:{for(we=Z.key;U!==null;){if(U.key===we)if(U.tag===4&&U.stateNode.containerInfo===Z.containerInfo&&U.stateNode.implementation===Z.implementation){o(H,U.sibling),te=p(U,Z.children||[]),te.return=H,H=te;break e}else{o(H,U);break}else i(H,U);U=U.sibling}te=ul(Z,H.mode,te),te.return=H,H=te}return j(H);case oe:return Z=Ya(Z),nt(H,U,Z,te)}if(Ot(Z))return ge(H,U,Z,te);if(ze(Z)){if(we=ze(Z),typeof we!="function")throw Error(r(150));return Z=we.call(Z),Se(H,U,Z,te)}if(typeof Z.then=="function")return nt(H,U,ou(Z),te);if(Z.$$typeof===k)return nt(H,U,iu(H,Z),te);lu(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,U!==null&&U.tag===6?(o(H,U.sibling),te=p(U,Z),te.return=H,H=te):(o(H,U),te=Vr(Z,H.mode,te),te.return=H,H=te),j(H)):o(H,U)}return function(H,U,Z,te){try{pl=0;var we=nt(H,U,Z,te);return Gr=null,we}catch(ye){if(ye===Zr||ye===au)throw ye;var Ge=rn(29,ye,null,H.mode);return Ge.lanes=te,Ge.return=H,Ge}}}var Ja=og(!0),lg=og(!1),$s=!1;function uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=$a(t),Hs(t,null,o),i}return ki(t,u,i,o),$a(t)}function yl(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Ac(t,o)}}function hh(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var j={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=j:v=v.next=j,o=o.next}while(o!==null);v===null?p=v=i:v=v.next=i}else p=v=i;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var fh=!1;function vl(){if(fh){var t=$r;if(t!==null)throw t}}function xl(t,i,o,u){fh=!1;var p=t.updateQueue;$s=!1;var v=p.firstBaseUpdate,j=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var D=C,G=D.next;D.next=null,j===null?v=G:j.next=G,j=D;var J=t.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==j&&(C===null?J.firstBaseUpdate=G:C.next=G,J.lastBaseUpdate=D))}if(v!==null){var ie=p.baseState;j=0,J=G=D=null,C=v;do{var K=C.lane&-536870913,W=K!==C.lane;if(W?(He&K)===K:(u&K)===K){K!==0&&K===qr&&(fh=!0),J!==null&&(J=J.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ge=t,Se=C;K=i;var nt=o;switch(Se.tag){case 1:if(ge=Se.payload,typeof ge=="function"){ie=ge.call(nt,ie,K);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Se.payload,K=typeof ge=="function"?ge.call(nt,ie,K):ge,K==null)break e;ie=S({},ie,K);break e;case 2:$s=!0}}K=C.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=p.callbacks,W===null?p.callbacks=[K]:W.push(K))}else W={lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(G=J=W,D=ie):J=J.next=W,j|=K;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;W=C,C=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);J===null&&(D=ie),p.baseState=D,p.firstBaseUpdate=G,p.lastBaseUpdate=J,v===null&&(p.shared.lanes=0),Xs|=j,t.lanes=j,t.memoizedState=ie}}function cg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function ug(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)cg(o[t],i)}var Fr=B(null),cu=B(0);function dg(t,i){t=fs,re(cu,t),re(Fr,i),fs=t|i.baseLanes}function mh(){re(cu,fs),re(Fr,Fr.current)}function ph(){fs=cu.current,X(Fr),X(cu)}var kn=B(null),Xn=null;function Fs(t){var i=t.alternate;re(Ct,Ct.current&1),re(kn,t),Xn===null&&(i===null||Fr.current!==null||i.memoizedState!==null)&&(Xn=t)}function gh(t){re(Ct,Ct.current),re(kn,t),Xn===null&&(Xn=t)}function hg(t){t.tag===22?(re(Ct,Ct.current),re(kn,t),Xn===null&&(Xn=t)):Ks()}function Ks(){re(Ct,Ct.current),re(kn,kn.current)}function Mn(t){X(kn),Xn===t&&(Xn=null),X(Ct)}var Ct=B(0);function uu(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sf(o)||jf(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var as=0,Re=null,et=null,Pt=null,du=!1,Kr=!1,Qa=!1,hu=0,_l=0,Wr=null,D1=0;function St(){throw Error(r(321))}function yh(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Gt(t[o],i[o]))return!1;return!0}function vh(t,i,o,u,p,v){return as=v,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Wg:kh,Qa=!1,v=o(u,p),Qa=!1,Kr&&(v=mg(i,o,u,p)),fg(t),v}function fg(t){$.H=Sl;var i=et!==null&&et.next!==null;if(as=0,Pt=et=Re=null,du=!1,_l=0,Wr=null,i)throw Error(r(300));t===null||zt||(t=t.dependencies,t!==null&&nu(t)&&(zt=!0))}function mg(t,i,o,u){Re=t;var p=0;do{if(Kr&&(Wr=null),_l=0,Kr=!1,25<=p)throw Error(r(301));if(p+=1,Pt=et=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=Yg,v=i(o,u)}while(Kr);return v}function B1(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Re.flags|=1024),i}function xh(){var t=hu!==0;return hu=0,t}function _h(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function bh(t){if(du){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}du=!1}as=0,Pt=et=Re=null,Kr=!1,_l=hu=0,Wr=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Re.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function At(){if(et===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Pt===null?Re.memoizedState:Pt.next;if(i!==null)Pt=i,et=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Pt===null?Re.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=_l;return _l+=1,Wr===null&&(Wr=[]),t=sg(Wr,t,i),i=Re,(Pt===null?i.memoizedState:Pt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Wg:kh),t}function mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===k)return Xt(t)}throw Error(r(438,String(t)))}function wh(t){var i=null,o=Re.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=fu(),Re.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=ke;return i.index++,o}function rs(t,i){return typeof i=="function"?i(t):i}function pu(t){var i=At();return Sh(i,et,t)}function Sh(t,i,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var j=p.next;p.next=v.next,v.next=j}i.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{i=p.next;var C=j=null,D=null,G=i,J=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(He&ie)===ie:(as&ie)===ie){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===qr&&(J=!0);else if((as&K)===K){G=G.next,K===qr&&(J=!0);continue}else ie={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(C=D=ie,j=v):D=D.next=ie,Re.lanes|=K,Xs|=K;ie=G.action,Qa&&o(v,ie),v=G.hasEagerState?G.eagerState:o(v,ie)}else K={lane:ie,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(C=D=K,j=v):D=D.next=K,Re.lanes|=ie,Xs|=ie;G=G.next}while(G!==null&&G!==i);if(D===null?j=v:D.next=C,!Gt(v,t.memoizedState)&&(zt=!0,J&&(o=$r,o!==null)))throw o;t.memoizedState=v,t.baseState=j,t.baseQueue=D,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function jh(t){var i=At(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,p=o.pending,v=i.memoizedState;if(p!==null){o.pending=null;var j=p=p.next;do v=t(v,j.action),j=j.next;while(j!==p);Gt(v,i.memoizedState)||(zt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,u]}function pg(t,i,o){var u=Re,p=At(),v=Be;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=i();var j=!Gt((et||p).memoizedState,o);if(j&&(p.memoizedState=o,zt=!0),p=p.queue,Nh(vg.bind(null,u,p,t),[t]),p.getSnapshot!==i||j||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Yr(9,{destroy:void 0},yg.bind(null,u,p,o,i),null),st===null)throw Error(r(349));v||(as&127)!==0||gg(u,i,o)}return o}function gg(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=Re.updateQueue,i===null?(i=fu(),Re.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function yg(t,i,o,u){i.value=o,i.getSnapshot=u,xg(i)&&_g(t)}function vg(t,i,o){return o(function(){xg(i)&&_g(t)})}function xg(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Gt(t,o)}catch{return!0}}function _g(t){var i=Wn(t,2);i!==null&&Nn(i,t,2)}function Th(t){var i=mn();if(typeof t=="function"){var o=t;if(t=o(),Qa){si(!0);try{o()}finally{si(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},i}function bg(t,i,o,u){return t.baseState=o,Sh(t,et,typeof u=="function"?u:rs)}function U1(t,i,o,u,p){if(vu(t))throw Error(r(485));if(t=i.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){v.listeners.push(j)}};$.T!==null?o(!0):v.isTransition=!1,u(v),o=i.pending,o===null?(v.next=i.pending=v,wg(i,v)):(v.next=o.next,i.pending=o.next=v)}}function wg(t,i){var o=i.action,u=i.payload,p=t.state;if(i.isTransition){var v=$.T,j={};$.T=j;try{var C=o(p,u),D=$.S;D!==null&&D(j,C),Sg(t,i,C)}catch(G){Eh(t,i,G)}finally{v!==null&&j.types!==null&&(v.types=j.types),$.T=v}}else try{v=o(p,u),Sg(t,i,v)}catch(G){Eh(t,i,G)}}function Sg(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){jg(t,i,u)},function(u){return Eh(t,i,u)}):jg(t,i,o)}function jg(t,i,o){i.status="fulfilled",i.value=o,Tg(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,wg(t,o)))}function Eh(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Tg(i),i=i.next;while(i!==u)}t.action=null}function Tg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Eg(t,i){return i}function Ng(t,i){if(Be){var o=st.formState;if(o!==null){e:{var u=Re;if(Be){if(Ze){t:{for(var p=Ze,v=wn;p.nodeType!==8;){if(!v){p=null;break t}if(p=Jn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ze=Jn(p.nextSibling),u=p.data==="F!";break e}}Pi(u)}u=!1}u&&(i=o[0])}}return o=mn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:i},o.queue=u,o=Gg.bind(null,Re,u),u.dispatch=o,u=Th(!1),v=Lh.bind(null,Re,!1,u.queue),u=mn(),p={state:i,dispatch:null,action:t,pending:null},u.queue=p,o=U1.bind(null,Re,p,v,o),p.dispatch=o,u.memoizedState=t,[i,o,!1]}function Cg(t){var i=At();return Ag(i,et,t)}function Ag(t,i,o){if(i=Sh(t,i,Eg)[0],t=pu(rs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=bl(i)}catch(j){throw j===Zr?au:j}else u=i;i=At();var p=i.queue,v=p.dispatch;return o!==i.memoizedState&&(Re.flags|=2048,Yr(9,{destroy:void 0},V1.bind(null,p,o),null)),[u,v,t]}function V1(t,i){t.action=i}function Rg(t){var i=At(),o=et;if(o!==null)return Ag(i,o,t);At(),i=i.memoizedState,o=At();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function Yr(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=Re.updateQueue,i===null&&(i=fu(),Re.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function Og(){return At().memoizedState}function gu(t,i,o,u){var p=mn();Re.flags|=t,p.memoizedState=Yr(1|i,{destroy:void 0},o,u===void 0?null:u)}function yu(t,i,o,u){var p=At();u=u===void 0?null:u;var v=p.memoizedState.inst;et!==null&&u!==null&&yh(u,et.memoizedState.deps)?p.memoizedState=Yr(i,v,o,u):(Re.flags|=t,p.memoizedState=Yr(1|i,v,o,u))}function Lg(t,i){gu(8390656,8,t,i)}function Nh(t,i){yu(2048,8,t,i)}function I1(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=fu(),Re.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function kg(t){var i=At().memoizedState;return I1({ref:i,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Mg(t,i){return yu(4,2,t,i)}function Pg(t,i){return yu(4,4,t,i)}function zg(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dg(t,i,o){o=o!=null?o.concat([t]):null,yu(4,4,zg.bind(null,i,t),o)}function Ch(){}function Bg(t,i){var o=At();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&yh(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function Ug(t,i){var o=At();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&yh(i,u[1]))return u[0];if(u=t(),Qa){si(!0);try{t()}finally{si(!1)}}return o.memoizedState=[u,i],u}function Ah(t,i,o){return o===void 0||(as&1073741824)!==0&&(He&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=V0(),Re.lanes|=t,Xs|=t,o)}function Vg(t,i,o,u){return Gt(o,i)?o:Fr.current!==null?(t=Ah(t,o,u),Gt(t,i)||(zt=!0),t):(as&42)===0||(as&1073741824)!==0&&(He&261930)===0?(zt=!0,t.memoizedState=o):(t=V0(),Re.lanes|=t,Xs|=t,i)}function Ig(t,i,o,u,p){var v=ae.p;ae.p=v!==0&&8>v?v:8;var j=$.T,C={};$.T=C,Lh(t,!1,i,o);try{var D=p(),G=$.S;if(G!==null&&G(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=z1(D,u);wl(t,i,J,Dn(t))}else wl(t,i,u,Dn(t))}catch(ie){wl(t,i,{then:function(){},status:"rejected",reason:ie},Dn())}finally{ae.p=v,j!==null&&C.types!==null&&(j.types=C.types),$.T=j}}function H1(){}function Rh(t,i,o,u){if(t.tag!==5)throw Error(r(476));var p=Hg(t).queue;Ig(t,p,i,se,o===null?H1:function(){return qg(t),o(u)})}function Hg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:se},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qg(t){var i=Hg(t);i.next===null&&(i=t.alternate.memoizedState),wl(t,i.next.queue,{},Dn())}function Oh(){return Xt(Ul)}function $g(){return At().memoizedState}function Zg(){return At().memoizedState}function q1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Dn();t=Zs(o);var u=Gs(i,t,o);u!==null&&(Nn(u,i,o),yl(u,i,o)),i={cache:rh()},t.payload=i;return}i=i.return}}function $1(t,i,o){var u=Dn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vu(t)?Fg(i,o):(o=ol(t,i,o,u),o!==null&&(Nn(o,t,u),Kg(o,i,u)))}function Gg(t,i,o){var u=Dn();wl(t,i,o,u)}function wl(t,i,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(vu(t))Fg(i,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var j=i.lastRenderedState,C=v(j,o);if(p.hasEagerState=!0,p.eagerState=C,Gt(C,j))return ki(t,i,p,0),st===null&&qa(),!1}catch{}if(o=ol(t,i,p,u),o!==null)return Nn(o,t,u),Kg(o,i,u),!0}return!1}function Lh(t,i,o,u){if(u={lane:2,revertLane:df(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(i)throw Error(r(479))}else i=ol(t,o,u,2),i!==null&&Nn(i,t,2)}function vu(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Fg(t,i){Kr=du=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Kg(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Ac(t,o)}}var Sl={readContext:Xt,use:mu,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};Sl.useEffectEvent=St;var Wg={readContext:Xt,use:mu,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Lg,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,gu(4194308,4,zg.bind(null,i,t),o)},useLayoutEffect:function(t,i){return gu(4194308,4,t,i)},useInsertionEffect:function(t,i){gu(4,2,t,i)},useMemo:function(t,i){var o=mn();i=i===void 0?null:i;var u=t();if(Qa){si(!0);try{t()}finally{si(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=mn();if(o!==void 0){var p=o(i);if(Qa){si(!0);try{o(i)}finally{si(!1)}}}else p=i;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=$1.bind(null,Re,t),[u.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Th(t);var i=t.queue,o=Gg.bind(null,Re,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Ch,useDeferredValue:function(t,i){var o=mn();return Ah(o,t,i)},useTransition:function(){var t=Th(!1);return t=Ig.bind(null,Re,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=Re,p=mn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),st===null)throw Error(r(349));(He&127)!==0||gg(u,i,o)}p.memoizedState=o;var v={value:o,getSnapshot:i};return p.queue=v,Lg(vg.bind(null,u,v,t),[t]),u.flags|=2048,Yr(9,{destroy:void 0},yg.bind(null,u,v,o,i),null),o},useId:function(){var t=mn(),i=st.identifierPrefix;if(Be){var o=de,u=ne;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=hu++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=D1++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Oh,useFormState:Ng,useActionState:Ng,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Lh.bind(null,Re,!0,o),o.dispatch=i,[t,i]},useMemoCache:wh,useCacheRefresh:function(){return mn().memoizedState=q1.bind(null,Re)},useEffectEvent:function(t){var i=mn(),o={impl:t};return i.memoizedState=o,function(){if((We&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},kh={readContext:Xt,use:mu,useCallback:Bg,useContext:Xt,useEffect:Nh,useImperativeHandle:Dg,useInsertionEffect:Mg,useLayoutEffect:Pg,useMemo:Ug,useReducer:pu,useRef:Og,useState:function(){return pu(rs)},useDebugValue:Ch,useDeferredValue:function(t,i){var o=At();return Vg(o,et.memoizedState,t,i)},useTransition:function(){var t=pu(rs)[0],i=At().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:pg,useId:$g,useHostTransitionStatus:Oh,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,i){var o=At();return bg(o,et,t,i)},useMemoCache:wh,useCacheRefresh:Zg};kh.useEffectEvent=kg;var Yg={readContext:Xt,use:mu,useCallback:Bg,useContext:Xt,useEffect:Nh,useImperativeHandle:Dg,useInsertionEffect:Mg,useLayoutEffect:Pg,useMemo:Ug,useReducer:jh,useRef:Og,useState:function(){return jh(rs)},useDebugValue:Ch,useDeferredValue:function(t,i){var o=At();return et===null?Ah(o,t,i):Vg(o,et.memoizedState,t,i)},useTransition:function(){var t=jh(rs)[0],i=At().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:pg,useId:$g,useHostTransitionStatus:Oh,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,i){var o=At();return et!==null?bg(o,et,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:wh,useCacheRefresh:Zg};Yg.useEffectEvent=kg;function Mh(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:S({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ph={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=Dn(),p=Zs(u);p.payload=i,o!=null&&(p.callback=o),i=Gs(t,p,u),i!==null&&(Nn(i,t,u),yl(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=Dn(),p=Zs(u);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Gs(t,p,u),i!==null&&(Nn(i,t,u),yl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Dn(),u=Zs(o);u.tag=2,i!=null&&(u.callback=i),i=Gs(t,u,o),i!==null&&(Nn(i,t,o),yl(i,t,o))}};function Xg(t,i,o,u,p,v,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,j):i.prototype&&i.prototype.isPureReactComponent?!Bs(o,u)||!Bs(p,v):!0}function Jg(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&Ph.enqueueReplaceState(i,i.state,null)}function er(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=S({},o));for(var p in t)o[p]===void 0&&(o[p]=t[p])}return o}function Qg(t){Ha(t)}function e0(t){console.error(t)}function t0(t){Ha(t)}function xu(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function n0(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function zh(t,i,o){return o=Zs(o),o.tag=3,o.payload={element:null},o.callback=function(){xu(t,i)},o}function i0(t){return t=Zs(t),t.tag=3,t}function s0(t,i,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){n0(i,o,u)}}var j=o.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){n0(i,o,u),typeof p!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function Z1(t,i,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Hr(i,o,p,!0),o=kn.current,o!==null){switch(o.tag){case 31:case 13:return Xn===null?Ou():o.alternate===null&&jt===0&&(jt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===ru?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),lf(t,u,p)),!1;case 22:return o.flags|=65536,u===ru?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),lf(t,u,p)),!1}throw Error(r(435,o.tag))}return lf(t,u,p),Ou(),!1}if(Be)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==Ir&&(t=Error(r(422),{cause:u}),Ga(c(t,o)))):(u!==Ir&&(i=Error(r(423),{cause:u}),Ga(c(i,o))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=c(u,o),p=zh(t.stateNode,u,p),hh(t,p),jt!==4&&(jt=2)),!1;var v=Error(r(520),{cause:u});if(v=c(v,o),Ol===null?Ol=[v]:Ol.push(v),jt!==4&&(jt=2),i===null)return!0;u=c(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=p&-p,o.lanes|=t,t=zh(o.stateNode,u,t),hh(o,t),!1;case 1:if(i=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Js===null||!Js.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=i0(p),s0(p,t,o,u),hh(o,p),!1}o=o.return}while(o!==null);return!1}var Dh=Error(r(461)),zt=!1;function Jt(t,i,o,u){i.child=t===null?lg(i,null,o,u):Ja(i,t.child,o,u)}function a0(t,i,o,u,p){o=o.render;var v=i.ref;if("ref"in u){var j={};for(var C in u)C!=="ref"&&(j[C]=u[C])}else j=u;return Ka(i),u=vh(t,i,o,j,v,p),C=xh(),t!==null&&!zt?(_h(t,i,p),os(t,i,p)):(Be&&C&&It(i),i.flags|=1,Jt(t,i,u,p),i.child)}function r0(t,i,o,u,p){if(t===null){var v=o.type;return typeof v=="function"&&!Ur(v)&&v.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=v,o0(t,i,v,u,p)):(t=Za(o.type,null,u,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!Zh(t,p)){var j=v.memoizedProps;if(o=o.compare,o=o!==null?o:Bs,o(j,u)&&t.ref===i.ref)return os(t,i,p)}return i.flags|=1,t=Yn(v,u),t.ref=i.ref,t.return=i,i.child=t}function o0(t,i,o,u,p){if(t!==null){var v=t.memoizedProps;if(Bs(v,u)&&t.ref===i.ref)if(zt=!1,i.pendingProps=u=v,Zh(t,p))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,os(t,i,p)}return Bh(t,i,o,u,p)}function l0(t,i,o,u){var p=u.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,t!==null){for(u=i.child=t.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,i.child=null;return c0(t,i,v,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&su(i,v!==null?v.cachePool:null),v!==null?dg(i,v):mh(),hg(i);else return u=i.lanes=536870912,c0(t,i,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(su(i,v.cachePool),dg(i,v),Ks(),i.memoizedState=null):(t!==null&&su(i,null),mh(),Ks());return Jt(t,i,p,o),i.child}function jl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function c0(t,i,o,u,p){var v=lh();return v=v===null?null:{parent:Mt._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},t!==null&&su(i,null),mh(),hg(i),t!==null&&Hr(t,i,u,!0),i.childLanes=p,null}function _u(t,i){return i=wu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function u0(t,i,o){return Ja(i,t.child,null,o),t=_u(i,i.pendingProps),t.flags|=2,Mn(i),i.memoizedState=null,t}function G1(t,i,o){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(u.mode==="hidden")return t=_u(i,u),i.lanes=536870912,jl(null,t);if(gh(i),(t=Ze)?(t=wy(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:F!==null?{id:ne,overflow:de}:null,retryLane:536870912,hydrationErrors:null},o=cl(t),o.return=i,i.child=o,$e=i,Ze=null)):t=null,t===null)throw Pi(i);return i.lanes=536870912,null}return _u(i,u)}var v=t.memoizedState;if(v!==null){var j=v.dehydrated;if(gh(i),p)if(i.flags&256)i.flags&=-257,i=u0(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(zt||Hr(t,i,o,!1),p=(o&t.childLanes)!==0,zt||p){if(u=st,u!==null&&(j=Rc(u,o),j!==0&&j!==v.retryLane))throw v.retryLane=j,Wn(t,j),Nn(u,t,j),Dh;Ou(),i=u0(t,i,o)}else t=v.treeContext,Ze=Jn(j.nextSibling),$e=i,Be=!0,Mi=null,wn=!1,t!==null&&fn(i,t),i=_u(i,u),i.flags|=4096;return i}return t=Yn(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function bu(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function Bh(t,i,o,u,p){return Ka(i),o=vh(t,i,o,u,void 0,p),u=xh(),t!==null&&!zt?(_h(t,i,p),os(t,i,p)):(Be&&u&&It(i),i.flags|=1,Jt(t,i,o,p),i.child)}function d0(t,i,o,u,p,v){return Ka(i),i.updateQueue=null,o=mg(i,u,o,p),fg(t),u=xh(),t!==null&&!zt?(_h(t,i,v),os(t,i,v)):(Be&&u&&It(i),i.flags|=1,Jt(t,i,o,v),i.child)}function h0(t,i,o,u,p){if(Ka(i),i.stateNode===null){var v=ts,j=o.contextType;typeof j=="object"&&j!==null&&(v=Xt(j)),v=new o(u,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ph,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=u,v.state=i.memoizedState,v.refs={},uh(i),j=o.contextType,v.context=typeof j=="object"&&j!==null?Xt(j):ts,v.state=i.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(Mh(i,o,j,u),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(j=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),j!==v.state&&Ph.enqueueReplaceState(v,v.state,null),xl(i,u,v,p),vl(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){v=i.stateNode;var C=i.memoizedProps,D=er(o,C);v.props=D;var G=v.context,J=o.contextType;j=ts,typeof J=="object"&&J!==null&&(j=Xt(J));var ie=o.getDerivedStateFromProps;J=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||G!==j)&&Jg(i,v,u,j),$s=!1;var K=i.memoizedState;v.state=K,xl(i,u,v,p),vl(),G=i.memoizedState,C||K!==G||$s?(typeof ie=="function"&&(Mh(i,o,ie,u),G=i.memoizedState),(D=$s||Xg(i,o,D,u,K,G,j))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),v.props=u,v.state=G,v.context=j,u=D):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,dh(t,i),j=i.memoizedProps,J=er(o,j),v.props=J,ie=i.pendingProps,K=v.context,G=o.contextType,D=ts,typeof G=="object"&&G!==null&&(D=Xt(G)),C=o.getDerivedStateFromProps,(G=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j!==ie||K!==D)&&Jg(i,v,u,D),$s=!1,K=i.memoizedState,v.state=K,xl(i,u,v,p),vl();var W=i.memoizedState;j!==ie||K!==W||$s||t!==null&&t.dependencies!==null&&nu(t.dependencies)?(typeof C=="function"&&(Mh(i,o,C,u),W=i.memoizedState),(J=$s||Xg(i,o,J,u,K,W,D)||t!==null&&t.dependencies!==null&&nu(t.dependencies))?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,W,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,W,D)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||j===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),v.props=u,v.state=W,v.context=D,u=J):(typeof v.componentDidUpdate!="function"||j===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),u=!1)}return v=u,bu(t,i),u=(i.flags&128)!==0,v||u?(v=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&u?(i.child=Ja(i,t.child,null,p),i.child=Ja(i,null,o,p)):Jt(t,i,o,p),i.memoizedState=v.state,t=i.child):t=os(t,i,p),t}function f0(t,i,o,u){return is(),i.flags|=256,Jt(t,i,o,u),i.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:ng()}}function Ih(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=zn),t}function m0(t,i,o){var u=i.pendingProps,p=!1,v=(i.flags&128)!==0,j;if((j=v)||(j=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),j&&(p=!0,i.flags&=-129),j=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(p?Fs(i):Ks(),(t=Ze)?(t=wy(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:F!==null?{id:ne,overflow:de}:null,retryLane:536870912,hydrationErrors:null},o=cl(t),o.return=i,i.child=o,$e=i,Ze=null)):t=null,t===null)throw Pi(i);return jf(t)?i.lanes=32:i.lanes=536870912,null}var C=u.children;return u=u.fallback,p?(Ks(),p=i.mode,C=wu({mode:"hidden",children:C},p),u=ns(u,p,o,null),C.return=i,u.return=i,C.sibling=u,i.child=C,u=i.child,u.memoizedState=Vh(o),u.childLanes=Ih(t,j,o),i.memoizedState=Uh,jl(null,u)):(Fs(i),Hh(i,C))}var D=t.memoizedState;if(D!==null&&(C=D.dehydrated,C!==null)){if(v)i.flags&256?(Fs(i),i.flags&=-257,i=qh(t,i,o)):i.memoizedState!==null?(Ks(),i.child=t.child,i.flags|=128,i=null):(Ks(),C=u.fallback,p=i.mode,u=wu({mode:"visible",children:u.children},p),C=ns(C,p,o,null),C.flags|=2,u.return=i,C.return=i,u.sibling=C,i.child=u,Ja(i,t.child,null,o),u=i.child,u.memoizedState=Vh(o),u.childLanes=Ih(t,j,o),i.memoizedState=Uh,i=jl(null,u));else if(Fs(i),jf(C)){if(j=C.nextSibling&&C.nextSibling.dataset,j)var G=j.dgst;j=G,u=Error(r(419)),u.stack="",u.digest=j,Ga({value:u,source:null,stack:null}),i=qh(t,i,o)}else if(zt||Hr(t,i,o,!1),j=(o&t.childLanes)!==0,zt||j){if(j=st,j!==null&&(u=Rc(j,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,Wn(t,u),Nn(j,t,u),Dh;Sf(C)||Ou(),i=qh(t,i,o)}else Sf(C)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,Ze=Jn(C.nextSibling),$e=i,Be=!0,Mi=null,wn=!1,t!==null&&fn(i,t),i=Hh(i,u.children),i.flags|=4096);return i}return p?(Ks(),C=u.fallback,p=i.mode,D=t.child,G=D.sibling,u=Yn(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,G!==null?C=Yn(G,C):(C=ns(C,p,o,null),C.flags|=2),C.return=i,u.return=i,u.sibling=C,i.child=u,jl(null,u),u=i.child,C=t.child.memoizedState,C===null?C=Vh(o):(p=C.cachePool,p!==null?(D=Mt._currentValue,p=p.parent!==D?{parent:D,pool:D}:p):p=ng(),C={baseLanes:C.baseLanes|o,cachePool:p}),u.memoizedState=C,u.childLanes=Ih(t,j,o),i.memoizedState=Uh,jl(t.child,u)):(Fs(i),o=t.child,t=o.sibling,o=Yn(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(j=i.deletions,j===null?(i.deletions=[t],i.flags|=16):j.push(t)),i.child=o,i.memoizedState=null,o)}function Hh(t,i){return i=wu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wu(t,i){return t=rn(22,t,null,i),t.lanes=0,t}function qh(t,i,o){return Ja(i,t.child,null,o),t=Hh(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function p0(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),sh(t.return,i,o)}function $h(t,i,o,u,p,v){var j=t.memoizedState;j===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:v}:(j.isBackwards=i,j.rendering=null,j.renderingStartTime=0,j.last=u,j.tail=o,j.tailMode=p,j.treeForkCount=v)}function g0(t,i,o){var u=i.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var j=Ct.current,C=(j&2)!==0;if(C?(j=j&1|2,i.flags|=128):j&=1,re(Ct,j),Jt(t,i,u,o),u=Be?E:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p0(t,o,i);else if(t.tag===19)p0(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)t=o.alternate,t!==null&&uu(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),$h(i,!1,p,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&uu(t)===null){i.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}$h(i,!0,o,null,v,u);break;case"together":$h(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function os(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),Xs|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Hr(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=Yn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Yn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Zh(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nu(t)))}function F1(t,i,o){switch(i.tag){case 3:ht(i,i.stateNode.containerInfo),qs(i,Mt,t.memoizedState.cache),is();break;case 27:case 5:qi(i);break;case 4:ht(i,i.stateNode.containerInfo);break;case 10:qs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,gh(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Fs(i),i.flags|=128,null):(o&i.child.childLanes)!==0?m0(t,i,o):(Fs(i),t=os(t,i,o),t!==null?t.sibling:null);Fs(i);break;case 19:var p=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Hr(t,i,o,!1),u=(o&i.childLanes)!==0),p){if(u)return g0(t,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),re(Ct,Ct.current),u)break;return null;case 22:return i.lanes=0,l0(t,i,o,i.pendingProps);case 24:qs(i,Mt,t.memoizedState.cache)}return os(t,i,o)}function y0(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!Zh(t,o)&&(i.flags&128)===0)return zt=!1,F1(t,i,o);zt=(t.flags&131072)!==0}else zt=!1,Be&&(i.flags&1048576)!==0&&Oe(i,E,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=Ya(i.elementType),i.type=t,typeof t=="function")Ur(t)?(u=er(t,u),i.tag=1,i=h0(null,i,t,u,o)):(i.tag=0,i=Bh(null,i,t,u,o));else{if(t!=null){var p=t.$$typeof;if(p===Y){i.tag=11,i=a0(null,i,t,u,o);break e}else if(p===Q){i.tag=14,i=r0(null,i,t,u,o);break e}}throw i=rt(t)||t,Error(r(306,i,""))}}return i;case 0:return Bh(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,p=er(u,i.pendingProps),h0(t,i,u,p,o);case 3:e:{if(ht(i,i.stateNode.containerInfo),t===null)throw Error(r(387));u=i.pendingProps;var v=i.memoizedState;p=v.element,dh(t,i),xl(i,u,null,o);var j=i.memoizedState;if(u=j.cache,qs(i,Mt,u),u!==v.cache&&ah(i,[Mt],o,!0),vl(),u=j.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:j.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=f0(t,i,u,o);break e}else if(u!==p){p=c(Error(r(424)),i),Ga(p),i=f0(t,i,u,o);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ze=Jn(t.firstChild),$e=i,Be=!0,Mi=null,wn=!0,o=lg(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(is(),u===p){i=os(t,i,o);break e}Jt(t,i,u,o)}i=i.child}return i;case 26:return bu(t,i),t===null?(o=Cy(i.type,null,i.pendingProps,null))?i.memoizedState=o:Be||(o=i.type,t=i.pendingProps,u=Bu(fe.current).createElement(o),u[Lt]=i,u[Zt]=t,Qt(u,o,t),kt(u),i.stateNode=u):i.memoizedState=Cy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return qi(i),t===null&&Be&&(u=i.stateNode=Ty(i.type,i.pendingProps,fe.current),$e=i,wn=!0,p=Ze,na(i.type)?(Tf=p,Ze=Jn(u.firstChild)):Ze=p),Jt(t,i,i.pendingProps.children,o),bu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((p=u=Ze)&&(u=Sw(u,i.type,i.pendingProps,wn),u!==null?(i.stateNode=u,$e=i,Ze=Jn(u.firstChild),wn=!1,p=!0):p=!1),p||Pi(i)),qi(i),p=i.type,v=i.pendingProps,j=t!==null?t.memoizedProps:null,u=v.children,_f(p,v)?u=null:j!==null&&_f(p,j)&&(i.flags|=32),i.memoizedState!==null&&(p=vh(t,i,B1,null,null,o),Ul._currentValue=p),bu(t,i),Jt(t,i,u,o),i.child;case 6:return t===null&&Be&&((t=o=Ze)&&(o=jw(o,i.pendingProps,wn),o!==null?(i.stateNode=o,$e=i,Ze=null,t=!0):t=!1),t||Pi(i)),null;case 13:return m0(t,i,o);case 4:return ht(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ja(i,null,u,o):Jt(t,i,u,o),i.child;case 11:return a0(t,i,i.type,i.pendingProps,o);case 7:return Jt(t,i,i.pendingProps,o),i.child;case 8:return Jt(t,i,i.pendingProps.children,o),i.child;case 12:return Jt(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,qs(i,i.type,u.value),Jt(t,i,u.children,o),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Ka(i),p=Xt(p),u=u(p),i.flags|=1,Jt(t,i,u,o),i.child;case 14:return r0(t,i,i.type,i.pendingProps,o);case 15:return o0(t,i,i.type,i.pendingProps,o);case 19:return g0(t,i,o);case 31:return G1(t,i,o);case 22:return l0(t,i,o,i.pendingProps);case 24:return Ka(i),u=Xt(Mt),t===null?(p=lh(),p===null&&(p=st,v=rh(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),i.memoizedState={parent:u,cache:p},uh(i),qs(i,Mt,p)):((t.lanes&o)!==0&&(dh(t,i),xl(i,null,null,o),vl()),p=t.memoizedState,v=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),qs(i,Mt,u)):(u=v.cache,qs(i,Mt,u),u!==p.cache&&ah(i,[Mt],o,!0))),Jt(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ls(t){t.flags|=4}function Gh(t,i,o,u,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if($0())t.flags|=8192;else throw Xa=ru,ch}else t.flags&=-16777217}function v0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ky(i))if($0())t.flags|=8192;else throw Xa=ru,ch}function Su(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nc():536870912,t.lanes|=i,eo|=i)}function Tl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function K1(t,i,o){var u=i.pendingProps;switch(wt(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ss(Mt),ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(di(i)?ls(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hl())),ut(i),null;case 26:var p=i.type,v=i.memoizedState;return t===null?(ls(i),v!==null?(ut(i),v0(i,v)):(ut(i),Gh(i,p,null,u,o))):v?v!==t.memoizedState?(ls(i),ut(i),v0(i,v)):(ut(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&ls(i),ut(i),Gh(i,p,t,u,o)),null;case 27:if(Ss(i),o=fe.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ls(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return ut(i),null}t=ue.current,di(i)?dl(i):(t=Ty(p,u,o),i.stateNode=t,ls(i))}return ut(i),null;case 5:if(Ss(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ls(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return ut(i),null}if(v=ue.current,di(i))dl(i);else{var j=Bu(fe.current);switch(v){case 1:v=j.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=j.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=j.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?j.createElement("select",{is:u.is}):j.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?j.createElement(p,{is:u.is}):j.createElement(p)}}v[Lt]=i,v[Zt]=u;e:for(j=i.child;j!==null;){if(j.tag===5||j.tag===6)v.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===i)break e;for(;j.sibling===null;){if(j.return===null||j.return===i)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}i.stateNode=v;e:switch(Qt(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ls(i)}}return ut(i),Gh(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&ls(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(t=fe.current,di(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,p=$e,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[Lt]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||my(t.nodeValue,o)),t||Pi(i,!0)}else t=Bu(t).createTextNode(u),t[Lt]=i,i.stateNode=t}return ut(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(u=di(i),o!==null){if(t===null){if(!u)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Lt]=i}else is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),t=!1}else o=hl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ut(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=di(i),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Lt]=i}else is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),p=!1}else p=hl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),Su(i,i.updateQueue),ut(i),null);case 4:return ft(),t===null&&pf(i.stateNode.containerInfo),ut(i),null;case 10:return ss(i.type),ut(i),null;case 19:if(X(Ct),u=i.memoizedState,u===null)return ut(i),null;if(p=(i.flags&128)!==0,v=u.rendering,v===null)if(p)Tl(u,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=uu(t),v!==null){for(i.flags|=128,Tl(u,!1),t=v.updateQueue,i.updateQueue=t,Su(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)ll(o,t),o=o.sibling;return re(Ct,Ct.current&1|2),Be&&xe(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&un()>Cu&&(i.flags|=128,p=!0,Tl(u,!1),i.lanes=4194304)}else{if(!p)if(t=uu(v),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,Su(i,t),Tl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Be)return ut(i),null}else 2*un()-u.renderingStartTime>Cu&&o!==536870912&&(i.flags|=128,p=!0,Tl(u,!1),i.lanes=4194304);u.isBackwards?(v.sibling=i.child,i.child=v):(t=u.last,t!==null?t.sibling=v:i.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=un(),t.sibling=null,o=Ct.current,re(Ct,p?o&1|2:o&1),Be&&xe(i,u.treeForkCount),t):(ut(i),null);case 22:case 23:return Mn(i),ph(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),o=i.updateQueue,o!==null&&Su(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&X(Wa),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ss(Mt),ut(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function W1(t,i){switch(wt(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ss(Mt),ft(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ss(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(r(340));is()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Mn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));is()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Ct),null;case 4:return ft(),null;case 10:return ss(i.type),null;case 22:case 23:return Mn(i),ph(),t!==null&&X(Wa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ss(Mt),null;case 25:return null;default:return null}}function x0(t,i){switch(wt(i),i.tag){case 3:ss(Mt),ft();break;case 26:case 27:case 5:Ss(i);break;case 4:ft();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:X(Ct);break;case 10:ss(i.type);break;case 22:case 23:Mn(i),ph(),t!==null&&X(Wa);break;case 24:ss(Mt)}}function El(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&t)===t){u=void 0;var v=o.create,j=o.inst;u=v(),j.destroy=u}o=o.next}while(o!==p)}}catch(C){Je(i,i.return,C)}}function Ws(t,i,o){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var j=u.inst,C=j.destroy;if(C!==void 0){j.destroy=void 0,p=i;var D=o,G=C;try{G()}catch(J){Je(p,D,J)}}}u=u.next}while(u!==v)}}catch(J){Je(i,i.return,J)}}function _0(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{ug(i,o)}catch(u){Je(t,t.return,u)}}}function b0(t,i,o){o.props=er(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Je(t,i,u)}}function Nl(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(p){Je(t,i,p)}}function Di(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Je(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Je(t,i,p)}else o.current=null}function w0(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Je(t,t.return,p)}}function Fh(t,i,o){try{var u=t.stateNode;yw(u,t.type,o,i),u[Zt]=i}catch(p){Je(t,t.return,p)}}function S0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&na(t.type)||t.tag===4}function Kh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&na(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=vn));else if(u!==4&&(u===27&&na(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(Wh(t,i,o),t=t.sibling;t!==null;)Wh(t,i,o),t=t.sibling}function ju(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&na(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(ju(t,i,o),t=t.sibling;t!==null;)ju(t,i,o),t=t.sibling}function j0(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Qt(i,u,o),i[Lt]=t,i[Zt]=o}catch(v){Je(t,t.return,v)}}var cs=!1,Dt=!1,Yh=!1,T0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Y1(t,i){if(t=t.containerInfo,vf=Zu,t=Ba(t),Ai(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var j=0,C=-1,D=-1,G=0,J=0,ie=t,K=null;t:for(;;){for(var W;ie!==o||p!==0&&ie.nodeType!==3||(C=j+p),ie!==v||u!==0&&ie.nodeType!==3||(D=j+u),ie.nodeType===3&&(j+=ie.nodeValue.length),(W=ie.firstChild)!==null;)K=ie,ie=W;for(;;){if(ie===t)break t;if(K===o&&++G===p&&(C=j),K===v&&++J===u&&(D=j),(W=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=W}o=C===-1||D===-1?null:{start:C,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(xf={focusedElem:t,selectionRange:o},Zu=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)p=t[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,o=i,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var ge=er(o.type,p);t=u.getSnapshotBeforeUpdate(ge,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Je(o,o.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)wf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function E0(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ds(t,o),u&4&&El(5,o);break;case 1:if(ds(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(j){Je(o,o.return,j)}else{var p=er(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(j){Je(o,o.return,j)}}u&64&&_0(o),u&512&&Nl(o,o.return);break;case 3:if(ds(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{ug(t,i)}catch(j){Je(o,o.return,j)}}break;case 27:i===null&&u&4&&j0(o);case 26:case 5:ds(t,o),i===null&&u&4&&w0(o),u&512&&Nl(o,o.return);break;case 12:ds(t,o);break;case 31:ds(t,o),u&4&&A0(t,o);break;case 13:ds(t,o),u&4&&R0(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=aw.bind(null,o),Tw(t,o))));break;case 22:if(u=o.memoizedState!==null||cs,!u){i=i!==null&&i.memoizedState!==null||Dt,p=cs;var v=Dt;cs=u,(Dt=i)&&!v?hs(t,o,(o.subtreeFlags&8772)!==0):ds(t,o),cs=p,Dt=v}break;case 30:break;default:ds(t,o)}}function N0(t){var i=t.alternate;i!==null&&(t.alternate=null,N0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&$o(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,Sn=!1;function us(t,i,o){for(o=o.child;o!==null;)C0(t,i,o),o=o.sibling}function C0(t,i,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(js,o)}catch{}switch(o.tag){case 26:Dt||Di(o,i),us(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Di(o,i);var u=pt,p=Sn;na(o.type)&&(pt=o.stateNode,Sn=!1),us(t,i,o),zl(o.stateNode),pt=u,Sn=p;break;case 5:Dt||Di(o,i);case 6:if(u=pt,p=Sn,pt=null,us(t,i,o),pt=u,Sn=p,pt!==null)if(Sn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(v){Je(o,i,v)}else try{pt.removeChild(o.stateNode)}catch(v){Je(o,i,v)}break;case 18:pt!==null&&(Sn?(t=pt,_y(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),lo(t)):_y(pt,o.stateNode));break;case 4:u=pt,p=Sn,pt=o.stateNode.containerInfo,Sn=!0,us(t,i,o),pt=u,Sn=p;break;case 0:case 11:case 14:case 15:Ws(2,o,i),Dt||Ws(4,o,i),us(t,i,o);break;case 1:Dt||(Di(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&b0(o,i,u)),us(t,i,o);break;case 21:us(t,i,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,us(t,i,o),Dt=u;break;default:us(t,i,o)}}function A0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(o){Je(i,i.return,o)}}}function R0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(o){Je(i,i.return,o)}}function X1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new T0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new T0),i;default:throw Error(r(435,t.tag))}}function Tu(t,i){var o=X1(t);i.forEach(function(u){if(!o.has(u)){o.add(u);var p=rw.bind(null,t,u);u.then(p,p)}})}function jn(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=t,j=i,C=j;e:for(;C!==null;){switch(C.tag){case 27:if(na(C.type)){pt=C.stateNode,Sn=!1;break e}break;case 5:pt=C.stateNode,Sn=!1;break e;case 3:case 4:pt=C.stateNode.containerInfo,Sn=!0;break e}C=C.return}if(pt===null)throw Error(r(160));C0(v,j,p),pt=null,Sn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)O0(i,t),i=i.sibling}var fi=null;function O0(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(i,t),Tn(t),u&4&&(Ws(3,t,t.return),El(3,t),Ws(5,t,t.return));break;case 1:jn(i,t),Tn(t),u&512&&(Dt||o===null||Di(o,o.return)),u&64&&cs&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=fi;if(jn(i,t),Tn(t),u&512&&(Dt||o===null||Di(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[wa]||v[Lt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),Qt(v,u,o),v[Lt]=t,kt(v),u=v;break e;case"link":var j=Oy("link","href",p).get(u+(o.href||""));if(j){for(var C=0;C<j.length;C++)if(v=j[C],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){j.splice(C,1);break t}}v=p.createElement(u),Qt(v,u,o),p.head.appendChild(v);break;case"meta":if(j=Oy("meta","content",p).get(u+(o.content||""))){for(C=0;C<j.length;C++)if(v=j[C],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){j.splice(C,1);break t}}v=p.createElement(u),Qt(v,u,o),p.head.appendChild(v);break;default:throw Error(r(468,u))}v[Lt]=t,kt(v),u=v}t.stateNode=u}else Ly(p,t.type,t.stateNode);else t.stateNode=Ry(p,u,t.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?Ly(p,t.type,t.stateNode):Ry(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Fh(t,t.memoizedProps,o.memoizedProps)}break;case 27:jn(i,t),Tn(t),u&512&&(Dt||o===null||Di(o,o.return)),o!==null&&u&4&&Fh(t,t.memoizedProps,o.memoizedProps);break;case 5:if(jn(i,t),Tn(t),u&512&&(Dt||o===null||Di(o,o.return)),t.flags&32){p=t.stateNode;try{qn(p,"")}catch(ge){Je(t,t.return,ge)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,Fh(t,p,o!==null?o.memoizedProps:p)),u&1024&&(Yh=!0);break;case 6:if(jn(i,t),Tn(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(ge){Je(t,t.return,ge)}}break;case 3:if(Iu=null,p=fi,fi=Uu(i.containerInfo),jn(i,t),fi=p,Tn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{lo(i.containerInfo)}catch(ge){Je(t,t.return,ge)}Yh&&(Yh=!1,L0(t));break;case 4:u=fi,fi=Uu(t.stateNode.containerInfo),jn(i,t),Tn(t),fi=u;break;case 12:jn(i,t),Tn(t);break;case 31:jn(i,t),Tn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Tu(t,u)));break;case 13:jn(i,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nu=un()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Tu(t,u)));break;case 22:p=t.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=cs,J=Dt;if(cs=G||p,Dt=J||D,jn(i,t),Dt=J,cs=G,Tn(t),u&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||D||cs||Dt||tr(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){D=o=i;try{if(v=D.stateNode,p)j=v.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{C=D.stateNode;var ie=D.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;C.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){Je(D,D.return,ge)}}}else if(i.tag===6){if(o===null){D=i;try{D.stateNode.nodeValue=p?"":D.memoizedProps}catch(ge){Je(D,D.return,ge)}}}else if(i.tag===18){if(o===null){D=i;try{var W=D.stateNode;p?by(W,!0):by(D.stateNode,!1)}catch(ge){Je(D,D.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tu(t,o))));break;case 19:jn(i,t),Tn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Tu(t,u)));break;case 30:break;case 21:break;default:jn(i,t),Tn(t)}}function Tn(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(S0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,v=Kh(t);ju(t,v,p);break;case 5:var j=o.stateNode;o.flags&32&&(qn(j,""),o.flags&=-33);var C=Kh(t);ju(t,C,j);break;case 3:case 4:var D=o.stateNode.containerInfo,G=Kh(t);Wh(t,G,D);break;default:throw Error(r(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function L0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;L0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ds(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E0(t,i.alternate,i),i=i.sibling}function tr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ws(4,i,i.return),tr(i);break;case 1:Di(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&b0(i,i.return,o),tr(i);break;case 27:zl(i.stateNode);case 26:case 5:Di(i,i.return),tr(i);break;case 22:i.memoizedState===null&&tr(i);break;case 30:tr(i);break;default:tr(i)}t=t.sibling}}function hs(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=t,v=i,j=v.flags;switch(v.tag){case 0:case 11:case 15:hs(p,v,o),El(4,v);break;case 1:if(hs(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){Je(u,u.return,G)}if(u=v,p=u.updateQueue,p!==null){var C=u.stateNode;try{var D=p.shared.hiddenCallbacks;if(D!==null)for(p.shared.hiddenCallbacks=null,p=0;p<D.length;p++)cg(D[p],C)}catch(G){Je(u,u.return,G)}}o&&j&64&&_0(v),Nl(v,v.return);break;case 27:j0(v);case 26:case 5:hs(p,v,o),o&&u===null&&j&4&&w0(v),Nl(v,v.return);break;case 12:hs(p,v,o);break;case 31:hs(p,v,o),o&&j&4&&A0(p,v);break;case 13:hs(p,v,o),o&&j&4&&R0(p,v);break;case 22:v.memoizedState===null&&hs(p,v,o),Nl(v,v.return);break;case 30:break;default:hs(p,v,o)}i=i.sibling}}function Xh(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&fl(o))}function Jh(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function mi(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k0(t,i,o,u),i=i.sibling}function k0(t,i,o,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:mi(t,i,o,u),p&2048&&El(9,i);break;case 1:mi(t,i,o,u);break;case 3:mi(t,i,o,u),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(p&2048){mi(t,i,o,u),t=i.stateNode;try{var v=i.memoizedProps,j=v.id,C=v.onPostCommit;typeof C=="function"&&C(j,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else mi(t,i,o,u);break;case 31:mi(t,i,o,u);break;case 13:mi(t,i,o,u);break;case 23:break;case 22:v=i.stateNode,j=i.alternate,i.memoizedState!==null?v._visibility&2?mi(t,i,o,u):Cl(t,i):v._visibility&2?mi(t,i,o,u):(v._visibility|=2,Xr(t,i,o,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Xh(j,i);break;case 24:mi(t,i,o,u),p&2048&&Jh(i.alternate,i);break;default:mi(t,i,o,u)}}function Xr(t,i,o,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,j=i,C=o,D=u,G=j.flags;switch(j.tag){case 0:case 11:case 15:Xr(v,j,C,D,p),El(8,j);break;case 23:break;case 22:var J=j.stateNode;j.memoizedState!==null?J._visibility&2?Xr(v,j,C,D,p):Cl(v,j):(J._visibility|=2,Xr(v,j,C,D,p)),p&&G&2048&&Xh(j.alternate,j);break;case 24:Xr(v,j,C,D,p),p&&G&2048&&Jh(j.alternate,j);break;default:Xr(v,j,C,D,p)}i=i.sibling}}function Cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,p=u.flags;switch(u.tag){case 22:Cl(o,u),p&2048&&Xh(u.alternate,u);break;case 24:Cl(o,u),p&2048&&Jh(u.alternate,u);break;default:Cl(o,u)}i=i.sibling}}var Al=8192;function Jr(t,i,o){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)M0(t,i,o),t=t.sibling}function M0(t,i,o){switch(t.tag){case 26:Jr(t,i,o),t.flags&Al&&t.memoizedState!==null&&Dw(o,fi,t.memoizedState,t.memoizedProps);break;case 5:Jr(t,i,o);break;case 3:case 4:var u=fi;fi=Uu(t.stateNode.containerInfo),Jr(t,i,o),fi=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Al,Al=16777216,Jr(t,i,o),Al=u):Jr(t,i,o));break;default:Jr(t,i,o)}}function P0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Kt=u,D0(u,t)}P0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)z0(t),t=t.sibling}function z0(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Eu(t)):Rl(t);break;default:Rl(t)}}function Eu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Kt=u,D0(u,t)}P0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ws(8,i,i.return),Eu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Eu(i));break;default:Eu(i)}t=t.sibling}}function D0(t,i){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:Ws(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=t;Kt!==null;){u=Kt;var p=u.sibling,v=u.return;if(N0(u),u===o){Kt=null;break e}if(p!==null){p.return=v,Kt=p;break e}Kt=v}}}var J1={getCacheForType:function(t){var i=Xt(Mt),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return Xt(Mt).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,We=0,st=null,Ue=null,He=0,Xe=0,Pn=null,Ys=!1,Qr=!1,Qh=!1,fs=0,jt=0,Xs=0,nr=0,ef=0,zn=0,eo=0,Ol=null,En=null,tf=!1,Nu=0,B0=0,Cu=1/0,Au=null,Js=null,Ht=0,Qs=null,to=null,ms=0,nf=0,sf=null,U0=null,Ll=0,af=null;function Dn(){return(We&2)!==0&&He!==0?He&-He:$.T!==null?df():Ho()}function V0(){if(zn===0)if((He&536870912)===0||Be){var t=xa;xa<<=1,(xa&3932160)===0&&(xa=262144),zn=t}else zn=536870912;return t=kn.current,t!==null&&(t.flags|=32),zn}function Nn(t,i,o){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(no(t,0),ea(t,He,zn,!1)),Fi(t,o),((We&2)===0||t!==st)&&(t===st&&((We&2)===0&&(nr|=o),jt===4&&ea(t,He,zn,!1)),Bi(t))}function I0(t,i,o){if((We&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&t.expiredLanes)===0||ba(t,i),p=u?nw(t,i):of(t,i,!0),v=u;do{if(p===0){Qr&&!u&&ea(t,i,0,!1);break}else{if(o=t.current.alternate,v&&!ew(o)){p=of(t,i,!1),v=!1;continue}if(p===2){if(v=i,t.errorRecoveryDisabledLanes&v)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){i=j;e:{var C=t;p=Ol;var D=C.current.memoizedState.isDehydrated;if(D&&(no(C,j).flags|=256),j=of(C,j,!1),j!==2){if(Qh&&!D){C.errorRecoveryDisabledLanes|=v,nr|=v,p=4;break e}v=En,En=p,v!==null&&(En===null?En=v:En.push.apply(En,v))}p=j}if(v=!1,p!==2)continue}}if(p===1){no(t,0),ea(t,i,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ea(u,i,zn,!Ys);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Nu+300-un(),10<p)){if(ea(u,i,zn,!Ys),wr(u,0,!0)!==0)break e;ms=i,u.timeoutHandle=vy(H0.bind(null,u,o,En,Au,tf,i,zn,nr,eo,Ys,v,"Throttled",-0,0),p);break e}H0(u,o,En,Au,tf,i,zn,nr,eo,Ys,v,null,-0,0)}}break}while(!0);Bi(t)}function H0(t,i,o,u,p,v,j,C,D,G,J,ie,K,W){if(t.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},M0(i,v,ie);var ge=(v&62914560)===v?Nu-un():(v&4194048)===v?B0-un():0;if(ge=Bw(ie,ge),ge!==null){ms=v,t.cancelPendingCommit=ge(Y0.bind(null,t,i,v,o,u,p,j,C,D,J,ie,null,K,W)),ea(t,v,j,!G);return}}Y0(t,i,v,o,u,p,j,C,D)}function ew(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!Gt(v(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ea(t,i,o,u){i&=~ef,i&=~nr,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var p=i;0<p;){var v=31-dn(p),j=1<<v;u[v]=-1,p&=~j}o!==0&&Cc(t,o,i)}function Ru(){return(We&6)===0?(kl(0),!1):!0}function rf(){if(Ue!==null){if(Xe===0)var t=Ue.return;else t=Ue,hi=zi=null,bh(t),Gr=null,pl=0,t=Ue;for(;t!==null;)x0(t.alternate,t),t=t.return;Ue=null}}function no(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,_w(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),ms=0,rf(),st=t,Ue=o=Yn(t.current,null),He=i,Xe=0,Pn=null,Ys=!1,Qr=ba(t,i),Qh=!1,eo=zn=ef=nr=Xs=jt=0,En=Ol=null,tf=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var p=31-dn(u),v=1<<p;i|=t[p],u&=~v}return fs=i,qa(),o}function q0(t,i){Re=null,$.H=Sl,i===Zr||i===au?(i=ag(),Xe=3):i===ch?(i=ag(),Xe=4):Xe=i===Dh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,Ue===null&&(jt=1,xu(t,c(i,t.current)))}function $0(){var t=kn.current;return t===null?!0:(He&4194048)===He?Xn===null:(He&62914560)===He||(He&536870912)!==0?t===Xn:!1}function Z0(){var t=$.H;return $.H=Sl,t===null?Sl:t}function G0(){var t=$.A;return $.A=J1,t}function Ou(){jt=4,Ys||(He&4194048)!==He&&kn.current!==null||(Qr=!0),(Xs&134217727)===0&&(nr&134217727)===0||st===null||ea(st,He,zn,!1)}function of(t,i,o){var u=We;We|=2;var p=Z0(),v=G0();(st!==t||He!==i)&&(Au=null,no(t,i)),i=!1;var j=jt;e:do try{if(Xe!==0&&Ue!==null){var C=Ue,D=Pn;switch(Xe){case 8:rf(),j=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var G=Xe;if(Xe=0,Pn=null,io(t,C,D,G),o&&Qr){j=0;break e}break;default:G=Xe,Xe=0,Pn=null,io(t,C,D,G)}}tw(),j=jt;break}catch(J){q0(t,J)}while(!0);return i&&t.shellSuspendCounter++,hi=zi=null,We=u,$.H=p,$.A=v,Ue===null&&(st=null,He=0,qa()),j}function tw(){for(;Ue!==null;)F0(Ue)}function nw(t,i){var o=We;We|=2;var u=Z0(),p=G0();st!==t||He!==i?(Au=null,Cu=un()+500,no(t,i)):Qr=ba(t,i);e:do try{if(Xe!==0&&Ue!==null){i=Ue;var v=Pn;t:switch(Xe){case 1:Xe=0,Pn=null,io(t,i,v,1);break;case 2:case 9:if(ig(v)){Xe=0,Pn=null,K0(i);break}i=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),Bi(t)},v.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ig(v)?(Xe=0,Pn=null,K0(i)):(Xe=0,Pn=null,io(t,i,v,7));break;case 5:var j=null;switch(Ue.tag){case 26:j=Ue.memoizedState;case 5:case 27:var C=Ue;if(j?ky(j):C.stateNode.complete){Xe=0,Pn=null;var D=C.sibling;if(D!==null)Ue=D;else{var G=C.return;G!==null?(Ue=G,Lu(G)):Ue=null}break t}}Xe=0,Pn=null,io(t,i,v,5);break;case 6:Xe=0,Pn=null,io(t,i,v,6);break;case 8:rf(),jt=6;break e;default:throw Error(r(462))}}iw();break}catch(J){q0(t,J)}while(!0);return hi=zi=null,$.H=u,$.A=p,We=o,Ue!==null?0:(st=null,He=0,qa(),jt)}function iw(){for(;Ue!==null&&!jc();)F0(Ue)}function F0(t){var i=y0(t.alternate,t,fs);t.memoizedProps=t.pendingProps,i===null?Lu(t):Ue=i}function K0(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=d0(o,i,i.pendingProps,i.type,void 0,He);break;case 11:i=d0(o,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:bh(i);default:x0(o,i),i=Ue=ll(i,fs),i=y0(o,i,fs)}t.memoizedProps=t.pendingProps,i===null?Lu(t):Ue=i}function io(t,i,o,u){hi=zi=null,bh(i),Gr=null,pl=0;var p=i.return;try{if(Z1(t,p,i,o,He)){jt=1,xu(t,c(o,t.current)),Ue=null;return}}catch(v){if(p!==null)throw Ue=p,v;jt=1,xu(t,c(o,t.current)),Ue=null;return}i.flags&32768?(Be||u===1?t=!0:Qr||(He&536870912)!==0?t=!1:(Ys=t=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),W0(i,t)):Lu(i)}function Lu(t){var i=t;do{if((i.flags&32768)!==0){W0(i,Ys);return}t=i.return;var o=K1(i.alternate,i,fs);if(o!==null){Ue=o;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);jt===0&&(jt=5)}function W0(t,i){do{var o=W1(t.alternate,t);if(o!==null){o.flags&=32767,Ue=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=o}while(t!==null);jt=6,Ue=null}function Y0(t,i,o,u,p,v,j,C,D){t.cancelPendingCommit=null;do ku();while(Ht!==0);if((We&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=Br,Hd(t,o,v,j,C,D),t===st&&(Ue=st=null,He=0),to=i,Qs=t,ms=o,nf=v,sf=p,U0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ow(ga,function(){return ty(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,p=ae.p,ae.p=2,j=We,We|=4;try{Y1(t,i,o)}finally{We=j,ae.p=p,$.T=u}}Ht=1,X0(),J0(),Q0()}}function X0(){if(Ht===1){Ht=0;var t=Qs,i=to,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=ae.p;ae.p=2;var p=We;We|=4;try{O0(i,t);var v=xf,j=Ba(t.containerInfo),C=v.focusedElem,D=v.selectionRange;if(j!==C&&C&&C.ownerDocument&&Mr(C.ownerDocument.documentElement,C)){if(D!==null&&Ai(C)){var G=D.start,J=D.end;if(J===void 0&&(J=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(J,C.value.length);else{var ie=C.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var W=K.getSelection(),ge=C.textContent.length,Se=Math.min(D.start,ge),nt=D.end===void 0?Se:Math.min(D.end,ge);!W.extend&&Se>nt&&(j=nt,nt=Se,Se=j);var H=Da(C,Se),U=Da(C,nt);if(H&&U&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var Z=ie.createRange();Z.setStart(H.node,H.offset),W.removeAllRanges(),Se>nt?(W.addRange(Z),W.extend(U.node,U.offset)):(Z.setEnd(U.node,U.offset),W.addRange(Z))}}}}for(ie=[],W=C;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ie.length;C++){var te=ie[C];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Zu=!!vf,xf=vf=null}finally{We=p,ae.p=u,$.T=o}}t.current=i,Ht=2}}function J0(){if(Ht===2){Ht=0;var t=Qs,i=to,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=ae.p;ae.p=2;var p=We;We|=4;try{E0(t,i.alternate,i)}finally{We=p,ae.p=u,$.T=o}}Ht=3}}function Q0(){if(Ht===4||Ht===3){Ht=0,Tc();var t=Qs,i=to,o=ms,u=U0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,to=Qs=null,ey(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Js=null),ve(o),i=i.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(js,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,p=ae.p,ae.p=2,$.T=null;try{for(var v=t.onRecoverableError,j=0;j<u.length;j++){var C=u[j];v(C.value,{componentStack:C.stack})}}finally{$.T=i,ae.p=p}}(ms&3)!==0&&ku(),Bi(t),p=t.pendingLanes,(o&261930)!==0&&(p&42)!==0?t===af?Ll++:(Ll=0,af=t):Ll=0,kl(0)}}function ey(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function ku(){return X0(),J0(),Q0(),ty()}function ty(){if(Ht!==5)return!1;var t=Qs,i=nf;nf=0;var o=ve(ms),u=$.T,p=ae.p;try{ae.p=32>o?32:o,$.T=null,o=sf,sf=null;var v=Qs,j=ms;if(Ht=0,to=Qs=null,ms=0,(We&6)!==0)throw Error(r(331));var C=We;if(We|=4,z0(v.current),k0(v,v.current,j,o),We=C,kl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(js,v)}catch{}return!0}finally{ae.p=p,$.T=u,ey(t,i)}}function ny(t,i,o){i=c(o,i),i=zh(t.stateNode,i,2),t=Gs(t,i,2),t!==null&&(Fi(t,2),Bi(t))}function Je(t,i,o){if(t.tag===3)ny(t,t,o);else for(;i!==null;){if(i.tag===3){ny(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){t=c(o,t),o=i0(2),u=Gs(i,o,2),u!==null&&(s0(o,u,i,t),Fi(u,2),Bi(u));break}}i=i.return}}function lf(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Q1;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(o)||(Qh=!0,p.add(o),t=sw.bind(null,t,i,o),i.then(t,t))}function sw(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,st===t&&(He&o)===o&&(jt===4||jt===3&&(He&62914560)===He&&300>un()-Nu?(We&2)===0&&no(t,0):ef|=o,eo===He&&(eo=0)),Bi(t)}function iy(t,i){i===0&&(i=Nc()),t=Wn(t,i),t!==null&&(Fi(t,i),Bi(t))}function aw(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),iy(t,o)}function rw(t,i){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),iy(t,o)}function ow(t,i){return _r(t,i)}var Mu=null,so=null,cf=!1,Pu=!1,uf=!1,ta=0;function Bi(t){t!==so&&t.next===null&&(so===null?Mu=so=t:so=so.next=t),Pu=!0,cf||(cf=!0,cw())}function kl(t,i){if(!uf&&Pu){uf=!0;do for(var o=!1,u=Mu;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var j=u.suspendedLanes,C=u.pingedLanes;v=(1<<31-dn(42|t)+1)-1,v&=p&~(j&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,oy(u,v))}else v=He,v=wr(u,u===st?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||ba(u,v)||(o=!0,oy(u,v));u=u.next}while(o);uf=!1}}function lw(){sy()}function sy(){Pu=cf=!1;var t=0;ta!==0&&xw()&&(t=ta);for(var i=un(),o=null,u=Mu;u!==null;){var p=u.next,v=ay(u,i);v===0?(u.next=null,o===null?Mu=p:o.next=p,p===null&&(so=o)):(o=u,(t!==0||(v&3)!==0)&&(Pu=!0)),u=p}Ht!==0&&Ht!==5||kl(t),ta!==0&&(ta=0)}function ay(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var j=31-dn(v),C=1<<j,D=p[j];D===-1?((C&o)===0||(C&u)!==0)&&(p[j]=Id(C,i)):D<=i&&(t.expiredLanes|=C),v&=~C}if(i=st,o=He,o=wr(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&pa(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||ba(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&pa(u),ve(o)){case 2:case 8:o=Uo;break;case 32:o=ga;break;case 268435456:o=Vo;break;default:o=ga}return u=ry.bind(null,t),o=_r(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&pa(u),t.callbackPriority=2,t.callbackNode=null,2}function ry(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(ku()&&t.callbackNode!==o)return null;var u=He;return u=wr(t,t===st?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(I0(t,u,i),ay(t,un()),t.callbackNode!=null&&t.callbackNode===o?ry.bind(null,t):null)}function oy(t,i){if(ku())return null;I0(t,i,!0)}function cw(){bw(function(){(We&6)!==0?_r(br,lw):sy()})}function df(){if(ta===0){var t=qr;t===0&&(t=va,va<<=1,(va&261888)===0&&(va=256)),ta=t}return ta}function ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Rs(""+t)}function cy(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function uw(t,i,o,u,p){if(i==="submit"&&o&&o.stateNode===p){var v=ly((p[Zt]||null).action),j=u.submitter;j&&(i=(i=j[Zt]||null)?ly(i.formAction):j.getAttribute("formAction"),i!==null&&(v=i,j=null));var C=new Nr("action","action",null,u,p);t.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ta!==0){var D=j?cy(p,j):new FormData(p);Rh(o,{pending:!0,data:D,method:p.method,action:v},null,D)}}else typeof v=="function"&&(C.preventDefault(),D=j?cy(p,j):new FormData(p),Rh(o,{pending:!0,data:D,method:p.method,action:v},v,D))},currentTarget:p}]})}}for(var hf=0;hf<Li.length;hf++){var ff=Li[hf],dw=ff.toLowerCase(),hw=ff[0].toUpperCase()+ff.slice(1);_n(dw,"on"+hw)}_n(Va,"onAnimationEnd"),_n(Qc,"onAnimationIteration"),_n(Ia,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(th,"onTransitionRun"),_n(eu,"onTransitionStart"),_n(nh,"onTransitionCancel"),_n(Is,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function uy(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],p=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var j=u.length-1;0<=j;j--){var C=u[j],D=C.instance,G=C.currentTarget;if(C=C.listener,D!==v&&p.isPropagationStopped())break e;v=C,p.currentTarget=G;try{v(p)}catch(J){Ha(J)}p.currentTarget=null,v=D}else for(j=0;j<u.length;j++){if(C=u[j],D=C.instance,G=C.currentTarget,C=C.listener,D!==v&&p.isPropagationStopped())break e;v=C,p.currentTarget=G;try{v(p)}catch(J){Ha(J)}p.currentTarget=null,v=D}}}}function Ve(t,i){var o=i[Si];o===void 0&&(o=i[Si]=new Set);var u=t+"__bubble";o.has(u)||(dy(i,t,2,!1),o.add(u))}function mf(t,i,o){var u=0;i&&(u|=4),dy(o,t,u,i)}var zu="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[zu]){t[zu]=!0,kc.forEach(function(o){o!=="selectionchange"&&(fw.has(o)||mf(o,!1,t),mf(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zu]||(i[zu]=!0,mf("selectionchange",!1,i))}}function dy(t,i,o,u){switch(Vy(i)){case 2:var p=Iw;break;case 8:p=Hw;break;default:p=Rf}o=p.bind(null,i,o,t),p=void 0,!Ca||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(i,o,{capture:!0,passive:p}):t.addEventListener(i,o,!0):p!==void 0?t.addEventListener(i,o,{passive:p}):t.addEventListener(i,o,!1)}function gf(t,i,o,u,p){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var C=u.stateNode.containerInfo;if(C===p)break;if(j===4)for(j=u.return;j!==null;){var D=j.tag;if((D===3||D===4)&&j.stateNode.containerInfo===p)return;j=j.return}for(;C!==null;){if(j=Wi(C),j===null)return;if(D=j.tag,D===5||D===6||D===26||D===27){u=v=j;continue e}C=C.parentNode}}u=u.return}Xo(function(){var G=v,J=Na(o),ie=[];e:{var K=tu.get(t);if(K!==void 0){var W=Nr,ge=t;switch(t){case"keypress":if(Aa(o)===0)break e;case"keydown":case"keyup":W=Ic;break;case"focusin":ge="focus",W=el;break;case"focusout":ge="blur",W=el;break;case"beforeblur":case"afterblur":W=el;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Wd;break;case Va:case Qc:case Ia:W=tl;break;case Is:W=$c;break;case"scroll":case"scrollend":W=Ie;break;case"wheel":W=es;break;case"copy":case"cut":case"paste":W=Zn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Hc;break;case"toggle":case"beforetoggle":W=La}var Se=(i&4)!==0,nt=!Se&&(t==="scroll"||t==="scrollend"),H=Se?K!==null?K+"Capture":null:K;Se=[];for(var U=G,Z;U!==null;){var te=U;if(Z=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Z===null||H===null||(te=Ji(U,H),te!=null&&Se.push(Pl(U,te,Z))),nt)break;U=U.return}0<Se.length&&(K=new W(K,ge,null,o,J),ie.push({event:K,listeners:Se}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&o!==Er&&(ge=o.relatedTarget||o.fromElement)&&(Wi(ge)||ge[Ki]))break e;if((W||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ge=o.relatedTarget||o.toElement,W=G,ge=ge?Wi(ge):null,ge!==null&&(nt=h(ge),Se=ge.tag,ge!==nt||Se!==5&&Se!==27&&Se!==6)&&(ge=null)):(W=null,ge=G),W!==ge)){if(Se=zc,te="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Hc,te="onPointerLeave",H="onPointerEnter",U="pointer"),nt=W==null?K:ji(W),Z=ge==null?K:ji(ge),K=new Se(te,U+"leave",W,o,J),K.target=nt,K.relatedTarget=Z,te=null,Wi(J)===G&&(Se=new Se(H,U+"enter",ge,o,J),Se.target=Z,Se.relatedTarget=nt,te=Se),nt=te,W&&ge)t:{for(Se=mw,H=W,U=ge,Z=0,te=H;te;te=Se(te))Z++;te=0;for(var we=U;we;we=Se(we))te++;for(;0<Z-te;)H=Se(H),Z--;for(;0<te-Z;)U=Se(U),te--;for(;Z--;){if(H===U||U!==null&&H===U.alternate){Se=H;break t}H=Se(H),U=Se(U)}Se=null}else Se=null;W!==null&&hy(ie,K,W,Se,!1),ge!==null&&nt!==null&&hy(ie,nt,ge,Se,!0)}}e:{if(K=G?ji(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Ge=za;else if(Gn(K))if(Kc)Ge=eh;else{Ge=Qd;var ye=ci}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ea(G.elementType)&&(Ge=za):Ge=Ds;if(Ge&&(Ge=Ge(t,G))){Fc(ie,Ge,o,J);break e}ye&&ye(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&ri(K,"number",K.value)}switch(ye=G?ji(G):window,t){case"focusin":(Gn(ye)||ye.contentEditable==="true")&&(Ri=ye,zr=G,Ua=null);break;case"focusout":Ua=zr=Ri=null;break;case"mousedown":Us=!0;break;case"contextmenu":case"mouseup":case"dragend":Us=!1,Xc(ie,o,J);break;case"selectionchange":if(Pr)break;case"keydown":case"keyup":Xc(ie,o,J)}var Le;if(Ar)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Ms?Gc(t,o)&&(qe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(Rr&&o.locale!=="ko"&&(Ms||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Ms&&(Le=Ni()):($n=J,Qi="value"in $n?$n.value:$n.textContent,Ms=!0)),ye=Du(G,qe),0<ye.length&&(qe=new nl(qe,t,null,o,J),ie.push({event:qe,listeners:ye}),Le?qe.data=Le:(Le=rl(o),Le!==null&&(qe.data=Le)))),(Le=Xd?Ln(t,o):Ps(t,o))&&(qe=Du(G,"onBeforeInput"),0<qe.length&&(ye=new nl("onBeforeInput","beforeinput",null,o,J),ie.push({event:ye,listeners:qe}),ye.data=Le)),uw(ie,t,G,o,J)}uy(ie,i)})}function Pl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Du(t,i){for(var o=i+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ji(t,o),p!=null&&u.unshift(Pl(t,p,v)),p=Ji(t,i),p!=null&&u.push(Pl(t,p,v))),t.tag===3)return u;t=t.return}return[]}function mw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hy(t,i,o,u,p){for(var v=i._reactName,j=[];o!==null&&o!==u;){var C=o,D=C.alternate,G=C.stateNode;if(C=C.tag,D!==null&&D===u)break;C!==5&&C!==26&&C!==27||G===null||(D=G,p?(G=Ji(o,v),G!=null&&j.unshift(Pl(o,G,D))):p||(G=Ji(o,v),G!=null&&j.push(Pl(o,G,D)))),o=o.return}j.length!==0&&t.push({event:i,listeners:j})}var pw=/\r\n?/g,gw=/\u0000|\uFFFD/g;function fy(t){return(typeof t=="string"?t:""+t).replace(pw,`
`).replace(gw,"")}function my(t,i){return i=fy(i),fy(t)===i}function tt(t,i,o,u,p,v){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||qn(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&qn(t,""+u);break;case"className":Qe(t,"class",u);break;case"tabIndex":Qe(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qe(t,o,u);break;case"style":jr(t,u,v);break;case"data":if(i!=="object"){Qe(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Rs(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(i!=="input"&&tt(t,i,"name",p.name,p,null),tt(t,i,"formEncType",p.formEncType,p,null),tt(t,i,"formMethod",p.formMethod,p,null),tt(t,i,"formTarget",p.formTarget,p,null)):(tt(t,i,"encType",p.encType,p,null),tt(t,i,"method",p.method,p,null),tt(t,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Rs(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=vn);break;case"onScroll":u!=null&&Ve("scroll",t);break;case"onScrollEnd":u!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Rs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),De(t,"popover",u);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":De(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tr.get(o)||o,De(t,o,u))}}function yf(t,i,o,u,p,v){switch(o){case"style":jr(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?qn(t,u):(typeof u=="number"||typeof u=="bigint")&&qn(t,""+u);break;case"onScroll":u!=null&&Ve("scroll",t);break;case"onScrollEnd":u!=null&&Ve("scrollend",t);break;case"onClick":u!=null&&(t.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),v=t[Zt]||null,v=v!=null?v[o]:null,typeof v=="function"&&t.removeEventListener(i,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,p);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):De(t,o,u)}}}function Qt(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var j=o[v];if(j!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,v,j,o,null)}}p&&tt(t,i,"srcSet",o.srcSet,o,null),u&&tt(t,i,"src",o.src,o,null);return;case"input":Ve("invalid",t);var C=v=j=p=null,D=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":p=J;break;case"type":j=J;break;case"checked":D=J;break;case"defaultChecked":G=J;break;case"value":v=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:tt(t,i,u,J,o,null)}}Ta(t,v,C,D,G,j,p,!1);return;case"select":Ve("invalid",t),u=j=v=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":v=C;break;case"defaultValue":j=C;break;case"multiple":u=C;default:tt(t,i,p,C,o,null)}i=v,o=j,t.multiple=!!u,i!=null?it(t,!!u,i,!1):o!=null&&it(t,!!u,o,!0);return;case"textarea":Ve("invalid",t),v=p=u=null;for(j in o)if(o.hasOwnProperty(j)&&(C=o[j],C!=null))switch(j){case"value":u=C;break;case"defaultValue":p=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:tt(t,i,j,C,o,null)}Cs(t,u,p,v);return;case"option":for(D in o)o.hasOwnProperty(D)&&(u=o[D],u!=null)&&(D==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":tt(t,i,D,u,o,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(u=0;u<Ml.length;u++)Ve(Ml[u],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,G,u,o,null)}return;default:if(Ea(i)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&yf(t,i,J,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&tt(t,i,C,u,o,null))}function yw(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,j=null,C=null,D=null,G=null,J=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=ie;default:u.hasOwnProperty(W)||tt(t,i,W,null,u,ie)}}for(var K in u){var W=u[K];if(ie=o[K],u.hasOwnProperty(K)&&(W!=null||ie!=null))switch(K){case"type":v=W;break;case"name":p=W;break;case"checked":G=W;break;case"defaultChecked":J=W;break;case"value":j=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==ie&&tt(t,i,K,W,u,ie)}}Ko(t,j,C,D,G,J,v,p);return;case"select":W=j=C=K=null;for(v in o)if(D=o[v],o.hasOwnProperty(v)&&D!=null)switch(v){case"value":break;case"multiple":W=D;default:u.hasOwnProperty(v)||tt(t,i,v,null,u,D)}for(p in u)if(v=u[p],D=o[p],u.hasOwnProperty(p)&&(v!=null||D!=null))switch(p){case"value":K=v;break;case"defaultValue":C=v;break;case"multiple":j=v;default:v!==D&&tt(t,i,p,v,u,D)}i=C,o=j,u=W,K!=null?it(t,!!o,K,!1):!!u!=!!o&&(i!=null?it(t,!!o,i,!0):it(t,!!o,o?[]:"",!1));return;case"textarea":W=K=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:tt(t,i,C,null,u,p)}for(j in u)if(p=u[j],v=o[j],u.hasOwnProperty(j)&&(p!=null||v!=null))switch(j){case"value":K=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&tt(t,i,j,p,u,v)}Ei(t,K,W);return;case"option":for(var ge in o)K=o[ge],o.hasOwnProperty(ge)&&K!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?t.selected=!1:tt(t,i,ge,null,u,K));for(D in u)K=u[D],W=o[D],u.hasOwnProperty(D)&&K!==W&&(K!=null||W!=null)&&(D==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":tt(t,i,D,K,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!u.hasOwnProperty(Se)&&tt(t,i,Se,null,u,K);for(G in u)if(K=u[G],W=o[G],u.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:tt(t,i,G,K,u,W)}return;default:if(Ea(i)){for(var nt in o)K=o[nt],o.hasOwnProperty(nt)&&K!==void 0&&!u.hasOwnProperty(nt)&&yf(t,i,nt,void 0,u,K);for(J in u)K=u[J],W=o[J],!u.hasOwnProperty(J)||K===W||K===void 0&&W===void 0||yf(t,i,J,K,u,W);return}}for(var H in o)K=o[H],o.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&tt(t,i,H,null,u,K);for(ie in u)K=u[ie],W=o[ie],!u.hasOwnProperty(ie)||K===W||K==null&&W==null||tt(t,i,ie,K,u,W)}function py(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],v=p.transferSize,j=p.initiatorType,C=p.duration;if(v&&C&&py(j)){for(j=0,C=p.responseEnd,u+=1;u<o.length;u++){var D=o[u],G=D.startTime;if(G>C)break;var J=D.transferSize,ie=D.initiatorType;J&&py(ie)&&(D=D.responseEnd,j+=J*(D<C?1:(C-G)/(D-G)))}if(--u,i+=8*(v+j)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vf=null,xf=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function _f(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bf=null;function xw(){var t=window.event;return t&&t.type==="popstate"?t===bf?!1:(bf=t,!0):(bf=null,!1)}var vy=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,bw=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(t){return xy.resolve(null).then(t).catch(ww)}:vy;function ww(t){setTimeout(function(){throw t})}function na(t){return t==="head"}function _y(t,i){var o=i,u=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(p),lo(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")zl(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,zl(o);for(var v=o.firstChild;v;){var j=v.nextSibling,C=v.nodeName;v[wa]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=j}}else o==="body"&&zl(t.ownerDocument.body);o=p}while(o);lo(i)}function by(t,i){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function wf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wf(o),$o(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function Sw(t,i,o,u){for(;t.nodeType===1;){var p=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[wa])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function jw(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Jn(t.nextSibling),t===null))return null;return t}function wy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Jn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$?"||t.data==="$~"}function jf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tw(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Tf=null;function Sy(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return Jn(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function jy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function Ty(t,i,o){switch(i=Bu(o),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$o(t)}var Qn=new Map,Ey=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=ae.d;ae.d={f:Ew,r:Nw,D:Cw,C:Aw,L:Rw,m:Ow,X:kw,S:Lw,M:Mw};function Ew(){var t=ps.f(),i=Ru();return t||i}function Nw(t){var i=Ts(t);i!==null&&i.tag===5&&i.type==="form"?qg(i):ps.r(t)}var ao=typeof document>"u"?null:document;function Ny(t,i,o){var u=ao;if(u&&typeof i=="string"&&i){var p=ct(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Ey.has(p)||(Ey.add(p),t={rel:t,crossOrigin:o,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),Qt(i,"link",t),kt(i),u.head.appendChild(i)))}}function Cw(t){ps.D(t),Ny("dns-prefetch",t,null)}function Aw(t,i){ps.C(t,i),Ny("preconnect",t,i)}function Rw(t,i,o){ps.L(t,i,o);var u=ao;if(u&&t&&i){var p='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+ct(o.imageSizes)+'"]')):p+='[href="'+ct(t)+'"]';var v=p;switch(i){case"style":v=ro(t);break;case"script":v=oo(t)}Qn.has(v)||(t=S({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Qn.set(v,t),u.querySelector(p)!==null||i==="style"&&u.querySelector(Dl(v))||i==="script"&&u.querySelector(Bl(v))||(i=u.createElement("link"),Qt(i,"link",t),kt(i),u.head.appendChild(i)))}}function Ow(t,i){ps.m(t,i);var o=ao;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+ct(u)+'"][href="'+ct(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=oo(t)}if(!Qn.has(v)&&(t=S({rel:"modulepreload",href:t},i),Qn.set(v,t),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bl(v)))return}u=o.createElement("link"),Qt(u,"link",t),kt(u),o.head.appendChild(u)}}}function Lw(t,i,o){ps.S(t,i,o);var u=ao;if(u&&t){var p=Es(u).hoistableStyles,v=ro(t);i=i||"default";var j=p.get(v);if(!j){var C={loading:0,preload:null};if(j=u.querySelector(Dl(v)))C.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Qn.get(v))&&Ef(t,o);var D=j=u.createElement("link");kt(D),Qt(D,"link",t),D._p=new Promise(function(G,J){D.onload=G,D.onerror=J}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Vu(j,i,u)}j={type:"stylesheet",instance:j,count:1,state:C},p.set(v,j)}}}function kw(t,i){ps.X(t,i);var o=ao;if(o&&t){var u=Es(o).hoistableScripts,p=oo(t),v=u.get(p);v||(v=o.querySelector(Bl(p)),v||(t=S({src:t,async:!0},i),(i=Qn.get(p))&&Nf(t,i),v=o.createElement("script"),kt(v),Qt(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Mw(t,i){ps.M(t,i);var o=ao;if(o&&t){var u=Es(o).hoistableScripts,p=oo(t),v=u.get(p);v||(v=o.querySelector(Bl(p)),v||(t=S({src:t,async:!0,type:"module"},i),(i=Qn.get(p))&&Nf(t,i),v=o.createElement("script"),kt(v),Qt(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Cy(t,i,o,u){var p=(p=fe.current)?Uu(p):null;if(!p)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ro(o.href),o=Es(p).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ro(o.href);var v=Es(p).hoistableStyles,j=v.get(t);if(j||(p=p.ownerDocument||p,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,j),(v=p.querySelector(Dl(t)))&&!v._p&&(j.instance=v,j.state.loading=5),Qn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(t,o),v||Pw(p,t,o,j.state))),i&&u===null)throw Error(r(528,""));return j}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(o),o=Es(p).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ro(t){return'href="'+ct(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Ay(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Pw(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Qt(i,"link",o),kt(i),t.head.appendChild(i))}function oo(t){return'[src="'+ct(t)+'"]'}function Bl(t){return"script[async]"+t}function Ry(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+ct(o.href)+'"]');if(u)return i.instance=u,kt(u),u;var p=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),kt(u),Qt(u,"style",p),Vu(u,o.precedence,t),i.instance=u;case"stylesheet":p=ro(o.href);var v=t.querySelector(Dl(p));if(v)return i.state.loading|=4,i.instance=v,kt(v),v;u=Ay(o),(p=Qn.get(p))&&Ef(u,p),v=(t.ownerDocument||t).createElement("link"),kt(v);var j=v;return j._p=new Promise(function(C,D){j.onload=C,j.onerror=D}),Qt(v,"link",u),i.state.loading|=4,Vu(v,o.precedence,t),i.instance=v;case"script":return v=oo(o.src),(p=t.querySelector(Bl(v)))?(i.instance=p,kt(p),p):(u=o,(p=Qn.get(v))&&(u=S({},o),Nf(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),kt(p),Qt(p,"link",u),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Vu(u,o.precedence,t));return i.instance}function Vu(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,j=0;j<u.length;j++){var C=u[j];if(C.dataset.precedence===i)v=C;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Ef(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Nf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Iu=null;function Oy(t,i,o){if(Iu===null){var u=new Map,p=Iu=new Map;p.set(o,u)}else p=Iu,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),p=0;p<o.length;p++){var v=o[p];if(!(v[wa]||v[Lt]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var j=v.getAttribute(i)||"";j=t+j;var C=u.get(j);C?C.push(v):u.set(j,[v])}}return u}function Ly(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function zw(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ky(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Dw(t,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ro(u.href),v=i.querySelector(Dl(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hu.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=v,kt(v);return}v=i.ownerDocument||i,u=Ay(u),(p=Qn.get(p))&&Ef(u,p),v=v.createElement("link"),kt(v);var j=v;j._p=new Promise(function(C,D){j.onload=C,j.onerror=D}),Qt(v,"link",u),o.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Hu.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var Cf=0;function Bw(t,i){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&Cf===0&&(Cf=62500*vw());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>Cf?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qu=null;function $u(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qu=new Map,i.forEach(Uw,t),qu=null,Hu.call(t))}function Uw(t,i){if(!(i.state.loading&4)){var o=qu.get(t);if(o)var u=o.get(null);else{o=new Map,qu.set(t,o);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var j=p[v];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(o.set(j.dataset.precedence,j),u=j)}u&&o.set(null,u)}p=i.instance,j=p.getAttribute("data-precedence"),v=o.get(j)||u,v===u&&o.set(null,p),o.set(j,p),this.count++,u=Hu.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:k,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Vw(t,i,o,u,p,v,j,C,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.hiddenUpdates=Io(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function My(t,i,o,u,p,v,j,C,D,G,J,ie){return t=new Vw(t,i,o,j,D,G,J,ie,C),i=1,v===!0&&(i|=24),v=rn(3,null,null,i),t.current=v,v.stateNode=t,i=rh(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:i},uh(v),t}function Py(t){return t?(t=ts,t):ts}function zy(t,i,o,u,p,v){p=Py(p),u.context===null?u.context=p:u.pendingContext=p,u=Zs(i),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=Gs(t,u,i),o!==null&&(Nn(o,t,i),yl(o,t,i))}function Dy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Af(t,i){Dy(t,i),(t=t.alternate)&&Dy(t,i)}function By(t){if(t.tag===13||t.tag===31){var i=Wn(t,67108864);i!==null&&Nn(i,t,67108864),Af(t,67108864)}}function Uy(t){if(t.tag===13||t.tag===31){var i=Dn();i=gn(i);var o=Wn(t,i);o!==null&&Nn(o,t,i),Af(t,i)}}var Zu=!0;function Iw(t,i,o,u){var p=$.T;$.T=null;var v=ae.p;try{ae.p=2,Rf(t,i,o,u)}finally{ae.p=v,$.T=p}}function Hw(t,i,o,u){var p=$.T;$.T=null;var v=ae.p;try{ae.p=8,Rf(t,i,o,u)}finally{ae.p=v,$.T=p}}function Rf(t,i,o,u){if(Zu){var p=Of(u);if(p===null)gf(t,i,u,Gu,o),Iy(t,u);else if($w(p,t,i,o,u))u.stopPropagation();else if(Iy(t,u),i&4&&-1<qw.indexOf(t)){for(;p!==null;){var v=Ts(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var j=Gi(v.pendingLanes);if(j!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;j;){var D=1<<31-dn(j);C.entanglements[1]|=D,j&=~D}Bi(v),(We&6)===0&&(Cu=un()+500,kl(0))}}break;case 31:case 13:C=Wn(v,2),C!==null&&Nn(C,v,2),Ru(),Af(v,2)}if(v=Of(u),v===null&&gf(t,i,u,Gu,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else gf(t,i,u,null,o)}}function Of(t){return t=Na(t),Lf(t)}var Gu=null;function Lf(t){if(Gu=null,t=Wi(t),t!==null){var i=h(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=f(i),t!==null)return t;t=null}else if(o===31){if(t=y(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gu=t,null}function Vy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zd()){case br:return 2;case Uo:return 8;case ga:case Dd:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var kf=!1,ia=null,sa=null,aa=null,Vl=new Map,Il=new Map,ra=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iy(t,i){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Hl(t,i,o,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Ts(i),i!==null&&By(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function $w(t,i,o,u,p){switch(i){case"focusin":return ia=Hl(ia,t,i,o,u,p),!0;case"dragenter":return sa=Hl(sa,t,i,o,u,p),!0;case"mouseover":return aa=Hl(aa,t,i,o,u,p),!0;case"pointerover":var v=p.pointerId;return Vl.set(v,Hl(Vl.get(v)||null,t,i,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Il.set(v,Hl(Il.get(v)||null,t,i,o,u,p)),!0}return!1}function Hy(t){var i=Wi(t.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=f(o),i!==null){t.blockedOn=i,qo(t.priority,function(){Uy(o)});return}}else if(i===31){if(i=y(o),i!==null){t.blockedOn=i,qo(t.priority,function(){Uy(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=Of(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Er=u,o.target.dispatchEvent(u),Er=null}else return i=Ts(o),i!==null&&By(i),t.blockedOn=o,!1;i.shift()}return!0}function qy(t,i,o){Fu(t)&&o.delete(i)}function Zw(){kf=!1,ia!==null&&Fu(ia)&&(ia=null),sa!==null&&Fu(sa)&&(sa=null),aa!==null&&Fu(aa)&&(aa=null),Vl.forEach(qy),Il.forEach(qy)}function Ku(t,i){t.blockedOn===i&&(t.blockedOn=null,kf||(kf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zw)))}var Wu=null;function $y(t){Wu!==t&&(Wu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],p=t[i+2];if(typeof u!="function"){if(Lf(u||o)===null)continue;break}var v=Ts(o);v!==null&&(t.splice(i,3),i-=3,Rh(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function lo(t){function i(D){return Ku(D,t)}ia!==null&&Ku(ia,t),sa!==null&&Ku(sa,t),aa!==null&&Ku(aa,t),Vl.forEach(i),Il.forEach(i);for(var o=0;o<ra.length;o++){var u=ra[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ra.length&&(o=ra[0],o.blockedOn===null);)Hy(o),o.blockedOn===null&&ra.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],j=p[Zt]||null;if(typeof v=="function")j||$y(o);else if(j){var C=null;if(v&&v.hasAttribute("formAction")){if(p=v,j=v[Zt]||null)C=j.formAction;else if(Lf(p)!==null)continue}else C=j.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),$y(o)}}}function Zy(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(j){return p=j})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Mf(t){this._internalRoot=t}Yu.prototype.render=Mf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=Dn();zy(o,u,t,i,null,null)},Yu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;zy(t.current,2,null,t,null,null),Ru(),i[Ki]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ho();t={blockedOn:null,target:t,priority:i};for(var o=0;o<ra.length&&i!==0&&i<ra[o].priority;o++);ra.splice(o,0,t),o===0&&Hy(t)}};var Gy=e.version;if(Gy!=="19.2.3")throw Error(r(527,Gy,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=x(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Gw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{js=Xu.inject(Gw),Wt=Xu}catch{}}return $l.createRoot=function(t,i){if(!d(t))throw Error(r(299));var o=!1,u="",p=Qg,v=e0,j=t0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),i=My(t,1,!1,null,null,o,u,null,p,v,j,Zy),t[Ki]=i.current,pf(t),new Mf(i)},$l.hydrateRoot=function(t,i,o){if(!d(t))throw Error(r(299));var u=!1,p="",v=Qg,j=e0,C=t0,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),i=My(t,1,!0,i,o??null,u,p,D,v,j,C,Zy),i.context=Py(null),o=i.current,u=Dn(),u=gn(u),p=Zs(u),p.callback=null,Gs(o,p,u),o=u,i.current.lanes=o,Fi(i,o),Bi(i),t[Ki]=i.current,pf(t),new Yu(i)},$l.version="19.2.3",$l}var nv;function t2(){if(nv)return Df.exports;nv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Df.exports=e2(),Df.exports}var n2=t2();var iv="popstate";function i2(n={}){function e(r,d){let{pathname:h,search:f,hash:y}=r.location;return mm("",{pathname:h,search:f,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function s(r,d){return typeof d=="string"?d:nc(d)}return a2(e,s,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ii(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s2(){return Math.random().toString(36).substring(2,10)}function sv(n,e){return{usr:n.state,key:n.key,idx:e}}function mm(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ro(e):e,state:s,key:e&&e.key||r||s2()}}function nc({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Ro(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function a2(n,e,s,r={}){let{window:d=document.defaultView,v5Compat:h=!1}=r,f=d.history,y="POP",g=null,x=b();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function b(){return(f.state||{idx:null}).idx}function S(){y="POP";let M=b(),z=M==null?null:M-x;x=M,g&&g({action:y,location:R.location,delta:z})}function T(M,z){y="PUSH";let V=mm(R.location,M,z);x=b()+1;let k=sv(V,x),Y=R.createHref(V);try{f.pushState(k,"",Y)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;d.location.assign(Y)}h&&g&&g({action:y,location:R.location,delta:1})}function A(M,z){y="REPLACE";let V=mm(R.location,M,z);x=b();let k=sv(V,x),Y=R.createHref(V);f.replaceState(k,"",Y),h&&g&&g({action:y,location:R.location,delta:0})}function O(M){return r2(M)}let R={get action(){return y},get location(){return n(d,f)},listen(M){if(g)throw new Error("A history only accepts one active listener");return d.addEventListener(iv,S),g=M,()=>{d.removeEventListener(iv,S),g=null}},createHref(M){return e(d,M)},createURL:O,encodeLocation(M){let z=O(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:A,go(M){return f.go(M)}};return R}function r2(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),yt(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:nc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function i_(n,e,s="/"){return o2(n,e,s,!1)}function o2(n,e,s,r){let d=typeof e=="string"?Ro(e):e,h=vs(d.pathname||"/",s);if(h==null)return null;let f=s_(n);l2(f);let y=null;for(let g=0;y==null&&g<f.length;++g){let x=x2(h);y=y2(f[g],x,r)}return y}function s_(n,e=[],s=[],r="",d=!1){let h=(f,y,g=d,x)=>{let b={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:y,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&g)return;yt(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let S=ys([r,b.relativePath]),T=s.concat(b);f.children&&f.children.length>0&&(yt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),s_(f.children,e,T,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:p2(S,f.index),routesMeta:T})};return n.forEach((f,y)=>{if(f.path===""||!f.path?.includes("?"))h(f,y);else for(let g of a_(f.path))h(f,y,!0,g)}),e}function a_(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,d=s.endsWith("?"),h=s.replace(/\?$/,"");if(r.length===0)return d?[h,""]:[h];let f=a_(r.join("/")),y=[];return y.push(...f.map(g=>g===""?h:[h,g].join("/"))),d&&y.push(...f),y.map(g=>n.startsWith("/")&&g===""?"/":g)}function l2(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:g2(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var c2=/^:[\w-]+$/,u2=3,d2=2,h2=1,f2=10,m2=-2,av=n=>n==="*";function p2(n,e){let s=n.split("/"),r=s.length;return s.some(av)&&(r+=m2),e&&(r+=d2),s.filter(d=>!av(d)).reduce((d,h)=>d+(c2.test(h)?u2:h===""?h2:f2),r)}function g2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,d)=>r===e[d])?n[n.length-1]-e[e.length-1]:0}function y2(n,e,s=!1){let{routesMeta:r}=n,d={},h="/",f=[];for(let y=0;y<r.length;++y){let g=r[y],x=y===r.length-1,b=h==="/"?e:e.slice(h.length)||"/",S=fd({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},b),T=g.route;if(!S&&x&&s&&!r[r.length-1].route.index&&(S=fd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!S)return null;Object.assign(d,S.params),f.push({params:d,pathname:ys([h,S.pathname]),pathnameBase:S2(ys([h,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(h=ys([h,S.pathnameBase]))}return f}function fd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=v2(n.path,n.caseSensitive,n.end),d=e.match(s);if(!d)return null;let h=d[0],f=h.replace(/(.)\/+$/,"$1"),y=d.slice(1);return{params:r.reduce((x,{paramName:b,isOptional:S},T)=>{if(b==="*"){let O=y[T]||"";f=h.slice(0,h.length-O.length).replace(/(.)\/+$/,"$1")}const A=y[T];return S&&!A?x[b]=void 0:x[b]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:f,pattern:n}}function v2(n,e=!1,s=!0){ii(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],d="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,y,g)=>(r.push({paramName:y,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),d+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?d+="\\/*$":n!==""&&n!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,e?void 0:"i"),r]}function x2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function vs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var r_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_2=n=>r_.test(n);function b2(n,e="/"){let{pathname:s,search:r="",hash:d=""}=typeof n=="string"?Ro(n):n,h;if(s)if(_2(s))h=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?h=rv(s.substring(1),"/"):h=rv(s,e)}else h=e;return{pathname:h,search:j2(r),hash:T2(d)}}function rv(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(d=>{d===".."?s.length>1&&s.pop():d!=="."&&s.push(d)}),s.length>1?s.join("/"):"/"}function If(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w2(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function tp(n){let e=w2(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function np(n,e,s,r=!1){let d;typeof n=="string"?d=Ro(n):(d={...n},yt(!d.pathname||!d.pathname.includes("?"),If("?","pathname","search",d)),yt(!d.pathname||!d.pathname.includes("#"),If("#","pathname","hash",d)),yt(!d.search||!d.search.includes("#"),If("#","search","hash",d)));let h=n===""||d.pathname==="",f=h?"/":d.pathname,y;if(f==null)y=s;else{let S=e.length-1;if(!r&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),S-=1;d.pathname=T.join("/")}y=S>=0?e[S]:"/"}let g=b2(d,y),x=f&&f!=="/"&&f.endsWith("/"),b=(h||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(x||b)&&(g.pathname+="/"),g}var ys=n=>n.join("/").replace(/\/\/+/g,"/"),S2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),j2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,T2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,E2=class{constructor(n,e,s,r=!1){this.status=n,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function N2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function C2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var o_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function l_(n,e){let s=n;if(typeof s!="string"||!r_.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,d=!1;if(o_)try{let h=new URL(window.location.href),f=s.startsWith("//")?new URL(h.protocol+s):new URL(s),y=vs(f.pathname,e);f.origin===h.origin&&y!=null?s=y+f.search+f.hash:d=!0}catch{ii(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:d,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c_=["POST","PUT","PATCH","DELETE"];new Set(c_);var A2=["GET",...c_];new Set(A2);var Oo=N.createContext(null);Oo.displayName="DataRouter";var Ed=N.createContext(null);Ed.displayName="DataRouterState";var R2=N.createContext(!1),u_=N.createContext({isTransitioning:!1});u_.displayName="ViewTransition";var O2=N.createContext(new Map);O2.displayName="Fetchers";var L2=N.createContext(null);L2.displayName="Await";var Hn=N.createContext(null);Hn.displayName="Navigation";var gc=N.createContext(null);gc.displayName="Location";var wi=N.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var ip=N.createContext(null);ip.displayName="RouteError";var d_="REACT_ROUTER_ERROR",k2="REDIRECT",M2="ROUTE_ERROR_RESPONSE";function P2(n){if(n.startsWith(`${d_}:${k2}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function z2(n){if(n.startsWith(`${d_}:${M2}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new E2(e.status,e.statusText,e.data)}catch{}}function D2(n,{relative:e}={}){yt(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=N.useContext(Hn),{hash:d,pathname:h,search:f}=yc(n,{relative:e}),y=h;return s!=="/"&&(y=h==="/"?s:ys([s,h])),r.createHref({pathname:y,search:f,hash:d})}function Lo(){return N.useContext(gc)!=null}function bs(){return yt(Lo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(gc).location}var h_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f_(n){N.useContext(Hn).static||N.useLayoutEffect(n)}function at(){let{isDataRoute:n}=N.useContext(wi);return n?Y2():B2()}function B2(){yt(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Oo),{basename:e,navigator:s}=N.useContext(Hn),{matches:r}=N.useContext(wi),{pathname:d}=bs(),h=JSON.stringify(tp(r)),f=N.useRef(!1);return f_(()=>{f.current=!0}),N.useCallback((g,x={})=>{if(ii(f.current,h_),!f.current)return;if(typeof g=="number"){s.go(g);return}let b=np(g,JSON.parse(h),d,x.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ys([e,b.pathname])),(x.replace?s.replace:s.push)(b,x.state,x)},[e,s,h,d,n])}N.createContext(null);function ko(){let{matches:n}=N.useContext(wi),e=n[n.length-1];return e?e.params:{}}function yc(n,{relative:e}={}){let{matches:s}=N.useContext(wi),{pathname:r}=bs(),d=JSON.stringify(tp(s));return N.useMemo(()=>np(n,JSON.parse(d),r,e==="path"),[n,d,r,e])}function U2(n,e){return m_(n,e)}function m_(n,e,s,r,d){yt(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=N.useContext(Hn),{matches:f}=N.useContext(wi),y=f[f.length-1],g=y?y.params:{},x=y?y.pathname:"/",b=y?y.pathnameBase:"/",S=y&&y.route;{let V=S&&S.path||"";g_(x,!S||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let T=bs(),A;if(e){let V=typeof e=="string"?Ro(e):e;yt(b==="/"||V.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${V.pathname}" was given in the \`location\` prop.`),A=V}else A=T;let O=A.pathname||"/",R=O;if(b!=="/"){let V=b.replace(/^\//,"").split("/");R="/"+O.replace(/^\//,"").split("/").slice(V.length).join("/")}let M=i_(n,{pathname:R});ii(S||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ii(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=$2(M&&M.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:ys([b,h.encodeLocation?h.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?b:ys([b,h.encodeLocation?h.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),f,s,r,d);return e&&z?N.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function V2(){let n=W2(),e=N2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:r},h={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:h},"ErrorBoundary")," or"," ",N.createElement("code",{style:h},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),s?N.createElement("pre",{style:d},s):null,f)}var I2=N.createElement(V2,null),p_=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=z2(n.digest);s&&(n=s)}let e=n!==void 0?N.createElement(wi.Provider,{value:this.props.routeContext},N.createElement(ip.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(H2,{error:n},e):e}};p_.contextType=R2;var Hf=new WeakMap;function H2({children:n,error:e}){let{basename:s}=N.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=P2(e.digest);if(r){let d=Hf.get(e);if(d)throw d;let h=l_(r.location,s);if(o_&&!Hf.get(e))if(h.isExternal||r.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:r.replace}));throw Hf.set(e,f),f}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return n}function q2({routeContext:n,match:e,children:s}){let r=N.useContext(Oo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(wi.Provider,{value:n},s)}function $2(n,e=[],s=null,r=null,d=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,f=s?.errors;if(f!=null){let b=h.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);yt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let y=!1,g=-1;if(s)for(let b=0;b<h.length;b++){let S=h[b];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=b),S.route.id){let{loaderData:T,errors:A}=s,O=S.route.loader&&!T.hasOwnProperty(S.route.id)&&(!A||A[S.route.id]===void 0);if(S.route.lazy||O){y=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}let x=s&&r?(b,S)=>{r(b,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:C2(s.matches),errorInfo:S})}:void 0;return h.reduceRight((b,S,T)=>{let A,O=!1,R=null,M=null;s&&(A=f&&S.route.id?f[S.route.id]:void 0,R=S.route.errorElement||I2,y&&(g<0&&T===0?(g_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,M=null):g===T&&(O=!0,M=S.route.hydrateFallbackElement||null)));let z=e.concat(h.slice(0,T+1)),V=()=>{let k;return A?k=R:O?k=M:S.route.Component?k=N.createElement(S.route.Component,null):S.route.element?k=S.route.element:k=b,N.createElement(q2,{match:S,routeContext:{outlet:b,matches:z,isDataRoute:s!=null},children:k})};return s&&(S.route.ErrorBoundary||S.route.errorElement||T===0)?N.createElement(p_,{location:s.location,revalidation:s.revalidation,component:R,error:A,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:x}):V()},null)}function sp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z2(n){let e=N.useContext(Oo);return yt(e,sp(n)),e}function G2(n){let e=N.useContext(Ed);return yt(e,sp(n)),e}function F2(n){let e=N.useContext(wi);return yt(e,sp(n)),e}function ap(n){let e=F2(n),s=e.matches[e.matches.length-1];return yt(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function K2(){return ap("useRouteId")}function W2(){let n=N.useContext(ip),e=G2("useRouteError"),s=ap("useRouteError");return n!==void 0?n:e.errors?.[s]}function Y2(){let{router:n}=Z2("useNavigate"),e=ap("useNavigate"),s=N.useRef(!1);return f_(()=>{s.current=!0}),N.useCallback(async(d,h={})=>{ii(s.current,h_),s.current&&(typeof d=="number"?await n.navigate(d):await n.navigate(d,{fromRouteId:e,...h}))},[n,e])}var ov={};function g_(n,e,s){!e&&!ov[n]&&(ov[n]=!0,ii(!1,s))}N.memo(X2);function X2({routes:n,future:e,state:s,onError:r}){return m_(n,void 0,s,r,e)}function Un({to:n,replace:e,state:s,relative:r}){yt(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=N.useContext(Hn);ii(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=N.useContext(wi),{pathname:f}=bs(),y=at(),g=np(n,tp(h),f,r==="path"),x=JSON.stringify(g);return N.useEffect(()=>{y(JSON.parse(x),{replace:e,state:s,relative:r})},[y,x,r,e,s]),null}function dt(n){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J2({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:d,static:h=!1,unstable_useTransitions:f}){yt(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=n.replace(/^\/*/,"/"),g=N.useMemo(()=>({basename:y,navigator:d,static:h,unstable_useTransitions:f,future:{}}),[y,d,h,f]);typeof s=="string"&&(s=Ro(s));let{pathname:x="/",search:b="",hash:S="",state:T=null,key:A="default"}=s,O=N.useMemo(()=>{let R=vs(x,y);return R==null?null:{location:{pathname:R,search:b,hash:S,state:T,key:A},navigationType:r}},[y,x,b,S,T,A,r]);return ii(O!=null,`<Router basename="${y}"> is not able to match the URL "${x}${b}${S}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(Hn.Provider,{value:g},N.createElement(gc.Provider,{children:e,value:O}))}function Q2({children:n,location:e}){return U2(pm(n),e)}function pm(n,e=[]){let s=[];return N.Children.forEach(n,(r,d)=>{if(!N.isValidElement(r))return;let h=[...e,d];if(r.type===N.Fragment){s.push.apply(s,pm(r.props.children,h));return}yt(r.type===dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||h.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=pm(r.props.children,h)),s.push(f)}),s}var od="get",ld="application/x-www-form-urlencoded";function Nd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function eS(n){return Nd(n)&&n.tagName.toLowerCase()==="button"}function tS(n){return Nd(n)&&n.tagName.toLowerCase()==="form"}function nS(n){return Nd(n)&&n.tagName.toLowerCase()==="input"}function iS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sS(n,e){return n.button===0&&(!e||e==="_self")&&!iS(n)}var Ju=null;function aS(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var rS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qf(n){return n!=null&&!rS.has(n)?(ii(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ld}"`),null):n}function oS(n,e){let s,r,d,h,f;if(tS(n)){let y=n.getAttribute("action");r=y?vs(y,e):null,s=n.getAttribute("method")||od,d=qf(n.getAttribute("enctype"))||ld,h=new FormData(n)}else if(eS(n)||nS(n)&&(n.type==="submit"||n.type==="image")){let y=n.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||y.getAttribute("action");if(r=g?vs(g,e):null,s=n.getAttribute("formmethod")||y.getAttribute("method")||od,d=qf(n.getAttribute("formenctype"))||qf(y.getAttribute("enctype"))||ld,h=new FormData(y,n),!aS()){let{name:x,type:b,value:S}=n;if(b==="image"){let T=x?`${x}.`:"";h.append(`${T}x`,"0"),h.append(`${T}y`,"0")}else x&&h.append(x,S)}}else{if(Nd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=od,r=null,d=ld,f=n}return h&&d==="text/plain"&&(f=h,h=void 0),{action:r,method:s.toLowerCase(),encType:d,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function lS(n,e,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&vs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function cS(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dS(n,e,s){let r=await Promise.all(n.map(async d=>{let h=e.routes[d.route.id];if(h){let f=await cS(h,s);return f.links?f.links():[]}return[]}));return pS(r.flat(1).filter(uS).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function lv(n,e,s,r,d,h){let f=(g,x)=>s[x]?g.route.id!==s[x].route.id:!0,y=(g,x)=>s[x].pathname!==g.pathname||s[x].route.path?.endsWith("*")&&s[x].params["*"]!==g.params["*"];return h==="assets"?e.filter((g,x)=>f(g,x)||y(g,x)):h==="data"?e.filter((g,x)=>{let b=r.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,x)||y(g,x))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function hS(n,e,{includeHydrateFallback:s}={}){return fS(n.map(r=>{let d=e.routes[r.route.id];if(!d)return[];let h=[d.module];return d.clientActionModule&&(h=h.concat(d.clientActionModule)),d.clientLoaderModule&&(h=h.concat(d.clientLoaderModule)),s&&d.hydrateFallbackModule&&(h=h.concat(d.hydrateFallbackModule)),d.imports&&(h=h.concat(d.imports)),h}).flat(1))}function fS(n){return[...new Set(n)]}function mS(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function pS(n,e){let s=new Set;return new Set(e),n.reduce((r,d)=>{let h=JSON.stringify(mS(d));return s.has(h)||(s.add(h),r.push({key:h,link:d})),r},[])}function y_(){let n=N.useContext(Oo);return rp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gS(){let n=N.useContext(Ed);return rp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var op=N.createContext(void 0);op.displayName="FrameworkContext";function v_(){let n=N.useContext(op);return rp(n,"You must render this element inside a <HydratedRouter> element"),n}function yS(n,e){let s=N.useContext(op),[r,d]=N.useState(!1),[h,f]=N.useState(!1),{onFocus:y,onBlur:g,onMouseEnter:x,onMouseLeave:b,onTouchStart:S}=e,T=N.useRef(null);N.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let R=z=>{z.forEach(V=>{f(V.isIntersecting)})},M=new IntersectionObserver(R,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[n]),N.useEffect(()=>{if(r){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[r]);let A=()=>{d(!0)},O=()=>{d(!1),f(!1)};return s?n!=="intent"?[h,T,{}]:[h,T,{onFocus:Zl(y,A),onBlur:Zl(g,O),onMouseEnter:Zl(x,A),onMouseLeave:Zl(b,O),onTouchStart:Zl(S,A)}]:[!1,T,{}]}function Zl(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function vS({page:n,...e}){let{router:s}=y_(),r=N.useMemo(()=>i_(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?N.createElement(_S,{page:n,matches:r,...e}):null}function xS(n){let{manifest:e,routeModules:s}=v_(),[r,d]=N.useState([]);return N.useEffect(()=>{let h=!1;return dS(n,e,s).then(f=>{h||d(f)}),()=>{h=!0}},[n,e,s]),r}function _S({page:n,matches:e,...s}){let r=bs(),{manifest:d,routeModules:h}=v_(),{basename:f}=y_(),{loaderData:y,matches:g}=gS(),x=N.useMemo(()=>lv(n,e,g,d,r,"data"),[n,e,g,d,r]),b=N.useMemo(()=>lv(n,e,g,d,r,"assets"),[n,e,g,d,r]),S=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let O=new Set,R=!1;if(e.forEach(z=>{let V=d.routes[z.route.id];!V||!V.hasLoader||(!x.some(k=>k.route.id===z.route.id)&&z.route.id in y&&h[z.route.id]?.shouldRevalidate||V.hasClientLoader?R=!0:O.add(z.route.id))}),O.size===0)return[];let M=lS(n,f,"data");return R&&O.size>0&&M.searchParams.set("_routes",e.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[M.pathname+M.search]},[f,y,r,d,x,e,n,h]),T=N.useMemo(()=>hS(b,d),[b,d]),A=xS(b);return N.createElement(N.Fragment,null,S.map(O=>N.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...s})),T.map(O=>N.createElement("link",{key:O,rel:"modulepreload",href:O,...s})),A.map(({key:O,link:R})=>N.createElement("link",{key:O,nonce:s.nonce,...R})))}function bS(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var wS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wS&&(window.__reactRouterVersion="7.11.0")}catch{}function SS({basename:n,children:e,unstable_useTransitions:s,window:r}){let d=N.useRef();d.current==null&&(d.current=i2({window:r,v5Compat:!0}));let h=d.current,[f,y]=N.useState({action:h.action,location:h.location}),g=N.useCallback(x=>{s===!1?y(x):N.startTransition(()=>y(x))},[s]);return N.useLayoutEffect(()=>h.listen(g),[h,g]),N.createElement(J2,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:s})}var x_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,__=N.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:d,reloadDocument:h,replace:f,state:y,target:g,to:x,preventScrollReset:b,viewTransition:S,unstable_defaultShouldRevalidate:T,...A},O){let{basename:R,unstable_useTransitions:M}=N.useContext(Hn),z=typeof x=="string"&&x_.test(x),V=l_(x,R);x=V.to;let k=D2(x,{relative:d}),[Y,ee,I]=yS(r,A),Q=NS(x,{replace:f,state:y,target:g,preventScrollReset:b,relative:d,viewTransition:S,unstable_defaultShouldRevalidate:T,unstable_useTransitions:M});function oe(ke){e&&e(ke),ke.defaultPrevented||Q(ke)}let be=N.createElement("a",{...A,...I,href:V.absoluteURL||k,onClick:V.isExternal||h?e:oe,ref:bS(O,ee),target:g,"data-discover":!z&&s==="render"?"true":void 0});return Y&&!z?N.createElement(N.Fragment,null,be,N.createElement(vS,{page:k})):be});__.displayName="Link";var jS=N.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:d=!1,style:h,to:f,viewTransition:y,children:g,...x},b){let S=yc(f,{relative:x.relative}),T=bs(),A=N.useContext(Ed),{navigator:O,basename:R}=N.useContext(Hn),M=A!=null&&LS(S)&&y===!0,z=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,V=T.pathname,k=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;s||(V=V.toLowerCase(),k=k?k.toLowerCase():null,z=z.toLowerCase()),k&&R&&(k=vs(k,R)||k);const Y=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ee=V===z||!d&&V.startsWith(z)&&V.charAt(Y)==="/",I=k!=null&&(k===z||!d&&k.startsWith(z)&&k.charAt(z.length)==="/"),Q={isActive:ee,isPending:I,isTransitioning:M},oe=ee?e:void 0,be;typeof r=="function"?be=r(Q):be=[r,ee?"active":null,I?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ke=typeof h=="function"?h(Q):h;return N.createElement(__,{...x,"aria-current":oe,className:be,ref:b,style:ke,to:f,viewTransition:y},typeof g=="function"?g(Q):g)});jS.displayName="NavLink";var TS=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:d,state:h,method:f=od,action:y,onSubmit:g,relative:x,preventScrollReset:b,viewTransition:S,unstable_defaultShouldRevalidate:T,...A},O)=>{let{unstable_useTransitions:R}=N.useContext(Hn),M=RS(),z=OS(y,{relative:x}),V=f.toLowerCase()==="get"?"get":"post",k=typeof y=="string"&&x_.test(y),Y=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let I=ee.nativeEvent.submitter,Q=I?.getAttribute("formmethod")||f,oe=()=>M(I||ee.currentTarget,{fetcherKey:e,method:Q,navigate:s,replace:d,state:h,relative:x,preventScrollReset:b,viewTransition:S,unstable_defaultShouldRevalidate:T});R&&s!==!1?N.startTransition(()=>oe()):oe()};return N.createElement("form",{ref:O,method:V,action:z,onSubmit:r?g:Y,...A,"data-discover":!k&&n==="render"?"true":void 0})});TS.displayName="Form";function ES(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b_(n){let e=N.useContext(Oo);return yt(e,ES(n)),e}function NS(n,{target:e,replace:s,state:r,preventScrollReset:d,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:y,unstable_useTransitions:g}={}){let x=at(),b=bs(),S=yc(n,{relative:h});return N.useCallback(T=>{if(sS(T,e)){T.preventDefault();let A=s!==void 0?s:nc(b)===nc(S),O=()=>x(n,{replace:A,state:r,preventScrollReset:d,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:y});g?N.startTransition(()=>O()):O()}},[b,x,S,s,r,e,n,d,h,f,y,g])}var CS=0,AS=()=>`__${String(++CS)}__`;function RS(){let{router:n}=b_("useSubmit"),{basename:e}=N.useContext(Hn),s=K2(),r=n.fetch,d=n.navigate;return N.useCallback(async(h,f={})=>{let{action:y,method:g,encType:x,formData:b,body:S}=oS(h,e);if(f.navigate===!1){let T=f.fetcherKey||AS();await r(T,s,f.action||y,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:S,formMethod:f.method||g,formEncType:f.encType||x,flushSync:f.flushSync})}else await d(f.action||y,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:S,formMethod:f.method||g,formEncType:f.encType||x,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,d,e,s])}function OS(n,{relative:e}={}){let{basename:s}=N.useContext(Hn),r=N.useContext(wi);yt(r,"useFormAction must be used inside a RouteContext");let[d]=r.matches.slice(-1),h={...yc(n||".",{relative:e})},f=bs();if(n==null){h.search=f.search;let y=new URLSearchParams(h.search),g=y.getAll("index");if(g.some(b=>b==="")){y.delete("index"),g.filter(S=>S).forEach(S=>y.append("index",S));let b=y.toString();h.search=b?`?${b}`:""}}return(!n||n===".")&&d.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(h.pathname=h.pathname==="/"?s:ys([s,h.pathname])),nc(h)}function LS(n,{relative:e}={}){let s=N.useContext(u_);yt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b_("useViewTransitionState"),d=yc(n,{relative:e});if(!s.isTransitioning)return!1;let h=vs(s.currentLocation.pathname,r)||s.currentLocation.pathname,f=vs(s.nextLocation.pathname,r)||s.nextLocation.pathname;return fd(d.pathname,f)!=null||fd(d.pathname,h)!=null}var kS=n_();const w_=N.createContext(void 0),MS=()=>{const n=N.useContext(w_);if(!n)throw new Error("useTheme debe usarse dentro de ThemeProvider");return n},PS=({children:n})=>{const[e,s]=N.useState(()=>{const d=localStorage.getItem("theme");return d?d==="dark":!0});N.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>s(!e);return l.jsx(w_.Provider,{value:{isDark:e,toggleTheme:r},children:n})},S_=N.createContext(void 0),Rt=()=>{const n=N.useContext(S_);if(!n)throw new Error("useAuth debe usarse dentro de AuthProvider");return n},zS=({children:n})=>{const[e,s]=N.useState(()=>{const h=localStorage.getItem("usuario");return h?JSON.parse(h):null}),r=()=>{s(null),localStorage.removeItem("usuario")},d=h=>{s(h),h?localStorage.setItem("usuario",JSON.stringify(h)):localStorage.removeItem("usuario")};return l.jsx(S_.Provider,{value:{usuario:e,setUsuario:d,logout:r},children:n})};function pi({children:n,allowedRoles:e}){const{usuario:s}=Rt();if(!s)return l.jsx(Un,{to:"/",replace:!0});if(!e.includes(s.tipo_usuario))switch(s.tipo_usuario){case"repartidor":return l.jsx(Un,{to:"/repartidor/dashboard",replace:!0});case"restaurante":return l.jsx(Un,{to:"/restaurante/dashboard",replace:!0});case"operador":return l.jsx(Un,{to:"/operador/dashboard",replace:!0});case"admin":return l.jsx(Un,{to:"/admin/dashboard",replace:!0});default:return l.jsx(Un,{to:"/home",replace:!0})}return l.jsx(l.Fragment,{children:n})}function Cd(n,e){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,r=Object.getOwnPropertySymbols(n);d<r.length;d++)e.indexOf(r[d])<0&&Object.prototype.propertyIsEnumerable.call(n,r[d])&&(s[r[d]]=n[r[d]]);return s}function DS(n,e,s,r){function d(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function y(b){try{x(r.next(b))}catch(S){f(S)}}function g(b){try{x(r.throw(b))}catch(S){f(S)}}function x(b){b.done?h(b.value):d(b.value).then(y,g)}x((r=r.apply(n,e||[])).next())})}const BS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class lp extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class US extends lp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cv extends lp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uv extends lp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gm;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(gm||(gm={}));class VS{constructor(e,{headers:s={},customFetch:r,region:d=gm.Any}={}){this.url=e,this.headers=s,this.region=d,this.fetch=BS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return DS(this,arguments,void 0,function*(s,r={}){var d;let h,f;try{const{headers:y,method:g,body:x,signal:b,timeout:S}=r;let T={},{region:A}=r;A||(A=this.region);const O=new URL(`${this.url}/${s}`);A&&A!=="any"&&(T["x-region"]=A,O.searchParams.set("forceFunctionRegion",A));let R;x&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",R=x):typeof x=="string"?(T["Content-Type"]="text/plain",R=x):typeof FormData<"u"&&x instanceof FormData?R=x:(T["Content-Type"]="application/json",R=JSON.stringify(x)):R=x;let M=b;S&&(f=new AbortController,h=setTimeout(()=>f.abort(),S),b?(M=f.signal,b.addEventListener("abort",()=>f.abort())):M=f.signal);const z=yield this.fetch(O.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),y),body:R,signal:M}).catch(ee=>{throw new US(ee)}),V=z.headers.get("x-relay-error");if(V&&V==="true")throw new cv(z);if(!z.ok)throw new uv(z);let k=((d=z.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),Y;return k==="application/json"?Y=yield z.json():k==="application/octet-stream"||k==="application/pdf"?Y=yield z.blob():k==="text/event-stream"?Y=z:k==="multipart/form-data"?Y=yield z.formData():Y=yield z.text(),{data:Y,error:null,response:z}}catch(y){return{data:null,error:y,response:y instanceof uv||y instanceof cv?y.context:void 0}}finally{h&&clearTimeout(h)}})}}var IS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},HS=class{constructor(n){var e,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let d=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,y=null,g=null,x=h.status,b=h.statusText;if(h.ok){var S,T;if(s.method!=="HEAD"){var A;const z=await h.text();z===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((A=s.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?y=z:y=JSON.parse(z))}const R=(S=s.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),M=(T=h.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");R&&M&&M.length>1&&(g=parseInt(M[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(y)&&(y.length>1?(f={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,x=406,b="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var O;const R=await h.text();try{f=JSON.parse(R),Array.isArray(f)&&h.status===404&&(y=[],f=null,x=200,b="OK")}catch{h.status===404&&R===""?(x=204,b="No Content"):f={message:R}}if(f&&s.isMaybeSingle&&(!(f==null||(O=f.details)===null||O===void 0)&&O.includes("0 rows"))&&(f=null,x=200,b="OK"),f&&s.shouldThrowOnError)throw new IS(f)}return{error:f,data:y,count:g,status:x,statusText:b}});return this.shouldThrowOnError||(d=d.catch(h=>{var f;let y="";const g=h?.cause;if(g){var x,b,S,T;const O=(x=g?.message)!==null&&x!==void 0?x:"",R=(b=g?.code)!==null&&b!==void 0?b:"";y=`${(S=h?.name)!==null&&S!==void 0?S:"FetchError"}: ${h?.message}`,y+=`

Caused by: ${(T=g?.name)!==null&&T!==void 0?T:"Error"}: ${O}`,R&&(y+=` (${R})`),g?.stack&&(y+=`
${g.stack}`)}else{var A;y=(A=h?.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(n,e)}returns(){return this}overrideTypes(){return this}},qS=class extends HS{select(n){let e=!1;const s=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:s,foreignTable:r,referencedTable:d=r}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${n}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:s=e}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:s,referencedTable:r=s}={}){const d=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(h,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:s=!1,buffers:r=!1,wal:d=!1,format:h="text"}={}){var f;const y=[n?"analyze":null,e?"verbose":null,s?"settings":null,r?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${y};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const dv=new RegExp("[,()]");var go=class extends qS{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&dv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&dv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:s,type:r}={}){let d="";r==="plain"?d="pl":r==="phrase"?d="ph":r==="websearch"&&(d="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${d}fts${h}.${e}`),this}match(n){return Object.entries(n).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(n,e,s){return this.url.searchParams.append(n,`not.${e}.${s}`),this}or(n,{foreignTable:e,referencedTable:s=e}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,s){return this.url.searchParams.append(n,`${e}.${s}`),this}},$S=class{constructor(n,{headers:e={},schema:s,fetch:r}){this.url=n,this.headers=new Headers(e),this.schema=s,this.fetch=r}select(n,e){const{head:s=!1,count:r}=e??{},d=s?"HEAD":"GET";let h=!1;const f=(n??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join("");return this.url.searchParams.set("select",f),r&&this.headers.append("Prefer",`count=${r}`),new go({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:s=!0}={}){var r;const d="POST";if(e&&this.headers.append("Prefer",`count=${e}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,y)=>f.concat(Object.keys(y)),[]);if(h.length>0){const f=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",f.join(","))}}return new go({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:s=!1,count:r,defaultToNull:d=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const y=n.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(y.length>0){const g=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new go({method:f,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(n,{count:e}={}){var s;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new go({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var e;const s="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new go({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},ZS=class j_{constructor(e,{headers:s={},schema:r,fetch:d}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=d}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $S(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new j_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:d=!1,count:h}={}){var f;let y;const g=new URL(`${this.url}/rpc/${e}`);let x;r||d?(y=r?"HEAD":"GET",Object.entries(s).filter(([S,T])=>T!==void 0).map(([S,T])=>[S,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([S,T])=>{g.searchParams.append(S,T)})):(y="POST",x=s);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new go({method:y,url:g,headers:b,schema:this.schemaName,body:x,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class GS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,d=parseInt(r.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const FS="2.89.0",KS=`realtime-js/${FS}`,T_="1.0.0",WS="2.0.0",hv=T_,ym=1e4,YS=1e3,XS=100;var ca;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ca||(ca={}));var qt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(qt||(qt={}));var bi;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(bi||(bi={}));var vm;(function(n){n.websocket="websocket"})(vm||(vm={}));var lr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(lr||(lr={}));class JS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const d=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(e){var s,r;const d=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(e,s,r){var d,h;const f=e.topic,y=(d=e.ref)!==null&&d!==void 0?d:"",g=(h=e.join_ref)!==null&&h!==void 0?h:"",x=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},S=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+y.length+f.length+x.length+S.length,A=new ArrayBuffer(this.HEADER_LENGTH+T);let O=new DataView(A),R=0;O.setUint8(R++,this.KINDS.userBroadcastPush),O.setUint8(R++,g.length),O.setUint8(R++,y.length),O.setUint8(R++,f.length),O.setUint8(R++,x.length),O.setUint8(R++,S.length),O.setUint8(R++,s),Array.from(g,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(y,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(f,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(x,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(S,z=>O.setUint8(R++,z.charCodeAt(0)));var M=new Uint8Array(A.byteLength+r.byteLength);return M.set(new Uint8Array(A),0),M.set(new Uint8Array(r),A.byteLength),M.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[d,h,f,y,g]=r;return s({join_ref:d,ref:h,topic:f,event:y,payload:g})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),d=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,s,d)}_decodeUserBroadcast(e,s,r){const d=s.getUint8(1),h=s.getUint8(2),f=s.getUint8(3),y=s.getUint8(4);let g=this.HEADER_LENGTH+4;const x=r.decode(e.slice(g,g+d));g=g+d;const b=r.decode(e.slice(g,g+h));g=g+h;const S=r.decode(e.slice(g,g+f));g=g+f;const T=e.slice(g,e.byteLength),A=y===this.JSON_ENCODING?JSON.parse(r.decode(T)):T,O={type:this.BROADCAST_EVENT,event:b,payload:A};return f>0&&(O.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>s.includes(r)))}}class E_{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ot;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ot||(ot={}));const fv=(n,e,s={})=>{var r;const d=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((h,f)=>(h[f]=QS(f,n,e,d),h),{}):{}},QS=(n,e,s,r)=>{const d=e.find(y=>y.name===n),h=d?.type,f=s[n];return h&&!r.includes(h)?N_(h,f):xm(f)},N_=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return ij(e,s)}switch(n){case ot.bool:return ej(e);case ot.float4:case ot.float8:case ot.int2:case ot.int4:case ot.int8:case ot.numeric:case ot.oid:return tj(e);case ot.json:case ot.jsonb:return nj(e);case ot.timestamp:return sj(e);case ot.abstime:case ot.date:case ot.daterange:case ot.int4range:case ot.int8range:case ot.money:case ot.reltime:case ot.text:case ot.time:case ot.timestamptz:case ot.timetz:case ot.tsrange:case ot.tstzrange:return xm(e);default:return xm(e)}},xm=n=>n,ej=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},tj=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},nj=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},ij=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,r=n[s];if(n[0]==="{"&&r==="}"){let h;const f=n.slice(1,s);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(y=>N_(e,y))}return n},sj=n=>typeof n=="string"?n.replace(" ","T"):n,C_=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class $f{constructor(e,s,r={},d=ym){this.channel=e,this.event=s,this.payload=r,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(mv||(mv={}));class Yl{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},d=>{const{onJoin:h,onLeave:f,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yl.syncState(this.state,d,h,f),this.pendingDiffs.forEach(g=>{this.state=Yl.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],y()}),this.channel._on(r.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Yl.syncDiff(this.state,d,h,f),y())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,d){const h=this.cloneDeep(e),f=this.transformState(s),y={},g={};return this.map(h,(x,b)=>{f[x]||(g[x]=b)}),this.map(f,(x,b)=>{const S=h[x];if(S){const T=b.map(M=>M.presence_ref),A=S.map(M=>M.presence_ref),O=b.filter(M=>A.indexOf(M.presence_ref)<0),R=S.filter(M=>T.indexOf(M.presence_ref)<0);O.length>0&&(y[x]=O),R.length>0&&(g[x]=R)}else y[x]=b}),this.syncDiff(h,{joins:y,leaves:g},r,d)}static syncDiff(e,s,r,d){const{joins:h,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),d||(d=()=>{}),this.map(h,(y,g)=>{var x;const b=(x=e[y])!==null&&x!==void 0?x:[];if(e[y]=this.cloneDeep(g),b.length>0){const S=e[y].map(A=>A.presence_ref),T=b.filter(A=>S.indexOf(A.presence_ref)<0);e[y].unshift(...T)}r(y,b,g)}),this.map(f,(y,g)=>{let x=e[y];if(!x)return;const b=g.map(S=>S.presence_ref);x=x.filter(S=>b.indexOf(S.presence_ref)<0),e[y]=x,d(y,x,g),x.length===0&&delete e[y]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const d=e[r];return"metas"in d?s[r]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[r]=d,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(pv||(pv={}));var Xl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Xl||(Xl={}));var gs;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(gs||(gs={}));class xo{constructor(e,s={config:{}},r){var d,h;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $f(this,bi.join,this.params,this.timeout),this.rejoinTimer=new E_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bi.reply,{},(f,y)=>{this._trigger(this._replyEventName(y),f)}),this.presence=new Yl(this),this.broadcastEndpointURL=C_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:f,presence:y,private:g}}=this.params,x=(d=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&d!==void 0?d:[],b=!!this.bindings[Xl.PRESENCE]&&this.bindings[Xl.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,S={},T={broadcast:f,presence:Object.assign(Object.assign({},y),{enabled:b}),postgres_changes:x,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(A=>e?.(gs.CHANNEL_ERROR,A)),this._onClose(()=>e?.(gs.CLOSED)),this.updateJoinPayload(Object.assign({config:T},S)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:A})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){e?.(gs.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,M=(O=R?.length)!==null&&O!==void 0?O:0,z=[];for(let V=0;V<M;V++){const k=R[V],{filter:{event:Y,schema:ee,table:I,filter:Q}}=k,oe=A&&A[V];if(oe&&oe.event===Y&&xo.isFilterValueEqual(oe.schema,ee)&&xo.isFilterValueEqual(oe.table,I)&&xo.isFilterValueEqual(oe.filter,Q))z.push(Object.assign(Object.assign({},k),{id:oe.id}));else{this.unsubscribe(),this.state=qt.errored,e?.(gs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(gs.SUBSCRIBED);return}}).receive("error",A=>{this.state=qt.errored,e?.(gs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e?.(gs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===qt.joined&&e===Xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var d;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=r.timeout)!==null&&d!==void 0?d:this.timeout);if(y.status===202)return{success:!0};let g=y.statusText;try{const x=await y.json();g=x.error||x.message||g}catch{}return Promise.reject(new Error(g))}async send(e,s={}){var r,d;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=e,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((d=x.body)===null||d===void 0?void 0:d.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,y,g;const x=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(y=(f=this.params)===null||f===void 0?void 0:f.config)===null||y===void 0?void 0:y.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),x.receive("ok",()=>h("ok")),x.receive("error",()=>h("error")),x.receive("timeout",()=>h("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(d=>{r=new $f(this,bi.leave,{},e),r.receive("ok",()=>{s(),d("ok")}).receive("timeout",()=>{s(),d("timed out")}).receive("error",()=>{d("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const d=new AbortController,h=setTimeout(()=>d.abort(),r),f=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:d.signal}));return clearTimeout(h),f}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new $f(this,e,s,r);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>XS){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var d,h;const f=e.toLocaleLowerCase(),{close:y,error:g,leave:x,join:b}=bi;if(r&&[y,g,x,b].indexOf(f)>=0&&r!==this._joinRef())return;let T=this._onMessage(f,s,r);if(s&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(A=>{var O,R,M;return((O=A.filter)===null||O===void 0?void 0:O.event)==="*"||((M=(R=A.filter)===null||R===void 0?void 0:R.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===f}).map(A=>A.callback(T,r)):(h=this.bindings[f])===null||h===void 0||h.filter(A=>{var O,R,M,z,V,k;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in A){const Y=A.id,ee=(O=A.filter)===null||O===void 0?void 0:O.event;return Y&&((R=s.ids)===null||R===void 0?void 0:R.includes(Y))&&(ee==="*"||ee?.toLocaleLowerCase()===((M=s.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const Y=(V=(z=A?.filter)===null||z===void 0?void 0:z.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return Y==="*"||Y===((k=s?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===f}).map(A=>{if(typeof T=="object"&&"ids"in T){const O=T.data,{schema:R,table:M,commit_timestamp:z,type:V,errors:k}=O;T=Object.assign(Object.assign({},{schema:R,table:M,commit_timestamp:z,eventType:V,new:{},old:{},errors:k}),this._getPayloadRecords(O))}A.callback(T,r)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const d=e.toLocaleLowerCase(),h={type:d,filter:s,callback:r};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&xo.isEqual(d.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bi.close,{},e)}_onError(e){this._on(bi.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=fv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=fv(e.columns,e.old_record)),s}}const Zf=()=>{},Qu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aj=[1e3,2e3,5e3,1e4],rj=1e4,oj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lj{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ym,this.transport=null,this.heartbeatIntervalMs=Qu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zf,this.ref=0,this.reconnectTimer=null,this.vsn=hv,this.logger=Zf,this.conn=null,this.sendBuffer=[],this.serializer=new JS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${vm.websocket}`,this.httpEndpoint=C_(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ca.connecting:return lr.Connecting;case ca.open:return lr.Open;case ca.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,d=this.getChannels().find(h=>h.topic===r);if(d)return d;{const h=new xo(`realtime:${e}`,s,this);return this.channels.push(h),h}}push(e){const{topic:s,event:r,payload:d,ref:h}=e,f=()=>{this.encode(e,y=>{var g;(g=this.conn)===null||g===void 0||g.send(y)})};this.log("push",`${s} ${r} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(YS,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Qu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:d,payload:h,ref:f}=s,y=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${r} ${d} ${y}`.trim(),h),this.channels.filter(x=>x._isMember(r)).forEach(x=>x._trigger(d,h,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ca.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ca.open||this.conn.readyState===ca.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bi.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",d=new URLSearchParams(s);return`${e}${r}${d}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([oj],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,r=!1;if(e)s=e,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(d=>{const h={access_token:s,version:KS};s&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(bi.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(d){this.log("error",`error in ${e} callback`,d)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new E_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,d,h,f,y,g,x,b,S,T,A;switch(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:ym,this.heartbeatIntervalMs=(d=e?.heartbeatIntervalMs)!==null&&d!==void 0?d:Qu.HEARTBEAT_INTERVAL,this.worker=(h=e?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=e?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(y=e?.heartbeatCallback)!==null&&y!==void 0?y:Zf,this.vsn=(g=e?.vsn)!==null&&g!==void 0?g:hv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=e?.reconnectAfterMs)!==null&&x!==void 0?x:(O=>aj[O-1]||rj),this.vsn){case T_:this.encode=(b=e?.encode)!==null&&b!==void 0?b:((O,R)=>R(JSON.stringify(O))),this.decode=(S=e?.decode)!==null&&S!==void 0?S:((O,R)=>R(JSON.parse(O)));break;case WS:this.encode=(T=e?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(A=e?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ic=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cj(n,e,s){const r=new URL(e,n);if(s)for(const[d,h]of Object.entries(s))h!==void 0&&r.searchParams.set(d,h);return r.toString()}async function uj(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function dj(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:d,body:h,headers:f}){const y=cj(n.baseUrl,r,d),g=await uj(n.auth),x=await e(y,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...g,...f},body:h?JSON.stringify(h):void 0}),b=await x.text(),S=(x.headers.get("content-type")||"").includes("application/json"),T=S&&b?JSON.parse(b):b;if(!x.ok){const A=S?T:void 0,O=A?.error;throw new ic(O?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:O?.type,icebergCode:O?.code,details:A})}return{status:x.status,headers:x.headers,data:T}}}}function ed(n){return n.join("")}var hj=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:ed(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const s={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ed(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ed(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ed(n.namespace)}`}),!0}catch(e){if(e instanceof ic&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(s){if(s instanceof ic&&s.status===409)return;throw s}}};function co(n){return n.join("")}var fj=class{constructor(n,e="",s){this.client=n,this.prefix=e,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(n.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(n,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(s){if(s instanceof ic&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(s){if(s instanceof ic&&s.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw s}}},mj=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=dj({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new hj(this.client,e),this.tableOps=new fj(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Ad=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function xt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var pj=class extends Ad{constructor(n,e,s){super(n),this.name="StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_m=class extends Ad{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const cp=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),gj=()=>Response,bm=n=>{if(Array.isArray(n))return n.map(s=>bm(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,r])=>{const d=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));e[d]=bm(r)}),e},yj=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},vj=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function sc(n){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(n)}function xj(n,e){if(sc(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _j(n){var e=xj(n,"string");return sc(e)=="symbol"?e:e+""}function bj(n,e,s){return(e=_j(e))in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function gv(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable})),s.push.apply(s,r)}return s}function Te(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?gv(Object(s),!0).forEach(function(r){bj(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):gv(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const Gf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},wj=async(n,e,s)=>{n instanceof await gj()&&!s?.noResolveJson?n.json().then(r=>{const d=n.status||500,h=r?.statusCode||d+"";e(new pj(Gf(r),d,h))}).catch(r=>{e(new _m(Gf(r),r))}):e(new _m(Gf(n),n))},Sj=(n,e,s,r)=>{const d={method:n,headers:e?.headers||{}};return n==="GET"||!r?d:(yj(r)?(d.headers=Te({"Content-Type":"application/json"},e?.headers),d.body=JSON.stringify(r)):d.body=r,e?.duplex&&(d.duplex=e.duplex),Te(Te({},d),s))};async function vc(n,e,s,r,d,h){return new Promise((f,y)=>{n(s,Sj(e,r,d,h)).then(g=>{if(!g.ok)throw g;return r?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>wj(g,y,r))})}async function ac(n,e,s,r){return vc(n,"GET",e,s,r)}async function _i(n,e,s,r,d){return vc(n,"POST",e,r,d,s)}async function wm(n,e,s,r,d){return vc(n,"PUT",e,r,d,s)}async function jj(n,e,s,r){return vc(n,"HEAD",e,Te(Te({},s),{},{noResolveJson:!0}),r)}async function up(n,e,s,r,d){return vc(n,"DELETE",e,r,d,s)}var Tj=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}}};let A_;A_=Symbol.toStringTag;var Ej=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[A_]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tj(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(xt(e))return{data:null,error:e};throw e}}};const Nj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Cj=class{constructor(n,e={},s,r){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=s,this.fetch=cp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,s,r){var d=this;try{let h;const f=Te(Te({},yv),r);let y=Te(Te({},d.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",d.encodeMetadata(g)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),g&&!h.has("metadata")&&h.append("metadata",d.encodeMetadata(g))):(h=s,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType,g&&(y["x-metadata"]=d.toBase64(d.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),r?.headers&&(y=Te(Te({},y),r.headers));const x=d._removeEmptyFolders(e),b=d._getFinalPath(x),S=await(n=="PUT"?wm:_i)(d.fetch,`${d.url}/object/${b}`,h,Te({headers:y},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:x,id:S.Id,fullPath:S.Key},error:null}}catch(h){if(d.shouldThrowOnError)throw h;if(xt(h))return{data:null,error:h};throw h}}async upload(n,e,s){return this.uploadOrUpdate("POST",n,e,s)}async uploadToSignedUrl(n,e,s,r){var d=this;const h=d._removeEmptyFolders(n),f=d._getFinalPath(h),y=new URL(d.url+`/object/upload/sign/${f}`);y.searchParams.set("token",e);try{let g;const x=Te({upsert:yv.upsert},r),b=Te(Te({},d.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",x.cacheControl)):(g=s,b["cache-control"]=`max-age=${x.cacheControl}`,b["content-type"]=x.contentType),{data:{path:h,fullPath:(await wm(d.fetch,y.toString(),g,{headers:b})).Key},error:null}}catch(g){if(d.shouldThrowOnError)throw g;if(xt(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(n,e){var s=this;try{let r=s._getFinalPath(n);const d=Te({},s.headers);e?.upsert&&(d["x-upsert"]="true");const h=await _i(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:d}),f=new URL(s.url+h.url),y=f.searchParams.get("token");if(!y)throw new Ad("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:y},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async update(n,e,s){return this.uploadOrUpdate("PUT",n,e,s)}async move(n,e,s){var r=this;try{return{data:await _i(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:r.headers}),error:null}}catch(d){if(r.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async copy(n,e,s){var r=this;try{return{data:{path:(await _i(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(d){if(r.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async createSignedUrl(n,e,s){var r=this;try{let d=r._getFinalPath(n),h=await _i(r.fetch,`${r.url}/object/sign/${d}`,Te({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:r.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return h={signedUrl:encodeURI(`${r.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(d){if(r.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async createSignedUrls(n,e,s){var r=this;try{const d=await _i(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:d.map(f=>Te(Te({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${h}`):null})),error:null}}catch(d){if(r.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}download(n,e){const s=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),d=r?`?${r}`:"",h=this._getFinalPath(n),f=()=>ac(this.fetch,`${this.url}/${s}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new Ej(f,this.shouldThrowOnError)}async info(n){var e=this;const s=e._getFinalPath(n);try{return{data:bm(await ac(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async exists(n){var e=this;const s=e._getFinalPath(n);try{return await jj(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xt(r)&&r instanceof _m){const d=r.originalError;if([400,404].includes(d?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const s=this._getFinalPath(n),r=[],d=e?.download?`download=${e.download===!0?"":e.download}`:"";d!==""&&r.push(d);const h=typeof e?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(e?.transform||{});f!==""&&r.push(f);let y=r.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${y}`)}}}async remove(n){var e=this;try{return{data:await up(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}async list(n,e,s){var r=this;try{const d=Te(Te(Te({},Nj),e),{},{prefix:n||""});return{data:await _i(r.fetch,`${r.url}/object/list/${r.bucketId}`,d,{headers:r.headers},s),error:null}}catch(d){if(r.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}}async listV2(n,e){var s=this;try{const r=Te({},n);return{data:await _i(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},e),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const R_="2.89.0",O_={"X-Client-Info":`storage-js/${R_}`};var Aj=class{constructor(n,e={},s,r){this.shouldThrowOnError=!1;const d=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Te(Te({},O_),e),this.fetch=cp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const s=e.listBucketOptionsToQueryString(n);return{data:await ac(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}async getBucket(n){var e=this;try{return{data:await ac(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}async createBucket(n,e={public:!1}){var s=this;try{return{data:await _i(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async updateBucket(n,e){var s=this;try{return{data:await wm(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async emptyBucket(n){var e=this;try{return{data:await _i(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await up(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Rj=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},O_),e),this.fetch=cp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await _i(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}async listBuckets(n){var e=this;try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const r=s.toString(),d=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await ac(e.fetch,d,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await up(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}}from(n){var e=this;if(!vj(n))throw new Ad("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new mj({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(d,h){const f=d[h];return typeof f!="function"?f:async(...y)=>{try{return{data:await f.apply(d,y),error:null}}catch(g){if(r)throw g;return{data:null,error:g}}}}})}};const dp={"X-Client-Info":`storage-js/${R_}`,"Content-Type":"application/json"};var L_=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ff=class extends L_{constructor(n,e,s){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Oj=class extends L_{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const hp=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Lj=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},vv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kj=async(n,e,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const r=n.status||500,d=n;if(typeof d.json=="function")d.json().then(h=>{const f=h?.statusCode||h?.code||r+"";e(new Ff(vv(h),r,f))}).catch(()=>{const h=r+"";e(new Ff(d.statusText||`HTTP ${r} error`,r,h))});else{const h=r+"";e(new Ff(d.statusText||`HTTP ${r} error`,r,h))}}else e(new Oj(vv(n),n))},Mj=(n,e,s,r)=>{const d={method:n,headers:e?.headers||{}};return r?(Lj(r)?(d.headers=Te({"Content-Type":"application/json"},e?.headers),d.body=JSON.stringify(r)):d.body=r,Te(Te({},d),s)):d};async function Pj(n,e,s,r,d,h){return new Promise((f,y)=>{n(s,Mj(e,r,d,h)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;const x=g.headers.get("content-type");return!x||!x.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>kj(g,y,r))})}async function In(n,e,s,r,d){return Pj(n,"POST",e,r,d,s)}var zj=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},dp),e),this.fetch=hp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await In(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async getIndex(n,e){var s=this;try{return{data:await In(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}async listIndexes(n){var e=this;try{return{data:await In(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async deleteIndex(n,e){var s=this;try{return{data:await In(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:s.headers})||{},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}},Dj=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},dp),e),this.fetch=hp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await In(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async getVectors(n){var e=this;try{return{data:await In(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await In(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async queryVectors(n){var e=this;try{return{data:await In(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await In(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}},Bj=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},dp),e),this.fetch=hp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await In(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async getBucket(n){var e=this;try{return{data:await In(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var e=this;try{return{data:await In(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await In(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Vn(s))return{data:null,error:s};throw s}}},Uj=class extends Bj{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new Vj(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,s=this;return e().call(s,n)}async getBucket(n){var e=()=>super.getBucket,s=this;return e().call(s,n)}async listBuckets(n={}){var e=()=>super.listBuckets,s=this;return e().call(s,n)}async deleteBucket(n){var e=()=>super.deleteBucket,s=this;return e().call(s,n)}},Vj=class extends zj{constructor(n,e,s,r){super(n,e,r),this.vectorBucketName=s}async createIndex(n){var e=()=>super.createIndex,s=this;return e().call(s,Te(Te({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,s=this;return e().call(s,Te(Te({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,n)}index(n){return new Ij(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Ij=class extends Dj{constructor(n,e,s,r,d){super(n,e,d),this.vectorBucketName=s,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,s=this;return e().call(s,Te(Te({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var e=()=>super.getVectors,s=this;return e().call(s,Te(Te({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,s=this;return e().call(s,Te(Te({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,s=this;return e().call(s,Te(Te({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,s=this;return e().call(s,Te(Te({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Hj=class extends Aj{constructor(n,e={},s,r){super(n,e,s,r)}from(n){return new Cj(this.url,this.headers,n,this.fetch)}get vectors(){return new Uj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rj(this.url+"/iceberg",this.headers,this.fetch)}};const k_="2.89.0",yo=30*1e3,Sm=3,Kf=Sm*yo,qj="http://localhost:9999",$j="supabase.auth.token",Zj={"X-Client-Info":`gotrue-js/${k_}`},jm="X-Supabase-Api-Version",M_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fj=600*1e3;class rc extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function _e(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Kj extends rc{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Wj(n){return _e(n)&&n.name==="AuthApiError"}class cr extends rc{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ws extends rc{constructor(e,s,r,d){super(e,r,d),this.name=s,this.status=r}}class Bn extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yj(n){return _e(n)&&n.name==="AuthSessionMissingError"}class uo extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class td extends ws{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nd extends ws{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xj(n){return _e(n)&&n.name==="AuthImplicitGrantRedirectError"}class xv extends ws{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jj extends ws{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Tm extends ws{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Wf(n){return _e(n)&&n.name==="AuthRetryableFetchError"}class _v extends ws{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Em extends ws{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bv=` 	
\r=`.split(""),Qj=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<bv.length;e+=1)n[bv[e].charCodeAt(0)]=-2;for(let e=0;e<md.length;e+=1)n[md[e].charCodeAt(0)]=e;return n})();function wv(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(md[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(md[r]),e.queuedBits-=6}}function P_(n,e,s){const r=Qj[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Sv(n){const e=[],s=f=>{e.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{nT(f,r,s)};for(let f=0;f<n.length;f+=1)P_(n.charCodeAt(f),d,h);return e.join("")}function eT(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function tT(n,e){for(let s=0;s<n.length;s+=1){let r=n.charCodeAt(s);if(r>55295&&r<=56319){const d=(r-55296)*1024&65535;r=(n.charCodeAt(s+1)-56320&65535|d)+65536,s+=1}eT(r,e)}}function nT(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Eo(n){const e=[],s={queue:0,queuedBits:0},r=d=>{e.push(d)};for(let d=0;d<n.length;d+=1)P_(n.charCodeAt(d),s,r);return new Uint8Array(e)}function iT(n){const e=[];return tT(n,s=>e.push(s)),new Uint8Array(e)}function ur(n){const e=[],s={queue:0,queuedBits:0},r=d=>{e.push(d)};return n.forEach(d=>wv(d,s,r)),wv(null,s,r),e.join("")}function sT(n){return Math.round(Date.now()/1e3)+n}function aT(){return Symbol("auth-callback")}const tn=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},z_=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function rT(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((d,h)=>{e[h]=d})}catch{}return s.searchParams.forEach((r,d)=>{e[d]=r}),e}const D_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),oT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",vo=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},sr=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},en=async(n,e)=>{await n.removeItem(e)};class Rd{constructor(){this.promise=new Rd.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Rd.promiseConstructor=Promise;function Yf(n){const e=n.split(".");if(e.length!==3)throw new Em("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Gj.test(e[r]))throw new Em("JWT not in base64url format");return{header:JSON.parse(Sv(e[0])),payload:JSON.parse(Sv(e[1])),signature:Eo(e[2]),raw:{header:e[0],payload:e[1]}}}async function lT(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function cT(n,e){return new Promise((r,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await n(h);if(!e(h,null,f)){r(f);return}}catch(f){if(!e(h,f)){d(f);return}}})()})}function uT(n){return("0"+n.toString(16)).substr(-2)}function dT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let d="";for(let h=0;h<56;h++)d+=s.charAt(Math.floor(Math.random()*r));return d}return crypto.getRandomValues(e),Array.from(e,uT).join("")}async function hT(n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),d=new Uint8Array(r);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function fT(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await hT(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ho(n,e,s=!1){const r=dT();let d=r;s&&(d+="/PASSWORD_RECOVERY"),await vo(n,`${e}-code-verifier`,d);const h=await fT(r);return[h,r===h?"plain":"s256"]}const mT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pT(n){const e=n.headers.get(jm);if(!e||!e.match(mT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gT(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function yT(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(n){if(!vT.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xT(n,e){return new Proxy(n,{get:(s,r,d)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,d)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,d)}})}function jv(n){return JSON.parse(JSON.stringify(n))}const rr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_T=[502,503,504];async function Tv(n){var e;if(!oT(n))throw new Tm(rr(n),0);if(_T.includes(n.status))throw new Tm(rr(n),n.status);let s;try{s=await n.json()}catch(h){throw new cr(rr(h),h)}let r;const d=pT(n);if(d&&d.getTime()>=M_["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new _v(rr(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Bn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new _v(rr(s),n.status,s.weak_password.reasons);throw new Kj(rr(s),n.status||500,r)}const bT=(n,e,s,r)=>{const d={method:n,headers:e?.headers||{}};return n==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),d.body=JSON.stringify(r),Object.assign(Object.assign({},d),s))};async function je(n,e,s,r){var d;const h=Object.assign({},r?.headers);h[jm]||(h[jm]=M_["2024-01-01"].name),r?.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const f=(d=r?.query)!==null&&d!==void 0?d:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const y=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await wT(n,e,s+y,{headers:h,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function wT(n,e,s,r,d,h){const f=bT(e,r,d,h);let y;try{y=await n(s,Object.assign({},f))}catch(g){throw console.error(g),new Tm(rr(g),0)}if(y.ok||await Tv(y),r?.noResolveJson)return y;try{return await y.json()}catch(g){await Tv(g)}}function vi(n){var e;let s=null;TT(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=sT(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:r},error:null}}function Ev(n){const e=vi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ua(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ST(n){return{data:n,error:null}}function jT(n){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:d,verification_type:h}=n,f=Cd(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:e,email_otp:s,hashed_token:r,redirect_to:d,verification_type:h},g=Object.assign({},f);return{data:{properties:y,user:g},error:null}}function Nv(n){return n}function TT(n){return n.access_token&&n.refresh_token&&n.expires_in}const Jf=["global","local","others"];class ET{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=D_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Jf[0]){if(Jf.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jf.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ua})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Cd(e,["options"]),d=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(d.new_email=r?.newEmail,delete d.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:jT,redirectTo:s?.redirectTo})}catch(s){if(_e(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ua})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,d,h,f,y,g;try{const x={nextPage:null,lastPage:0,total:0},b=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=e?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:Nv});if(b.error)throw b.error;const S=await b.json(),T=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(g=(y=b.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(O.split(";")[1].split("=")[1]);x[`${M}Page`]=R}),x.total=parseInt(T)),{data:Object.assign(Object.assign({},S),x),error:null}}catch(x){if(_e(x))return{data:{users:[]},error:x};throw x}}async getUserById(e){fo(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ua})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){fo(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ua})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){fo(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ua})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fo(e.userId);try{const{data:s,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:s,error:r}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,d,h,f,y,g;try{const x={nextPage:null,lastPage:0,total:0},b=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=e?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:Nv});if(b.error)throw b.error;const S=await b.json(),T=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(g=(y=b.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(O.split(";")[1].split("=")[1]);x[`${M}Page`]=R}),x.total=parseInt(T)),{data:Object.assign(Object.assign({},S),x),error:null}}catch(x){if(_e(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}}function Cv(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const mo={debug:!!(globalThis&&z_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NT extends B_{}async function CT(n,e,s){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async d=>{if(d){mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,d.name);try{return await s()}finally{mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,d.name)}}else{if(e===0)throw mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new NT(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(mo.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function AT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function U_(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function RT(n){return parseInt(n,16)}function OT(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function LT(n){var e;const{chainId:s,domain:r,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:y,requestId:g,resources:x,scheme:b,uri:S,version:T}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const A=U_(n.address),O=b?`${b}://${r}`:r,R=n.statement?`${n.statement}
`:"",M=`${O} wants you to sign in with your Ethereum account:
${A}

${R}`;let z=`URI: ${S}
Version: ${T}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(z+=`
Expiration Time: ${d.toISOString()}`),y&&(z+=`
Not Before: ${y.toISOString()}`),g&&(z+=`
Request ID: ${g}`),x){let V=`
Resources:`;for(const k of x){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);V+=`
- ${k}`}z+=V}return`${M}
${z}`}class Bt extends Error{constructor({message:e,code:s,cause:r,name:d}){var h;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=d??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class pd extends Bt{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function kT({error:n,options:e}){var s,r,d;const{publicKey:h}=e;if(!h)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Bt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return h.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new Bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(V_(f)){if(h.rp.id!==f)return new Bt({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function MT({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Bt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(V_(r)){if(s.rpId!==r)return new Bt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class PT{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zT=new PT;function DT(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:r}=n,d=Cd(n,["challenge","user","excludeCredentials"]),h=Eo(e).buffer,f=Object.assign(Object.assign({},s),{id:Eo(s.id).buffer}),y=Object.assign(Object.assign({},d),{challenge:h,user:f});if(r&&r.length>0){y.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const x=r[g];y.excludeCredentials[g]=Object.assign(Object.assign({},x),{id:Eo(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return y}function BT(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,r=Cd(n,["challenge","allowCredentials"]),d=Eo(e).buffer,h=Object.assign(Object.assign({},r),{challenge:d});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const y=s[f];h.allowCredentials[f]=Object.assign(Object.assign({},y),{id:Eo(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return h}function UT(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:ur(new Uint8Array(n.response.attestationObject)),clientDataJSON:ur(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VT(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,r=n.getClientExtensionResults(),d=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ur(new Uint8Array(d.authenticatorData)),clientDataJSON:ur(new Uint8Array(d.clientDataJSON)),signature:ur(new Uint8Array(d.signature)),userHandle:d.userHandle?ur(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function V_(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Av(){var n,e;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IT(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",e)}:{data:null,error:new pd("Empty credential response",e)}}catch(e){return{data:null,error:kT({error:e,options:n})}}}async function HT(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",e)}:{data:null,error:new pd("Empty credential response",e)}}catch(e){return{data:null,error:MT({error:e,options:n})}}}const qT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$T={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gd(...n){const e=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),s=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),r={};for(const d of n)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))r[h]=f;else if(s(f))r[h]=f;else if(e(f)){const y=r[h];e(y)?r[h]=gd(y,f):r[h]=gd(f)}else r[h]=f}return r}function ZT(n,e){return gd(qT,n,e||{})}function GT(n,e){return gd($T,n,e||{})}class FT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:d},h){try{const{data:f,error:y}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!f)return{data:null,error:y};const g=d??zT.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:x}=f.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${r}`),x.displayName||(x.displayName=x.name)}switch(f.webauthn.type){case"create":{const x=ZT(f.webauthn.credential_options.publicKey,h?.create),{data:b,error:S}=await IT({publicKey:x,signal:g});return b?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:S}}case"request":{const x=GT(f.webauthn.credential_options.publicKey,h?.request),{data:b,error:S}=await HT(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x,signal:g}));return b?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:S}}}}catch(f){return _e(f)?{data:null,error:f}:{data:null,error:new cr("Unexpected error in challenge",f)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!s)return{data:null,error:new rc("rpId is required for WebAuthn authentication")};try{if(!Av())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:f,error:y}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:d},{request:h});if(!f)return{data:null,error:y};const{webauthn:g}=f;return this._verify({factorId:e,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:r,credential_response:g.credential_response}})}catch(f){return _e(f)?{data:null,error:f}:{data:null,error:new cr("Unexpected error in authenticate",f)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!s)return{data:null,error:new rc("rpId is required for WebAuthn registration")};try{if(!Av())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:f,error:y}=await this._enroll({friendlyName:e});if(!f)return await this.client.mfa.listFactors().then(b=>{var S;return(S=b.data)===null||S===void 0?void 0:S.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:y};const{data:g,error:x}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:d},{create:h});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:x}}catch(f){return _e(f)?{data:null,error:f}:{data:null,error:new cr("Unexpected error in register",f)}}}}AT();const KT={url:qj,storageKey:$j,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Rv(n,e,s){return await s()}const po={};class oc{get jwks(){var e,s;return(s=(e=po[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){po[this.storageKey]=Object.assign(Object.assign({},po[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=po[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){po[this.storageKey]=Object.assign(Object.assign({},po[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},KT),e);if(this.storageKey=h.storageKey,this.instanceID=(s=oc.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,oc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&tn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new ET({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=D_(h.fetch),this.lock=h.lock||Rv,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&tn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=CT:this.lock=Rv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:z_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cv(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Cv(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${k_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(tn()&&(s=rT(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),tn()&&this.detectSessionInUrl&&r!=="none"){const{data:d,error:h}=await this._getSessionFromURL(s,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Xj(h)){const g=(e=h.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:y}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",y),await this._saveSession(f),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return _e(s)?this._returnResult({error:s}):this._returnResult({error:new cr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,d;try{const h=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(d=e?.options)===null||d===void 0?void 0:d.captchaToken}},xform:vi}),{data:f,error:y}=h;if(y||!f)return this._returnResult({data:{user:null,session:null},error:y});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(h){if(_e(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(e){var s,r,d;try{let h;if("email"in e){const{email:b,password:S,options:T}=e;let A=null,O=null;this.flowType==="pkce"&&([A,O]=await ho(this.storage,this.storageKey)),h=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:b,password:S,data:(s=T?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:A,code_challenge_method:O},xform:vi})}else if("phone"in e){const{phone:b,password:S,options:T}=e;h=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:S,data:(r=T?.data)!==null&&r!==void 0?r:{},channel:(d=T?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:vi})}else throw new td("You must provide either an email or phone number and a password");const{data:f,error:y}=h;if(y||!f)return await en(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(h){if(await en(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(e){try{let s;if("email"in e){const{email:h,password:f,options:y}=e;s=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ev})}else if("phone"in e){const{phone:h,password:f,options:y}=e;s=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ev})}else throw new td("You must provide either an email or phone number and a password");const{data:r,error:d}=s;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!r||!r.session||!r.user){const h=new uo;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:d})}catch(s){if(_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,d,h;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=e.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,d,h,f,y,g,x,b,S,T;let A,O;if("message"in e)A=e.message,O=e.signature;else{const{chain:R,wallet:M,statement:z,options:V}=e;let k;if(tn())if(typeof M=="object")k=M;else{const be=window;if("ethereum"in be&&typeof be.ethereum=="object"&&"request"in be.ethereum&&typeof be.ethereum.request=="function")k=be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=M}const Y=new URL((s=V?.url)!==null&&s!==void 0?s:window.location.href),ee=await k.request({method:"eth_requestAccounts"}).then(be=>be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=U_(ee[0]);let Q=(r=V?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const be=await k.request({method:"eth_chainId"});Q=RT(be)}const oe={domain:Y.host,address:I,statement:z,uri:Y.href,version:"1",chainId:Q,nonce:(d=V?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=V?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(y=V?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(x=V?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(b=V?.signInWithEthereum)===null||b===void 0?void 0:b.resources};A=LT(oe),O=await k.request({method:"personal_sign",params:[OT(A),I]})}try{const{data:R,error:M}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:O},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:vi});if(M)throw M;if(!R||!R.session||!R.user){const z=new uo;return this._returnResult({data:{user:null,session:null},error:z})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:M})}catch(R){if(_e(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var s,r,d,h,f,y,g,x,b,S,T,A;let O,R;if("message"in e)O=e.message,R=e.signature;else{const{chain:M,wallet:z,statement:V,options:k}=e;let Y;if(tn())if(typeof z=="object")Y=z;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))Y=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=z}const ee=new URL((s=k?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Y&&Y.signIn){const I=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),V?{statement:V}:null));let Q;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")Q=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)Q=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)O=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),R=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${ee.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(d=(r=k?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=k?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((y=k?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((g=k?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((x=k?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((S=(b=k?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||S===void 0)&&S.length?["Resources",...k.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const I=await Y.signMessage(new TextEncoder().encode(O),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=I}}try{const{data:M,error:z}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ur(R)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:vi});if(z)throw z;if(!M||!M.session||!M.user){const V=new uo;return this._returnResult({data:{user:null,session:null},error:V})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:z})}catch(M){if(_e(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(e){const s=await sr(this.storage,`${this.storageKey}-code-verifier`),[r,d]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Jj;const{data:h,error:f}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vi});if(await en(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const y=new uo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await en(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(e){try{const{options:s,provider:r,token:d,access_token:h,nonce:f}=e,y=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:vi}),{data:g,error:x}=y;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!g||!g.session||!g.user){const b=new uo;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:x})}catch(s){if(_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,d,h,f;try{if("email"in e){const{email:y,options:g}=e;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await ho(this.storage,this.storageKey));const{error:S}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in e){const{phone:y,options:g}=e,{data:x,error:b}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(d=g?.data)!==null&&d!==void 0?d:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:b})}throw new td("You must provide either an email or phone number.")}catch(y){if(await en(this.storage,`${this.storageKey}-code-verifier`),_e(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(e){var s,r;try{let d,h;"options"in e&&(d=(s=e.options)===null||s===void 0?void 0:s.redirectTo,h=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:y}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:vi});if(y)throw y;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,x=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(d){if(_e(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(e){var s,r,d,h,f;try{let y=null,g=null;this.flowType==="pkce"&&([y,g]=await ho(this.storage,this.storageKey));const x=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((d=e?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:g}),headers:this.headers,xform:ST});return!((h=x.data)===null||h===void 0)&&h.url&&tn()&&!(!((f=e.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(y){if(await en(this.storage,`${this.storageKey}-code-verifier`),_e(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Bn;const{error:d}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:d,options:h}=e,{error:f}=await je(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in e){const{phone:r,type:d,options:h}=e,{data:f,error:y}=await je(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:y})}throw new td("You must provide either an email or phone number and a type")}catch(s){if(_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Kf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const f=await sr(this.userStorage,this.storageKey+"-user");f?.user?e.user=f.user:e.user=Xf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};e.user=xT(e.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ua}):await this._useSession(async s=>{var r,d,h;const{data:f,error:y}=s;if(y)throw y;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:ua})})}catch(s){if(_e(s))return Yj(s)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:d,error:h}=r;if(h)throw h;if(!d.session)throw new Bn;const f=d.session;let y=null,g=null;this.flowType==="pkce"&&e.email!=null&&([y,g]=await ho(this.storage,this.storageKey));const{data:x,error:b}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:y,code_challenge_method:g}),jwt:f.access_token,xform:ua});if(b)throw b;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await en(this.storage,`${this.storageKey}-code-verifier`),_e(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bn;const s=Date.now()/1e3;let r=s,d=!0,h=null;const{payload:f}=Yf(e.access_token);if(f.exp&&(r=f.exp,d=r<=s),d){const{data:y,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y)return{data:{user:null,session:null},error:null};h=y}else{const{data:y,error:g}=await this._getUser(e.access_token);if(g)throw g;h={access_token:e.access_token,refresh_token:e.refresh_token,user:y.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(_e(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:f,error:y}=s;if(y)throw y;e=(r=f.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Bn;const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!tn())throw new nd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new xv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nd("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xv("No code detected.");const{data:V,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:y,expires_at:g,token_type:x}=e;if(!h||!y||!f||!x)throw new nd("No session defined in URL");const b=Math.round(Date.now()/1e3),S=parseInt(y);let T=b+S;g&&(T=parseInt(g));const A=T-b;A*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${S}s`);const O=T-S;b-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,T,b):b-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,T,b);const{data:R,error:M}=await this._getUser(h);if(M)throw M;const z={provider_token:r,provider_refresh_token:d,access_token:h,expires_in:S,expires_at:T,refresh_token:f,token_type:x,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:e.type},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:d,error:h}=s;if(h)return this._returnResult({error:h});const f=(r=d.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:y}=await this.admin.signOut(f,e);if(y&&!(Wj(y)&&(y.status===404||y.status===401||y.status===403)))return this._returnResult({error:y})}return e!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=aT(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,d;try{const{data:{session:h},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",e,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(e))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",h),console.error(h)}})}async resetPasswordForEmail(e,s={}){let r=null,d=null;this.flowType==="pkce"&&([r,d]=await ho(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:d,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await en(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:d}=await this._useSession(async h=>{var f,y,g,x,b;const{data:S,error:T}=h;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(f=e.options)===null||f===void 0?void 0:f.redirectTo,scopes:(y=e.options)===null||y===void 0?void 0:y.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(x=S.session)===null||x===void 0?void 0:x.access_token)!==null&&b!==void 0?b:void 0})});if(d)throw d;return tn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(_e(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:d,data:{session:h}}=s;if(d)throw d;const{options:f,provider:y,token:g,access_token:x,nonce:b}=e,S=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:y,id_token:g,access_token:x,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:vi}),{data:T,error:A}=S;return A?this._returnResult({data:{user:null,session:null},error:A}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new uo}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:A}))}catch(d){if(await en(this.storage,`${this.storageKey}-code-verifier`),_e(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,d;const{data:h,error:f}=s;if(f)throw f;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(d=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&d!==void 0?d:void 0})})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await cT(async d=>(d>0&&await lT(200*Math.pow(2,d-1)),this._debug(s,"refreshing attempt",d),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vi})),(d,h)=>{const f=200*Math.pow(2,d);return h&&Wf(h)&&Date.now()+f-r<yo})}catch(r){if(this._debug(s,"error",r),_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),tn()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const d=await sr(this.storage,this.storageKey);if(d&&this.userStorage){let f=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await vo(this.userStorage,this.storageKey+"-user",f)),d.user=(e=f?.user)!==null&&e!==void 0?e:Xf()}else if(d&&!d.user&&!d.user){const f=await sr(this.storage,this.storageKey+"-user");f&&f?.user?(d.user=f.user,await en(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,d)):d.user=Xf()}if(this._debug(r,"session from storage",d),!this._isValidSession(d)){this._debug(r,"session is not valid"),d!==null&&await this._removeSession();return}const h=((s=d.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Kf;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${Kf}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),Wf(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:y}=await this._getUser(d.access_token);!y&&f?.user?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(r,"error",d),console.error(d);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Rd;const{data:h,error:f}=await this._refreshAccessToken(e);if(f)throw f;if(!h.session)throw new Bn;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const y={data:h.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(h){if(this._debug(d,"error",h),_e(h)){const f={data:null,error:h};return Wf(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(e,s,r=!0){const d=`#_notifyAllSubscribers(${e})`;this._debug(d,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(e,s)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let y=0;y<h.length;y+=1)console.error(h[y]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await en(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await vo(this.userStorage,this.storageKey+"-user",{user:s.user});const d=Object.assign({},s);delete d.user;const h=jv(d);await vo(this.storage,this.storageKey,h)}else{const d=jv(s);await vo(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((r.expires_at*1e3-e)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${yo}ms, refresh threshold is ${Sm} ticks`),d<=Sm&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof B_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const d=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&d.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,f]=await ho(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(y.toString())}if(r?.queryParams){const h=new URLSearchParams(r.queryParams);d.push(h.toString())}return r?.skipBrowserRedirect&&d.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${d.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:d,error:h}=s;return h?this._returnResult({data:null,error:h}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,d;const{data:h,error:f}=s;if(f)return this._returnResult({data:null,error:f});const y=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:x}=await je(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(r=h?.session)===null||r===void 0?void 0:r.access_token});return x?this._returnResult({data:null,error:x}):(e.factorType==="totp"&&g.type==="totp"&&(!((d=g?.totp)===null||d===void 0)&&d.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:d,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?UT(e.webauthn.credential_response):VT(e.webauthn.credential_response)})}:{code:e.code}),{data:y,error:g}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:g}))})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:d,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:y}=f;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:DT(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:BT(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(e=s?.factors)!==null&&e!==void 0?e:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:r},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Yf(r.access_token);let f=null;h.aal&&(f=h.aal);let y=f;((s=(e=r.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(y="aal2");const x=h.amr||[];return{data:{currentLevel:f,nextLevel:y,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:d}=s;return d?this._returnResult({data:null,error:d}):r?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Bn});const f=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return f.data&&f.data.redirect_url&&tn()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Bn});const f=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return f.data&&f.data.redirect_url&&tn()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:r},error:d}=s;return d?this._returnResult({data:null,error:d}):r?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(y=>y.kid===e);if(r)return r;const d=Date.now();if(r=this.jwks.keys.find(y=>y.kid===e),r&&this.jwks_cached_at+Fj>d)return r;const{data:h,error:f}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,r=h.keys.find(y=>y.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:A,error:O}=await this.getSession();if(O||!A.session)return this._returnResult({data:null,error:O});r=A.session.access_token}const{header:d,payload:h,signature:f,raw:{header:y,payload:g}}=Yf(r);s?.allowExpired||gT(h.exp);const x=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!x){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:h,header:d,signature:f},error:null}}const b=yT(d.alg),S=await crypto.subtle.importKey("jwk",x,b,!0,["verify"]);if(!await crypto.subtle.verify(b,S,f,iT(`${y}.${g}`)))throw new Em("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}}oc.nextInstanceID={};const WT=oc,YT="2.89.0";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const XT={"X-Client-Info":`supabase-js-${Fl}/${YT}`},JT={headers:XT},QT={schema:"public"},eE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tE={};function lc(n){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(n)}function nE(n,e){if(lc(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iE(n){var e=nE(n,"string");return lc(e)=="symbol"?e:e+""}function sE(n,e,s){return(e=iE(e))in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Ov(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable})),s.push.apply(s,r)}return s}function Et(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Ov(Object(s),!0).forEach(function(r){sE(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Ov(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const aE=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),rE=()=>Headers,oE=(n,e,s)=>{const r=aE(s),d=rE();return async(h,f)=>{var y;const g=(y=await e())!==null&&y!==void 0?y:n;let x=new d(f?.headers);return x.has("apikey")||x.set("apikey",n),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),r(h,Et(Et({},f),{},{headers:x}))}};function lE(n){return n.endsWith("/")?n:n+"/"}function cE(n,e){var s,r;const{db:d,auth:h,realtime:f,global:y}=n,{db:g,auth:x,realtime:b,global:S}=e,T={db:Et(Et({},g),d),auth:Et(Et({},x),h),realtime:Et(Et({},b),f),storage:{},global:Et(Et(Et({},S),y),{},{headers:Et(Et({},(s=S?.headers)!==null&&s!==void 0?s:{}),(r=y?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?T.accessToken=n.accessToken:delete T.accessToken,T}function uE(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var dE=class extends WT{constructor(n){super(n)}},hE=class{constructor(n,e,s){var r,d;this.supabaseUrl=n,this.supabaseKey=e;const h=uE(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,y={db:QT,realtime:tE,auth:Et(Et({},eE),{},{storageKey:f}),global:JT},g=cE(s??{},y);if(this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(d=g.global.headers)!==null&&d!==void 0?d:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=g.auth)!==null&&x!==void 0?x:{},this.headers,g.global.fetch)}this.fetch=oE(e,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new ZS(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Hj(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new VS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,s)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,s;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:d,storageKey:h,flowType:f,lock:y,debug:g,throwOnError:x},b,S){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dE({url:this.authUrl.href,headers:Et(Et({},T),b),storageKey:h,autoRefreshToken:n,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:d,flowType:f,lock:y,debug:g,throwOnError:x,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new lj(this.realtimeUrl.href,Et(Et({},n),{},{params:Et(Et({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const fE=(n,e,s)=>new hE(n,e,s);function mE(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pE="https://jqhiubituqmwouaszjpc.supabase.co",gE="sb_publishable_yk9cpugGvHpx_0Ys8hKEsw_h8NH14CR",he=fE(pE,gE),yE=async(n,e)=>{try{const{data:s,error:r}=await he.from("usuarios").select("*").eq("email",n).eq("password",e).eq("activo",!0).single();return r||!s?(console.error("Error al iniciar sesin:",r),null):s}catch(s){return console.error("Error al iniciar sesin:",s),null}};function vE(){const[n,e]=N.useState(""),[s,r]=N.useState(""),[d,h]=N.useState(!1),[f,y]=N.useState(""),{setUsuario:g}=Rt(),{isDark:x}=MS(),b=at(),S=async T=>{T.preventDefault(),y(""),h(!0);try{const A=await yE(n,s);if(A)switch(g(A),A.tipo_usuario){case"repartidor":b("/repartidor/dashboard");break;case"restaurante":b("/restaurante/dashboard");break;case"operador":b("/operador/dashboard");break;case"admin":b("/admin/dashboard");break;default:b("/home");break}else y("Email o contrasea incorrectos")}catch(A){y("Error al iniciar sesin. Intenta nuevamente."),console.error(A)}finally{h(!1)}};return l.jsxs("div",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:x?"linear-gradient(135deg, #0a0118 0%, #1a0b2e 50%, #0f0a1f 100%)":"linear-gradient(135deg, #faf5ff 0%, #fce7f3 50%, #eef2ff 100%)",padding:"16px",transition:"background 0.5s ease"},children:[l.jsxs("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",opacity:.6},children:[l.jsx("div",{style:{position:"absolute",top:"28%",left:"20%",width:"180px",height:"180px",background:x?"radial-gradient(circle, rgba(168,85,247,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(192,132,252,0.2) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(48px)",animation:"pulse 4s ease-in-out infinite"}}),l.jsx("div",{style:{position:"absolute",bottom:"22%",right:"18%",width:"200px",height:"200px",background:x?"radial-gradient(circle, rgba(236,72,153,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(251,207,232,0.28) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(52px)",animation:"pulse 5s ease-in-out infinite",animationDelay:"1s"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"52%",width:"160px",height:"160px",background:x?"radial-gradient(circle, rgba(99,102,241,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(165,180,252,0.22) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"pulse 6s ease-in-out infinite",animationDelay:"2s"}})]}),l.jsx("main",{style:{position:"relative",width:"100%",maxWidth:"360px",zIndex:10,animation:"fadeInUp 0.5s ease-out"},children:l.jsxs("div",{style:{position:"relative",background:x?"rgba(31,18,48,0.92)":"rgba(255,255,255,0.92)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderRadius:"20px",boxShadow:x?"0 18px 50px rgba(168,85,247,0.22), 0 0 0 1px rgba(167,139,250,0.08)":"0 14px 40px rgba(0,0,0,0.10), 0 0 0 1px rgba(192,132,252,0.12)",border:x?"1px solid rgba(139,92,246,0.15)":"1px solid rgba(192,132,252,0.18)",padding:"32px 24px",transition:"all 0.2s ease"},onMouseEnter:T=>{T.currentTarget.style.boxShadow=x?"0 30px 80px rgba(168,85,247,0.35), 0 0 0 1px rgba(167,139,250,0.15)":"0 25px 70px rgba(0,0,0,0.15), 0 0 0 1px rgba(192,132,252,0.2)"},onMouseLeave:T=>{T.currentTarget.style.boxShadow=x?"0 25px 70px rgba(168,85,247,0.25), 0 0 0 1px rgba(167,139,250,0.1)":"0 20px 60px rgba(0,0,0,0.12), 0 0 0 1px rgba(192,132,252,0.15)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px",animation:"slideInLeft 0.5s ease-out"},children:[l.jsx("div",{style:{position:"relative",width:64,height:64},children:l.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, #a855f7 0%, #ec4899 100%)",borderRadius:"16px",filter:"blur(12px)",opacity:.7}})}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[l.jsx("img",{src:"/logo.png",alt:"Delibery",style:{width:"120px",height:"auto",objectFit:"contain",transition:"transform 0.25s ease",display:"block"},onMouseEnter:T=>T.currentTarget.style.transform="scale(1.03) rotate(1deg)",onMouseLeave:T=>T.currentTarget.style.transform="scale(1) rotate(0deg)"}),l.jsx("p",{style:{fontSize:"14px",color:x?"#d1d5db":"#6b7280",margin:"6px 0 0 0",fontWeight:500},children:" Bienvenido de vuelta"})]})]}),l.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:"14px"},children:[f&&l.jsxs("div",{style:{background:x?"rgba(127,29,29,0.4)":"#fef2f2",border:`1px solid ${x?"#991b1b":"#fecaca"}`,color:x?"#fca5a5":"#dc2626",padding:"12px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",animation:"shake 0.5s ease-in-out"},children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),f]}),l.jsxs("div",{style:{animation:"slideInRight 0.6s ease-out"},children:[l.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:"13px",fontWeight:600,color:x?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Email"}),l.jsx("input",{id:"email",type:"email",value:n,onChange:T=>e(T.target.value),placeholder:"tu@email.com",required:!0,disabled:d,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${x?"#6b21a8":"#e9d5ff"}`,background:x?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:x?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:T=>{T.currentTarget.style.borderColor=x?"#a855f7":"#9333ea",T.currentTarget.style.boxShadow=x?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",T.currentTarget.style.transform="scale(1.02)"},onBlur:T=>{T.currentTarget.style.borderColor=x?"#6b21a8":"#e9d5ff",T.currentTarget.style.boxShadow="none",T.currentTarget.style.transform="scale(1)"}})]}),l.jsxs("div",{style:{animation:"slideInRight 0.7s ease-out"},children:[l.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:"13px",fontWeight:600,color:x?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Contrasea"}),l.jsx("input",{id:"password",type:"password",value:s,onChange:T=>r(T.target.value),placeholder:"",required:!0,disabled:d,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${x?"#6b21a8":"#e9d5ff"}`,background:x?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:x?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:T=>{T.currentTarget.style.borderColor=x?"#a855f7":"#9333ea",T.currentTarget.style.boxShadow=x?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",T.currentTarget.style.transform="scale(1.02)"},onBlur:T=>{T.currentTarget.style.borderColor=x?"#6b21a8":"#e9d5ff",T.currentTarget.style.boxShadow="none",T.currentTarget.style.transform="scale(1)"}})]}),l.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"14px 18px",borderRadius:"10px",background:x?"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #6366f1 100%)":"linear-gradient(135deg, #9333ea 0%, #db2777 50%, #4f46e5 100%)",color:"#ffffff",fontSize:"15px",fontWeight:700,border:"none",cursor:d?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:x?"0 10px 30px rgba(168,85,247,0.28)":"0 8px 24px rgba(147,51,234,0.26)",transition:"all 0.2s ease",opacity:d?.8:1,animation:"slideInUp 0.6s ease-out"},onMouseEnter:T=>{d||(T.currentTarget.style.transform="scale(1.02) translateY(-2px)",T.currentTarget.style.boxShadow=x?"0 16px 45px rgba(168,85,247,0.45)":"0 14px 40px rgba(147,51,234,0.4)")},onMouseLeave:T=>{T.currentTarget.style.transform="scale(1) translateY(0)",T.currentTarget.style.boxShadow=x?"0 12px 35px rgba(168,85,247,0.35)":"0 10px 30px rgba(147,51,234,0.3)"},onMouseDown:T=>!d&&(T.currentTarget.style.transform="scale(0.98) translateY(0)"),onMouseUp:T=>!d&&(T.currentTarget.style.transform="scale(1.02) translateY(-2px)"),children:d?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{style:{width:"20px",height:"20px",animation:"spin 1s linear infinite"},viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),l.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),l.jsx("span",{children:"Iniciando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Iniciar Sesin"}),l.jsx("span",{style:{fontSize:"20px",transition:"transform 0.3s ease"},children:""})]})})]})]})}),l.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
          20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { opacity: 0.6; transform: scale(1); }
          50% { opacity: 0.8; transform: scale(1.05); }
        }
      `})]})}function Ke(){return l.jsx(l.Fragment,{children:l.jsx("header",{style:{position:"sticky",top:0,zIndex:100,background:"linear-gradient(135deg, #2e1065, #1e1b4b)",padding:"12px 14px 14px",boxShadow:"0 2px 8px rgba(30, 27, 75, 0.18)",clipPath:"ellipse(100% 75% at 50% 10%)"},children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"500px",margin:"0 auto"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14},children:[l.jsx("img",{src:"/logo.png",alt:"Delibery",style:{height:36,borderRadius:"10px"}}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:1.1},children:[l.jsx("div",{style:{color:"#fff",fontWeight:900,fontSize:16},children:"Food Delibery Roatan"}),l.jsx("div",{style:{fontSize:12,color:"rgba(255,255,255,0.9)",marginTop:2},children:"Tu comida, ms cerca"})]})]})})})})}const fp=N.createContext({});function mp(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const pp=typeof window<"u",I_=pp?N.useLayoutEffect:N.useEffect,Od=N.createContext(null);function gp(n,e){n.indexOf(e)===-1&&n.push(e)}function yp(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const xs=(n,e,s)=>s>e?e:s<n?n:s;let vp=()=>{};const _s={},H_=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function q_(n){return typeof n=="object"&&n!==null}const $_=n=>/^0[^.\s]+$/u.test(n);function xp(n){let e;return()=>(e===void 0&&(e=n()),e)}const ni=n=>n,xE=(n,e)=>s=>e(n(s)),xc=(...n)=>n.reduce(xE),cc=(n,e,s)=>{const r=e-n;return r===0?1:(s-n)/r};class _p{constructor(){this.subscriptions=[]}add(e){return gp(this.subscriptions,e),()=>yp(this.subscriptions,e)}notify(e,s,r){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](e,s,r);else for(let h=0;h<d;h++){const f=this.subscriptions[h];f&&f(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vi=n=>n*1e3,ti=n=>n/1e3;function Z_(n,e){return e?n*(1e3/e):0}const G_=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,_E=1e-7,bE=12;function wE(n,e,s,r,d){let h,f,y=0;do f=e+(s-e)/2,h=G_(f,r,d)-n,h>0?s=f:e=f;while(Math.abs(h)>_E&&++y<bE);return f}function _c(n,e,s,r){if(n===e&&s===r)return ni;const d=h=>wE(h,0,1,n,s);return h=>h===0||h===1?h:G_(d(h),e,r)}const F_=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,K_=n=>e=>1-n(1-e),W_=_c(.33,1.53,.69,.99),bp=K_(W_),Y_=F_(bp),X_=n=>(n*=2)<1?.5*bp(n):.5*(2-Math.pow(2,-10*(n-1))),wp=n=>1-Math.sin(Math.acos(n)),J_=K_(wp),Q_=F_(wp),SE=_c(.42,0,1,1),jE=_c(0,0,.58,1),eb=_c(.42,0,.58,1),TE=n=>Array.isArray(n)&&typeof n[0]!="number",tb=n=>Array.isArray(n)&&typeof n[0]=="number",EE={linear:ni,easeIn:SE,easeInOut:eb,easeOut:jE,circIn:wp,circInOut:Q_,circOut:J_,backIn:bp,backInOut:Y_,backOut:W_,anticipate:X_},NE=n=>typeof n=="string",Lv=n=>{if(tb(n)){vp(n.length===4);const[e,s,r,d]=n;return _c(e,s,r,d)}else if(NE(n))return EE[n];return n},id=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CE(n,e){let s=new Set,r=new Set,d=!1,h=!1;const f=new WeakSet;let y={delta:0,timestamp:0,isProcessing:!1};function g(b){f.has(b)&&(x.schedule(b),n()),b(y)}const x={schedule:(b,S=!1,T=!1)=>{const O=T&&d?s:r;return S&&f.add(b),O.has(b)||O.add(b),b},cancel:b=>{r.delete(b),f.delete(b)},process:b=>{if(y=b,d){h=!0;return}d=!0,[s,r]=[r,s],s.forEach(g),s.clear(),d=!1,h&&(h=!1,x.process(b))}};return x}const AE=40;function nb(n,e){let s=!1,r=!0;const d={delta:0,timestamp:0,isProcessing:!1},h=()=>s=!0,f=id.reduce((k,Y)=>(k[Y]=CE(h),k),{}),{setup:y,read:g,resolveKeyframes:x,preUpdate:b,update:S,preRender:T,render:A,postRender:O}=f,R=()=>{const k=_s.useManualTiming?d.timestamp:performance.now();s=!1,_s.useManualTiming||(d.delta=r?1e3/60:Math.max(Math.min(k-d.timestamp,AE),1)),d.timestamp=k,d.isProcessing=!0,y.process(d),g.process(d),x.process(d),b.process(d),S.process(d),T.process(d),A.process(d),O.process(d),d.isProcessing=!1,s&&e&&(r=!1,n(R))},M=()=>{s=!0,r=!0,d.isProcessing||n(R)};return{schedule:id.reduce((k,Y)=>{const ee=f[Y];return k[Y]=(I,Q=!1,oe=!1)=>(s||M(),ee.schedule(I,Q,oe)),k},{}),cancel:k=>{for(let Y=0;Y<id.length;Y++)f[id[Y]].cancel(k)},state:d,steps:f}}const{schedule:gt,cancel:da,state:nn,steps:Qf}=nb(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let cd;function RE(){cd=void 0}const Cn={now:()=>(cd===void 0&&Cn.set(nn.isProcessing||_s.useManualTiming?nn.timestamp:performance.now()),cd),set:n=>{cd=n,queueMicrotask(RE)}},ib=n=>e=>typeof e=="string"&&e.startsWith(n),sb=ib("--"),OE=ib("var(--"),Sp=n=>OE(n)?LE.test(n.split("/*")[0].trim()):!1,LE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},uc={...Mo,transform:n=>xs(0,1,n)},sd={...Mo,default:1},Jl=n=>Math.round(n*1e5)/1e5,jp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kE(n){return n==null}const ME=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tp=(n,e)=>s=>!!(typeof s=="string"&&ME.test(s)&&s.startsWith(n)||e&&!kE(s)&&Object.prototype.hasOwnProperty.call(s,e)),ab=(n,e,s)=>r=>{if(typeof r!="string")return r;const[d,h,f,y]=r.match(jp);return{[n]:parseFloat(d),[e]:parseFloat(h),[s]:parseFloat(f),alpha:y!==void 0?parseFloat(y):1}},PE=n=>xs(0,255,n),em={...Mo,transform:n=>Math.round(PE(n))},dr={test:Tp("rgb","red"),parse:ab("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:r=1})=>"rgba("+em.transform(n)+", "+em.transform(e)+", "+em.transform(s)+", "+Jl(uc.transform(r))+")"};function zE(n){let e="",s="",r="",d="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),r=n.substring(5,7),d=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),r=n.substring(3,4),d=n.substring(4,5),e+=e,s+=s,r+=r,d+=d),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:d?parseInt(d,16)/255:1}}const Nm={test:Tp("#"),parse:zE,transform:dr.transform},bc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),la=bc("deg"),Ii=bc("%"),Ne=bc("px"),DE=bc("vh"),BE=bc("vw"),kv={...Ii,parse:n=>Ii.parse(n)/100,transform:n=>Ii.transform(n*100)},_o={test:Tp("hsl","hue"),parse:ab("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ii.transform(Jl(e))+", "+Ii.transform(Jl(s))+", "+Jl(uc.transform(r))+")"},Ut={test:n=>dr.test(n)||Nm.test(n)||_o.test(n),parse:n=>dr.test(n)?dr.parse(n):_o.test(n)?_o.parse(n):Nm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?dr.transform(n):_o.transform(n),getAnimatableNone:n=>{const e=Ut.parse(n);return e.alpha=0,Ut.transform(e)}},UE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VE(n){return isNaN(n)&&typeof n=="string"&&(n.match(jp)?.length||0)+(n.match(UE)?.length||0)>0}const rb="number",ob="color",IE="var",HE="var(",Mv="${}",qE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dc(n){const e=n.toString(),s=[],r={color:[],number:[],var:[]},d=[];let h=0;const y=e.replace(qE,g=>(Ut.test(g)?(r.color.push(h),d.push(ob),s.push(Ut.parse(g))):g.startsWith(HE)?(r.var.push(h),d.push(IE),s.push(g)):(r.number.push(h),d.push(rb),s.push(parseFloat(g))),++h,Mv)).split(Mv);return{values:s,split:y,indexes:r,types:d}}function lb(n){return dc(n).values}function cb(n){const{split:e,types:s}=dc(n),r=e.length;return d=>{let h="";for(let f=0;f<r;f++)if(h+=e[f],d[f]!==void 0){const y=s[f];y===rb?h+=Jl(d[f]):y===ob?h+=Ut.transform(d[f]):h+=d[f]}return h}}const $E=n=>typeof n=="number"?0:Ut.test(n)?Ut.getAnimatableNone(n):n;function ZE(n){const e=lb(n);return cb(n)(e.map($E))}const ha={test:VE,parse:lb,createTransformer:cb,getAnimatableNone:ZE};function tm(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function GE({hue:n,saturation:e,lightness:s,alpha:r}){n/=360,e/=100,s/=100;let d=0,h=0,f=0;if(!e)d=h=f=s;else{const y=s<.5?s*(1+e):s+e-s*e,g=2*s-y;d=tm(g,y,n+1/3),h=tm(g,y,n),f=tm(g,y,n-1/3)}return{red:Math.round(d*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:r}}function yd(n,e){return s=>s>0?e:n}const _t=(n,e,s)=>n+(e-n)*s,nm=(n,e,s)=>{const r=n*n,d=s*(e*e-r)+r;return d<0?0:Math.sqrt(d)},FE=[Nm,dr,_o],KE=n=>FE.find(e=>e.test(n));function Pv(n){const e=KE(n);if(!e)return!1;let s=e.parse(n);return e===_o&&(s=GE(s)),s}const zv=(n,e)=>{const s=Pv(n),r=Pv(e);if(!s||!r)return yd(n,e);const d={...s};return h=>(d.red=nm(s.red,r.red,h),d.green=nm(s.green,r.green,h),d.blue=nm(s.blue,r.blue,h),d.alpha=_t(s.alpha,r.alpha,h),dr.transform(d))},Cm=new Set(["none","hidden"]);function WE(n,e){return Cm.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function YE(n,e){return s=>_t(n,e,s)}function Ep(n){return typeof n=="number"?YE:typeof n=="string"?Sp(n)?yd:Ut.test(n)?zv:QE:Array.isArray(n)?ub:typeof n=="object"?Ut.test(n)?zv:XE:yd}function ub(n,e){const s=[...n],r=s.length,d=n.map((h,f)=>Ep(h)(h,e[f]));return h=>{for(let f=0;f<r;f++)s[f]=d[f](h);return s}}function XE(n,e){const s={...n,...e},r={};for(const d in s)n[d]!==void 0&&e[d]!==void 0&&(r[d]=Ep(n[d])(n[d],e[d]));return d=>{for(const h in r)s[h]=r[h](d);return s}}function JE(n,e){const s=[],r={color:0,var:0,number:0};for(let d=0;d<e.values.length;d++){const h=e.types[d],f=n.indexes[h][r[h]],y=n.values[f]??0;s[d]=y,r[h]++}return s}const QE=(n,e)=>{const s=ha.createTransformer(e),r=dc(n),d=dc(e);return r.indexes.var.length===d.indexes.var.length&&r.indexes.color.length===d.indexes.color.length&&r.indexes.number.length>=d.indexes.number.length?Cm.has(n)&&!d.values.length||Cm.has(e)&&!r.values.length?WE(n,e):xc(ub(JE(r,d),d.values),s):yd(n,e)};function db(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?_t(n,e,s):Ep(n)(n,e)}const e4=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>gt.update(e,s),stop:()=>da(e),now:()=>nn.isProcessing?nn.timestamp:Cn.now()}},hb=(n,e,s=10)=>{let r="";const d=Math.max(Math.round(e/s),2);for(let h=0;h<d;h++)r+=Math.round(n(h/(d-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vd=2e4;function Np(n){let e=0;const s=50;let r=n.next(e);for(;!r.done&&e<vd;)e+=s,r=n.next(e);return e>=vd?1/0:e}function t4(n,e=100,s){const r=s({...n,keyframes:[0,e]}),d=Math.min(Np(r),vd);return{type:"keyframes",ease:h=>r.next(d*h).value/e,duration:ti(d)}}const n4=5;function fb(n,e,s){const r=Math.max(e-n4,0);return Z_(s-n(r),e-r)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},im=.001;function i4({duration:n=Nt.duration,bounce:e=Nt.bounce,velocity:s=Nt.velocity,mass:r=Nt.mass}){let d,h,f=1-e;f=xs(Nt.minDamping,Nt.maxDamping,f),n=xs(Nt.minDuration,Nt.maxDuration,ti(n)),f<1?(d=x=>{const b=x*f,S=b*n,T=b-s,A=Am(x,f),O=Math.exp(-S);return im-T/A*O},h=x=>{const S=x*f*n,T=S*s+s,A=Math.pow(f,2)*Math.pow(x,2)*n,O=Math.exp(-S),R=Am(Math.pow(x,2),f);return(-d(x)+im>0?-1:1)*((T-A)*O)/R}):(d=x=>{const b=Math.exp(-x*n),S=(x-s)*n+1;return-im+b*S},h=x=>{const b=Math.exp(-x*n),S=(s-x)*(n*n);return b*S});const y=5/n,g=a4(d,h,y);if(n=Vi(n),isNaN(g))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:n};{const x=Math.pow(g,2)*r;return{stiffness:x,damping:f*2*Math.sqrt(r*x),duration:n}}}const s4=12;function a4(n,e,s){let r=s;for(let d=1;d<s4;d++)r=r-n(r)/e(r);return r}function Am(n,e){return n*Math.sqrt(1-e*e)}const r4=["duration","bounce"],o4=["stiffness","damping","mass"];function Dv(n,e){return e.some(s=>n[s]!==void 0)}function l4(n){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...n};if(!Dv(n,o4)&&Dv(n,r4))if(n.visualDuration){const s=n.visualDuration,r=2*Math.PI/(s*1.2),d=r*r,h=2*xs(.05,1,1-(n.bounce||0))*Math.sqrt(d);e={...e,mass:Nt.mass,stiffness:d,damping:h}}else{const s=i4(n);e={...e,...s,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function xd(n=Nt.visualDuration,e=Nt.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:d}=s;const h=s.keyframes[0],f=s.keyframes[s.keyframes.length-1],y={done:!1,value:h},{stiffness:g,damping:x,mass:b,duration:S,velocity:T,isResolvedFromDuration:A}=l4({...s,velocity:-ti(s.velocity||0)}),O=T||0,R=x/(2*Math.sqrt(g*b)),M=f-h,z=ti(Math.sqrt(g/b)),V=Math.abs(M)<5;r||(r=V?Nt.restSpeed.granular:Nt.restSpeed.default),d||(d=V?Nt.restDelta.granular:Nt.restDelta.default);let k;if(R<1){const ee=Am(z,R);k=I=>{const Q=Math.exp(-R*z*I);return f-Q*((O+R*z*M)/ee*Math.sin(ee*I)+M*Math.cos(ee*I))}}else if(R===1)k=ee=>f-Math.exp(-z*ee)*(M+(O+z*M)*ee);else{const ee=z*Math.sqrt(R*R-1);k=I=>{const Q=Math.exp(-R*z*I),oe=Math.min(ee*I,300);return f-Q*((O+R*z*M)*Math.sinh(oe)+ee*M*Math.cosh(oe))/ee}}const Y={calculatedDuration:A&&S||null,next:ee=>{const I=k(ee);if(A)y.done=ee>=S;else{let Q=ee===0?O:0;R<1&&(Q=ee===0?Vi(O):fb(k,ee,I));const oe=Math.abs(Q)<=r,be=Math.abs(f-I)<=d;y.done=oe&&be}return y.value=y.done?f:I,y},toString:()=>{const ee=Math.min(Np(Y),vd),I=hb(Q=>Y.next(ee*Q).value,ee,30);return ee+"ms "+I},toTransition:()=>{}};return Y}xd.applyToOptions=n=>{const e=t4(n,100,xd);return n.ease=e.ease,n.duration=Vi(e.duration),n.type="keyframes",n};function Rm({keyframes:n,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:d=10,bounceStiffness:h=500,modifyTarget:f,min:y,max:g,restDelta:x=.5,restSpeed:b}){const S=n[0],T={done:!1,value:S},A=oe=>y!==void 0&&oe<y||g!==void 0&&oe>g,O=oe=>y===void 0?g:g===void 0||Math.abs(y-oe)<Math.abs(g-oe)?y:g;let R=s*e;const M=S+R,z=f===void 0?M:f(M);z!==M&&(R=z-S);const V=oe=>-R*Math.exp(-oe/r),k=oe=>z+V(oe),Y=oe=>{const be=V(oe),ke=k(oe);T.done=Math.abs(be)<=x,T.value=T.done?z:ke};let ee,I;const Q=oe=>{A(T.value)&&(ee=oe,I=xd({keyframes:[T.value,O(T.value)],velocity:fb(k,oe,T.value),damping:d,stiffness:h,restDelta:x,restSpeed:b}))};return Q(0),{calculatedDuration:null,next:oe=>{let be=!1;return!I&&ee===void 0&&(be=!0,Y(oe),Q(oe)),ee!==void 0&&oe>=ee?I.next(oe-ee):(!be&&Y(oe),T)}}}function c4(n,e,s){const r=[],d=s||_s.mix||db,h=n.length-1;for(let f=0;f<h;f++){let y=d(n[f],n[f+1]);if(e){const g=Array.isArray(e)?e[f]||ni:e;y=xc(g,y)}r.push(y)}return r}function u4(n,e,{clamp:s=!0,ease:r,mixer:d}={}){const h=n.length;if(vp(h===e.length),h===1)return()=>e[0];if(h===2&&e[0]===e[1])return()=>e[1];const f=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),e=[...e].reverse());const y=c4(e,r,d),g=y.length,x=b=>{if(f&&b<n[0])return e[0];let S=0;if(g>1)for(;S<n.length-2&&!(b<n[S+1]);S++);const T=cc(n[S],n[S+1],b);return y[S](T)};return s?b=>x(xs(n[0],n[h-1],b)):x}function d4(n,e){const s=n[n.length-1];for(let r=1;r<=e;r++){const d=cc(0,e,r);n.push(_t(s,1,d))}}function h4(n){const e=[0];return d4(e,n.length-1),e}function f4(n,e){return n.map(s=>s*e)}function m4(n,e){return n.map(()=>e||eb).splice(0,n.length-1)}function Ql({duration:n=300,keyframes:e,times:s,ease:r="easeInOut"}){const d=TE(r)?r.map(Lv):Lv(r),h={done:!1,value:e[0]},f=f4(s&&s.length===e.length?s:h4(e),n),y=u4(f,e,{ease:Array.isArray(d)?d:m4(e,d)});return{calculatedDuration:n,next:g=>(h.value=y(g),h.done=g>=n,h)}}const p4=n=>n!==null;function Cp(n,{repeat:e,repeatType:s="loop"},r,d=1){const h=n.filter(p4),y=d<0||e&&s!=="loop"&&e%2===1?0:h.length-1;return!y||r===void 0?h[y]:r}const g4={decay:Rm,inertia:Rm,tween:Ql,keyframes:Ql,spring:xd};function mb(n){typeof n.type=="string"&&(n.type=g4[n.type])}class Ap{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const y4=n=>n/100;class Rp extends Ap{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mb(e);const{type:s=Ql,repeat:r=0,repeatDelay:d=0,repeatType:h,velocity:f=0}=e;let{keyframes:y}=e;const g=s||Ql;g!==Ql&&typeof y[0]!="number"&&(this.mixKeyframes=xc(y4,db(y[0],y[1])),y=[0,100]);const x=g({...e,keyframes:y});h==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...y].reverse(),velocity:-f})),x.calculatedDuration===null&&(x.calculatedDuration=Np(x));const{calculatedDuration:b}=x;this.calculatedDuration=b,this.resolvedDuration=b+d,this.totalDuration=this.resolvedDuration*(r+1)-d,this.generator=x}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:d,mixKeyframes:h,mirroredGenerator:f,resolvedDuration:y,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:x=0,keyframes:b,repeat:S,repeatType:T,repeatDelay:A,type:O,onUpdate:R,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const z=this.currentTime-x*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?z<0:z>d;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let k=this.currentTime,Y=r;if(S){const oe=Math.min(this.currentTime,d)/y;let be=Math.floor(oe),ke=oe%1;!ke&&oe>=1&&(ke=1),ke===1&&be--,be=Math.min(be,S+1),be%2&&(T==="reverse"?(ke=1-ke,A&&(ke-=A/y)):T==="mirror"&&(Y=f)),k=xs(0,1,ke)*y}const ee=V?{done:!1,value:b[0]}:Y.next(k);h&&(ee.value=h(ee.value));let{done:I}=ee;!V&&g!==null&&(I=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return Q&&O!==Rm&&(ee.value=Cp(b,this.options,M,this.speed)),R&&R(ee.value),Q&&this.finish(),ee}then(e,s){return this.finished.then(e,s)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(this.currentTime)}set time(e){e=Vi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=e4,startTime:s}=this.options;this.driver||(this.driver=e(d=>this.tick(d))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function v4(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const hr=n=>n*180/Math.PI,Om=n=>{const e=hr(Math.atan2(n[1],n[0]));return Lm(e)},x4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Om,rotateZ:Om,skewX:n=>hr(Math.atan(n[1])),skewY:n=>hr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Lm=n=>(n=n%360,n<0&&(n+=360),n),Bv=Om,Uv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Vv=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),_4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Uv,scaleY:Vv,scale:n=>(Uv(n)+Vv(n))/2,rotateX:n=>Lm(hr(Math.atan2(n[6],n[5]))),rotateY:n=>Lm(hr(Math.atan2(-n[2],n[0]))),rotateZ:Bv,rotate:Bv,skewX:n=>hr(Math.atan(n[4])),skewY:n=>hr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function km(n){return n.includes("scale")?1:0}function Mm(n,e){if(!n||n==="none")return km(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,d;if(s)r=_4,d=s;else{const y=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=x4,d=y}if(!d)return km(e);const h=r[e],f=d[1].split(",").map(w4);return typeof h=="function"?h(f):f[h]}const b4=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Mm(s,e)};function w4(n){return parseFloat(n.trim())}const Po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zo=new Set(Po),Iv=n=>n===Mo||n===Ne,S4=new Set(["x","y","z"]),j4=Po.filter(n=>!S4.has(n));function T4(n){const e=[];return j4.forEach(s=>{const r=n.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const fr={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Mm(e,"x"),y:(n,{transform:e})=>Mm(e,"y")};fr.translateX=fr.x;fr.translateY=fr.y;const mr=new Set;let Pm=!1,zm=!1,Dm=!1;function pb(){if(zm){const n=Array.from(mr).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),s=new Map;e.forEach(r=>{const d=T4(r);d.length&&(s.set(r,d),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const d=s.get(r);d&&d.forEach(([h,f])=>{r.getValue(h)?.set(f)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zm=!1,Pm=!1,mr.forEach(n=>n.complete(Dm)),mr.clear()}function gb(){mr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(zm=!0)})}function E4(){Dm=!0,gb(),pb(),Dm=!1}class Op{constructor(e,s,r,d,h,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=d,this.element=h,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(mr.add(this),Pm||(Pm=!0,gt.read(gb),gt.resolveKeyframes(pb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:d}=this;if(e[0]===null){const h=d?.get(),f=e[e.length-1];if(h!==void 0)e[0]=h;else if(r&&s){const y=r.readValue(s,f);y!=null&&(e[0]=y)}e[0]===void 0&&(e[0]=f),d&&h===void 0&&d.set(e[0])}v4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),mr.delete(this)}cancel(){this.state==="scheduled"&&(mr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N4=n=>n.startsWith("--");function C4(n,e,s){N4(e)?n.style.setProperty(e,s):n.style[e]=s}const A4=xp(()=>window.ScrollTimeline!==void 0),R4={};function O4(n,e){const s=xp(n);return()=>R4[e]??s()}const yb=O4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kl=([n,e,s,r])=>`cubic-bezier(${n}, ${e}, ${s}, ${r})`,Hv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kl([0,.65,.55,1]),circOut:Kl([.55,0,1,.45]),backIn:Kl([.31,.01,.66,-.59]),backOut:Kl([.33,1.53,.69,.99])};function vb(n,e){if(n)return typeof n=="function"?yb()?hb(n,e):"ease-out":tb(n)?Kl(n):Array.isArray(n)?n.map(s=>vb(s,e)||Hv.easeOut):Hv[n]}function L4(n,e,s,{delay:r=0,duration:d=300,repeat:h=0,repeatType:f="loop",ease:y="easeOut",times:g}={},x=void 0){const b={[e]:s};g&&(b.offset=g);const S=vb(y,d);Array.isArray(S)&&(b.easing=S);const T={delay:r,duration:d,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"};return x&&(T.pseudoElement=x),n.animate(b,T)}function xb(n){return typeof n=="function"&&"applyToOptions"in n}function k4({type:n,...e}){return xb(n)&&yb()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class M4 extends Ap{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:d,pseudoElement:h,allowFlatten:f=!1,finalKeyframe:y,onComplete:g}=e;this.isPseudoElement=!!h,this.allowFlatten=f,this.options=e,vp(typeof e.type!="string");const x=k4(e);this.animation=L4(s,r,d,x,h),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const b=Cp(d,this.options,y,this.speed);this.updateMotionValue?this.updateMotionValue(b):C4(s,r,b),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&A4()?(this.animation.timeline=e,ni):s(this)}}const _b={anticipate:X_,backInOut:Y_,circInOut:Q_};function P4(n){return n in _b}function z4(n){typeof n.ease=="string"&&P4(n.ease)&&(n.ease=_b[n.ease])}const qv=10;class D4 extends M4{constructor(e){z4(e),mb(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:d,element:h,...f}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const y=new Rp({...f,autoplay:!1}),g=Vi(this.finishedTime??this.time);s.setWithVelocity(y.sample(g-qv).value,y.sample(g).value,qv),y.stop()}}const $v=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ha.test(n)||n==="0")&&!n.startsWith("url("));function B4(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function U4(n,e,s,r){const d=n[0];if(d===null)return!1;if(e==="display"||e==="visibility")return!0;const h=n[n.length-1],f=$v(d,e),y=$v(h,e);return!f||!y?!1:B4(n)||(s==="spring"||xb(s))&&r}function Bm(n){n.duration=0,n.type="keyframes"}const V4=new Set(["opacity","clipPath","filter","transform"]),I4=xp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function H4(n){const{motionValue:e,name:s,repeatDelay:r,repeatType:d,damping:h,type:f}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:x}=e.owner.getProps();return I4()&&s&&V4.has(s)&&(s!=="transform"||!x)&&!g&&!r&&d!=="mirror"&&h!==0&&f!=="inertia"}const q4=40;class $4 extends Ap{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:d=0,repeatDelay:h=0,repeatType:f="loop",keyframes:y,name:g,motionValue:x,element:b,...S}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const T={autoplay:e,delay:s,type:r,repeat:d,repeatDelay:h,repeatType:f,name:g,motionValue:x,element:b,...S},A=b?.KeyframeResolver||Op;this.keyframeResolver=new A(y,(O,R,M)=>this.onKeyframesResolved(O,R,T,!M),g,x,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,r,d){this.keyframeResolver=void 0;const{name:h,type:f,velocity:y,delay:g,isHandoff:x,onUpdate:b}=r;this.resolvedAt=Cn.now(),U4(e,h,f,y)||((_s.instantAnimations||!g)&&b?.(Cp(e,r,s)),e[0]=e[e.length-1],Bm(r),r.repeat=0);const T={startTime:d?this.resolvedAt?this.resolvedAt-this.createdAt>q4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},A=!x&&H4(T)?new D4({...T,element:T.motionValue.owner.current}):new Rp(T);A.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),E4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Z4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G4(n){const e=Z4.exec(n);if(!e)return[,];const[,s,r,d]=e;return[`--${s??r}`,d]}function bb(n,e,s=1){const[r,d]=G4(n);if(!r)return;const h=window.getComputedStyle(e).getPropertyValue(r);if(h){const f=h.trim();return H_(f)?parseFloat(f):f}return Sp(d)?bb(d,e,s+1):d}function Lp(n,e){return n?.[e]??n?.default??n}const wb=new Set(["width","height","top","left","right","bottom",...Po]),F4={test:n=>n==="auto",parse:n=>n},Sb=n=>e=>e.test(n),jb=[Mo,Ne,Ii,la,BE,DE,F4],Zv=n=>jb.find(Sb(n));function K4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||$_(n):!0}const W4=new Set(["brightness","contrast","saturate","opacity"]);function Y4(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=s.match(jp)||[];if(!r)return n;const d=s.replace(r,"");let h=W4.has(e)?1:0;return r!==s&&(h*=100),e+"("+h+d+")"}const X4=/\b([a-z-]*)\(.*?\)/gu,Um={...ha,getAnimatableNone:n=>{const e=n.match(X4);return e?e.map(Y4).join(" "):n}},Gv={...Mo,transform:Math.round},J4={rotate:la,rotateX:la,rotateY:la,rotateZ:la,scale:sd,scaleX:sd,scaleY:sd,scaleZ:sd,skew:la,skewX:la,skewY:la,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:uc,originX:kv,originY:kv,originZ:Ne},kp={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...J4,zIndex:Gv,fillOpacity:uc,strokeOpacity:uc,numOctaves:Gv},Q4={...kp,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Um,WebkitFilter:Um},Tb=n=>Q4[n];function Eb(n,e){let s=Tb(n);return s!==Um&&(s=ha),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const eN=new Set(["auto","none","0"]);function tN(n,e,s){let r=0,d;for(;r<n.length&&!d;){const h=n[r];typeof h=="string"&&!eN.has(h)&&dc(h).values.length&&(d=n[r]),r++}if(d&&s)for(const h of e)n[h]=Eb(s,d)}class nN extends Op{constructor(e,s,r,d,h){super(e,s,r,d,h,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let x=e[g];if(typeof x=="string"&&(x=x.trim(),Sp(x))){const b=bb(x,s.current);b!==void 0&&(e[g]=b),g===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!wb.has(r)||e.length!==2)return;const[d,h]=e,f=Zv(d),y=Zv(h);if(f!==y)if(Iv(f)&&Iv(y))for(let g=0;g<e.length;g++){const x=e[g];typeof x=="string"&&(e[g]=parseFloat(x))}else fr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let d=0;d<e.length;d++)(e[d]===null||K4(e[d]))&&r.push(d);r.length&&tN(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const d=s[s.length-1];d!==void 0&&e.getValue(r,d).jump(d,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const d=e.getValue(s);d&&d.jump(this.measuredOrigin,!1);const h=r.length-1,f=r[h];r[h]=fr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([y,g])=>{e.getValue(y).set(g)}),this.resolveNoneKeyframes()}}function iN(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const d=s?.[n]??r.querySelectorAll(n);return d?Array.from(d):[]}return Array.from(n)}const Nb=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Cb(n){return q_(n)&&"offsetHeight"in n}const Fv=30,sN=n=>!isNaN(parseFloat(n));class aN{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const d=Cn.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new _p);const r=this.events[e].add(s);return e==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Fv)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Fv);return Z_(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Co(n,e){return new aN(n,e)}const{schedule:Mp}=nb(queueMicrotask,!1),xi={x:!1,y:!1};function Ab(){return xi.x||xi.y}function rN(n){return n==="x"||n==="y"?xi[n]?null:(xi[n]=!0,()=>{xi[n]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function Rb(n,e){const s=iN(n),r=new AbortController,d={passive:!0,...e,signal:r.signal};return[s,d,()=>r.abort()]}function Kv(n){return!(n.pointerType==="touch"||Ab())}function oN(n,e,s={}){const[r,d,h]=Rb(n,s),f=y=>{if(!Kv(y))return;const{target:g}=y,x=e(g,y);if(typeof x!="function"||!g)return;const b=S=>{Kv(S)&&(x(S),g.removeEventListener("pointerleave",b))};g.addEventListener("pointerleave",b,d)};return r.forEach(y=>{y.addEventListener("pointerenter",f,d)}),h}const Ob=(n,e)=>e?n===e?!0:Ob(n,e.parentElement):!1,Pp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,lN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cN(n){return lN.has(n.tagName)||n.tabIndex!==-1}const ud=new WeakSet;function Wv(n){return e=>{e.key==="Enter"&&n(e)}}function sm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uN=(n,e)=>{const s=n.currentTarget;if(!s)return;const r=Wv(()=>{if(ud.has(s))return;sm(s,"down");const d=Wv(()=>{sm(s,"up")}),h=()=>sm(s,"cancel");s.addEventListener("keyup",d,e),s.addEventListener("blur",h,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Yv(n){return Pp(n)&&!Ab()}function dN(n,e,s={}){const[r,d,h]=Rb(n,s),f=y=>{const g=y.currentTarget;if(!Yv(y))return;ud.add(g);const x=e(g,y),b=(A,O)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",T),ud.has(g)&&ud.delete(g),Yv(A)&&typeof x=="function"&&x(A,{success:O})},S=A=>{b(A,g===window||g===document||s.useGlobalTarget||Ob(g,A.target))},T=A=>{b(A,!1)};window.addEventListener("pointerup",S,d),window.addEventListener("pointercancel",T,d)};return r.forEach(y=>{(s.useGlobalTarget?window:y).addEventListener("pointerdown",f,d),Cb(y)&&(y.addEventListener("focus",x=>uN(x,d)),!cN(y)&&!y.hasAttribute("tabindex")&&(y.tabIndex=0))}),h}function Lb(n){return q_(n)&&"ownerSVGElement"in n}function hN(n){return Lb(n)&&n.tagName==="svg"}const cn=n=>!!(n&&n.getVelocity),fN=[...jb,Ut,ha],mN=n=>fN.find(Sb(n)),zp=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Xv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function pN(...n){return e=>{let s=!1;const r=n.map(d=>{const h=Xv(d,e);return!s&&typeof h=="function"&&(s=!0),h});if(s)return()=>{for(let d=0;d<r.length;d++){const h=r[d];typeof h=="function"?h():Xv(n[d],null)}}}}function gN(...n){return N.useCallback(pN(...n),n)}class yN extends N.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=s.offsetParent,d=Cb(r)&&r.offsetWidth||0,h=this.props.sizeRef.current;h.height=s.offsetHeight||0,h.width=s.offsetWidth||0,h.top=s.offsetTop,h.left=s.offsetLeft,h.right=d-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vN({children:n,isPresent:e,anchorX:s,root:r}){const d=N.useId(),h=N.useRef(null),f=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=N.useContext(zp),g=gN(h,n?.ref);return N.useInsertionEffect(()=>{const{width:x,height:b,top:S,left:T,right:A}=f.current;if(e||!h.current||!x||!b)return;const O=s==="left"?`left: ${T}`:`right: ${A}`;h.current.dataset.motionPopId=d;const R=document.createElement("style");y&&(R.nonce=y);const M=r??document.head;return M.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${b}px !important;
            ${O}px !important;
            top: ${S}px !important;
          }
        `),()=>{M.contains(R)&&M.removeChild(R)}},[e]),l.jsx(yN,{isPresent:e,childRef:h,sizeRef:f,children:N.cloneElement(n,{ref:g})})}const xN=({children:n,initial:e,isPresent:s,onExitComplete:r,custom:d,presenceAffectsLayout:h,mode:f,anchorX:y,root:g})=>{const x=mp(_N),b=N.useId();let S=!0,T=N.useMemo(()=>(S=!1,{id:b,initial:e,isPresent:s,custom:d,onExitComplete:A=>{x.set(A,!0);for(const O of x.values())if(!O)return;r&&r()},register:A=>(x.set(A,!1),()=>x.delete(A))}),[s,x,r]);return h&&S&&(T={...T}),N.useMemo(()=>{x.forEach((A,O)=>x.set(O,!1))},[s]),N.useEffect(()=>{!s&&!x.size&&r&&r()},[s]),f==="popLayout"&&(n=l.jsx(vN,{isPresent:s,anchorX:y,root:g,children:n})),l.jsx(Od.Provider,{value:T,children:n})};function _N(){return new Map}function kb(n=!0){const e=N.useContext(Od);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:d}=e,h=N.useId();N.useEffect(()=>{if(n)return d(h)},[n]);const f=N.useCallback(()=>n&&r&&r(h),[h,r,n]);return!s&&r?[!1,f]:[!0]}const ad=n=>n.key||"";function Jv(n){const e=[];return N.Children.forEach(n,s=>{N.isValidElement(s)&&e.push(s)}),e}const Vm=({children:n,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:d=!0,mode:h="sync",propagate:f=!1,anchorX:y="left",root:g})=>{const[x,b]=kb(f),S=N.useMemo(()=>Jv(n),[n]),T=f&&!x?[]:S.map(ad),A=N.useRef(!0),O=N.useRef(S),R=mp(()=>new Map),[M,z]=N.useState(S),[V,k]=N.useState(S);I_(()=>{A.current=!1,O.current=S;for(let I=0;I<V.length;I++){const Q=ad(V[I]);T.includes(Q)?R.delete(Q):R.get(Q)!==!0&&R.set(Q,!1)}},[V,T.length,T.join("-")]);const Y=[];if(S!==M){let I=[...S];for(let Q=0;Q<V.length;Q++){const oe=V[Q],be=ad(oe);T.includes(be)||(I.splice(Q,0,oe),Y.push(oe))}return h==="wait"&&Y.length&&(I=Y),k(Jv(I)),z(S),null}const{forceRender:ee}=N.useContext(fp);return l.jsx(l.Fragment,{children:V.map(I=>{const Q=ad(I),oe=f&&!x?!1:S===V||T.includes(Q),be=()=>{if(R.has(Q))R.set(Q,!0);else return;let ke=!0;R.forEach(Me=>{Me||(ke=!1)}),ke&&(ee?.(),k(O.current),f&&b?.(),r&&r())};return l.jsx(xN,{isPresent:oe,initial:!A.current||s?void 0:!1,custom:e,presenceAffectsLayout:d,mode:h,root:g,onExitComplete:oe?void 0:be,anchorX:y,children:I},Q)})})},Mb=N.createContext({strict:!1}),Qv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ao={};for(const n in Qv)Ao[n]={isEnabled:e=>Qv[n].some(s=>!!e[s])};function bN(n){for(const e in n)Ao[e]={...Ao[e],...n[e]}}const wN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _d(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||wN.has(n)}let Pb=n=>!_d(n);function SN(n){typeof n=="function"&&(Pb=e=>e.startsWith("on")?!_d(e):n(e))}try{SN(require("@emotion/is-prop-valid").default)}catch{}function jN(n,e,s){const r={};for(const d in n)d==="values"&&typeof n.values=="object"||(Pb(d)||s===!0&&_d(d)||!e&&!_d(d)||n.draggable&&d.startsWith("onDrag"))&&(r[d]=n[d]);return r}const Ld=N.createContext({});function kd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function hc(n){return typeof n=="string"||Array.isArray(n)}const Dp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bp=["initial",...Dp];function Md(n){return kd(n.animate)||Bp.some(e=>hc(n[e]))}function zb(n){return!!(Md(n)||n.variants)}function TN(n,e){if(Md(n)){const{initial:s,animate:r}=n;return{initial:s===!1||hc(s)?s:void 0,animate:hc(r)?r:void 0}}return n.inherit!==!1?e:{}}function EN(n){const{initial:e,animate:s}=TN(n,N.useContext(Ld));return N.useMemo(()=>({initial:e,animate:s}),[ex(e),ex(s)])}function ex(n){return Array.isArray(n)?n.join(" "):n}function tx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Gl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ne.test(n))n=parseFloat(n);else return n;const s=tx(n,e.target.x),r=tx(n,e.target.y);return`${s}% ${r}%`}},NN={correct:(n,{treeScale:e,projectionDelta:s})=>{const r=n,d=ha.parse(n);if(d.length>5)return r;const h=ha.createTransformer(n),f=typeof d[0]!="number"?1:0,y=s.x.scale*e.x,g=s.y.scale*e.y;d[0+f]/=y,d[1+f]/=g;const x=_t(y,g,.5);return typeof d[2+f]=="number"&&(d[2+f]/=x),typeof d[3+f]=="number"&&(d[3+f]/=x),h(d)}},Im={borderRadius:{...Gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gl,borderTopRightRadius:Gl,borderBottomLeftRadius:Gl,borderBottomRightRadius:Gl,boxShadow:NN};function Db(n,{layout:e,layoutId:s}){return zo.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!Im[n]||n==="opacity")}const CN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AN=Po.length;function RN(n,e,s){let r="",d=!0;for(let h=0;h<AN;h++){const f=Po[h],y=n[f];if(y===void 0)continue;let g=!0;if(typeof y=="number"?g=y===(f.startsWith("scale")?1:0):g=parseFloat(y)===0,!g||s){const x=Nb(y,kp[f]);if(!g){d=!1;const b=CN[f]||f;r+=`${b}(${x}) `}s&&(e[f]=x)}}return r=r.trim(),s?r=s(e,d?"":r):d&&(r="none"),r}function Up(n,e,s){const{style:r,vars:d,transformOrigin:h}=n;let f=!1,y=!1;for(const g in e){const x=e[g];if(zo.has(g)){f=!0;continue}else if(sb(g)){d[g]=x;continue}else{const b=Nb(x,kp[g]);g.startsWith("origin")?(y=!0,h[g]=b):r[g]=b}}if(e.transform||(f||s?r.transform=RN(e,n.transform,s):r.transform&&(r.transform="none")),y){const{originX:g="50%",originY:x="50%",originZ:b=0}=h;r.transformOrigin=`${g} ${x} ${b}`}}const Vp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bb(n,e,s){for(const r in e)!cn(e[r])&&!Db(r,s)&&(n[r]=e[r])}function ON({transformTemplate:n},e){return N.useMemo(()=>{const s=Vp();return Up(s,e,n),Object.assign({},s.vars,s.style)},[e])}function LN(n,e){const s=n.style||{},r={};return Bb(r,s,n),Object.assign(r,ON(n,e)),r}function kN(n,e){const s={},r=LN(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=r,s}const MN={offset:"stroke-dashoffset",array:"stroke-dasharray"},PN={offset:"strokeDashoffset",array:"strokeDasharray"};function zN(n,e,s=1,r=0,d=!0){n.pathLength=1;const h=d?MN:PN;n[h.offset]=Ne.transform(-r);const f=Ne.transform(e),y=Ne.transform(s);n[h.array]=`${f} ${y}`}function Ub(n,{attrX:e,attrY:s,attrScale:r,pathLength:d,pathSpacing:h=1,pathOffset:f=0,...y},g,x,b){if(Up(n,y,x),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:T}=n;S.transform&&(T.transform=S.transform,delete S.transform),(T.transform||S.transformOrigin)&&(T.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),T.transform&&(T.transformBox=b?.transformBox??"fill-box",delete S.transformBox),e!==void 0&&(S.x=e),s!==void 0&&(S.y=s),r!==void 0&&(S.scale=r),d!==void 0&&zN(S,d,h,f,!1)}const Vb=()=>({...Vp(),attrs:{}}),Ib=n=>typeof n=="string"&&n.toLowerCase()==="svg";function DN(n,e,s,r){const d=N.useMemo(()=>{const h=Vb();return Ub(h,e,Ib(r),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[e]);if(n.style){const h={};Bb(h,n.style,n),d.style={...h,...d.style}}return d}const BN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ip(n){return typeof n!="string"||n.includes("-")?!1:!!(BN.indexOf(n)>-1||/[A-Z]/u.test(n))}function UN(n,e,s,{latestValues:r},d,h=!1){const y=(Ip(n)?DN:kN)(e,r,d,n),g=jN(e,typeof n=="string",h),x=n!==N.Fragment?{...g,...y,ref:s}:{},{children:b}=e,S=N.useMemo(()=>cn(b)?b.get():b,[b]);return N.createElement(n,{...x,children:S})}function nx(n){const e=[{},{}];return n?.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Hp(n,e,s,r){if(typeof e=="function"){const[d,h]=nx(r);e=e(s!==void 0?s:n.custom,d,h)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[d,h]=nx(r);e=e(s!==void 0?s:n.custom,d,h)}return e}function dd(n){return cn(n)?n.get():n}function VN({scrapeMotionValuesFromProps:n,createRenderState:e},s,r,d){return{latestValues:IN(s,r,d,n),renderState:e()}}function IN(n,e,s,r){const d={},h=r(n,{});for(const T in h)d[T]=dd(h[T]);let{initial:f,animate:y}=n;const g=Md(n),x=zb(n);e&&x&&!g&&n.inherit!==!1&&(f===void 0&&(f=e.initial),y===void 0&&(y=e.animate));let b=s?s.initial===!1:!1;b=b||f===!1;const S=b?y:f;if(S&&typeof S!="boolean"&&!kd(S)){const T=Array.isArray(S)?S:[S];for(let A=0;A<T.length;A++){const O=Hp(n,T[A]);if(O){const{transitionEnd:R,transition:M,...z}=O;for(const V in z){let k=z[V];if(Array.isArray(k)){const Y=b?k.length-1:0;k=k[Y]}k!==null&&(d[V]=k)}for(const V in R)d[V]=R[V]}}}return d}const Hb=n=>(e,s)=>{const r=N.useContext(Ld),d=N.useContext(Od),h=()=>VN(n,e,r,d);return s?h():mp(h)};function qp(n,e,s){const{style:r}=n,d={};for(const h in r)(cn(r[h])||e.style&&cn(e.style[h])||Db(h,n)||s?.getValue(h)?.liveStyle!==void 0)&&(d[h]=r[h]);return d}const HN=Hb({scrapeMotionValuesFromProps:qp,createRenderState:Vp});function qb(n,e,s){const r=qp(n,e,s);for(const d in n)if(cn(n[d])||cn(e[d])){const h=Po.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;r[h]=n[d]}return r}const qN=Hb({scrapeMotionValuesFromProps:qb,createRenderState:Vb}),$N=Symbol.for("motionComponentSymbol");function bo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ZN(n,e,s){return N.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):bo(s)&&(s.current=r))},[e])}const $p=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GN="framerAppearId",$b="data-"+$p(GN),Zb=N.createContext({});function FN(n,e,s,r,d){const{visualElement:h}=N.useContext(Ld),f=N.useContext(Mb),y=N.useContext(Od),g=N.useContext(zp).reducedMotion,x=N.useRef(null);r=r||f.renderer,!x.current&&r&&(x.current=r(n,{visualState:e,parent:h,props:s,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:g}));const b=x.current,S=N.useContext(Zb);b&&!b.projection&&d&&(b.type==="html"||b.type==="svg")&&KN(x.current,s,d,S);const T=N.useRef(!1);N.useInsertionEffect(()=>{b&&T.current&&b.update(s,y)});const A=s[$b],O=N.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return I_(()=>{b&&(T.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),O.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!O.current&&b.animationState&&b.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),O.current=!1),b.enteringChildren=void 0)}),b}function KN(n,e,s,r){const{layoutId:d,layout:h,drag:f,dragConstraints:y,layoutScroll:g,layoutRoot:x,layoutCrossfade:b}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:Gb(n.parent)),n.projection.setOptions({layoutId:d,layout:h,alwaysMeasureLayout:!!f||y&&bo(y),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:r,crossfade:b,layoutScroll:g,layoutRoot:x})}function Gb(n){if(n)return n.options.allowProjection!==!1?n.projection:Gb(n.parent)}function am(n,{forwardMotionProps:e=!1}={},s,r){s&&bN(s);const d=Ip(n)?qN:HN;function h(y,g){let x;const b={...N.useContext(zp),...y,layoutId:WN(y)},{isStatic:S}=b,T=EN(y),A=d(y,S);if(!S&&pp){YN();const O=XN(b);x=O.MeasureLayout,T.visualElement=FN(n,A,b,r,O.ProjectionNode)}return l.jsxs(Ld.Provider,{value:T,children:[x&&T.visualElement?l.jsx(x,{visualElement:T.visualElement,...b}):null,UN(n,y,ZN(A,T.visualElement,g),A,S,e)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const f=N.forwardRef(h);return f[$N]=n,f}function WN({layoutId:n}){const e=N.useContext(fp).id;return e&&n!==void 0?e+"-"+n:n}function YN(n,e){N.useContext(Mb).strict}function XN(n){const{drag:e,layout:s}=Ao;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function JN(n,e){if(typeof Proxy>"u")return am;const s=new Map,r=(h,f)=>am(h,f,n,e),d=(h,f)=>r(h,f);return new Proxy(d,{get:(h,f)=>f==="create"?r:(s.has(f)||s.set(f,am(f,void 0,n,e)),s.get(f))})}function Fb({top:n,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:n,max:r}}}function QN({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function e6(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function rm(n){return n===void 0||n===1}function Hm({scale:n,scaleX:e,scaleY:s}){return!rm(n)||!rm(e)||!rm(s)}function or(n){return Hm(n)||Kb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Kb(n){return ix(n.x)||ix(n.y)}function ix(n){return n&&n!=="0%"}function bd(n,e,s){const r=n-s,d=e*r;return s+d}function sx(n,e,s,r,d){return d!==void 0&&(n=bd(n,d,r)),bd(n,s,r)+e}function qm(n,e=0,s=1,r,d){n.min=sx(n.min,e,s,r,d),n.max=sx(n.max,e,s,r,d)}function Wb(n,{x:e,y:s}){qm(n.x,e.translate,e.scale,e.originPoint),qm(n.y,s.translate,s.scale,s.originPoint)}const ax=.999999999999,rx=1.0000000000001;function t6(n,e,s,r=!1){const d=s.length;if(!d)return;e.x=e.y=1;let h,f;for(let y=0;y<d;y++){h=s[y],f=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&h.options.layoutScroll&&h.scroll&&h!==h.root&&So(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(e.x*=f.x.scale,e.y*=f.y.scale,Wb(n,f)),r&&or(h.latestValues)&&So(n,h.latestValues))}e.x<rx&&e.x>ax&&(e.x=1),e.y<rx&&e.y>ax&&(e.y=1)}function wo(n,e){n.min=n.min+e,n.max=n.max+e}function ox(n,e,s,r,d=.5){const h=_t(n.min,n.max,d);qm(n,e,s,h,r)}function So(n,e){ox(n.x,e.x,e.scaleX,e.scale,e.originX),ox(n.y,e.y,e.scaleY,e.scale,e.originY)}function Yb(n,e){return Fb(e6(n.getBoundingClientRect(),e))}function n6(n,e,s){const r=Yb(n,s),{scroll:d}=e;return d&&(wo(r.x,d.offset.x),wo(r.y,d.offset.y)),r}const lx=()=>({translate:0,scale:1,origin:0,originPoint:0}),jo=()=>({x:lx(),y:lx()}),cx=()=>({min:0,max:0}),$t=()=>({x:cx(),y:cx()}),$m={current:null},Xb={current:!1};function i6(){if(Xb.current=!0,!!pp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>$m.current=n.matches;n.addEventListener("change",e),e()}else $m.current=!1}const s6=new WeakMap;function a6(n,e,s){for(const r in e){const d=e[r],h=s[r];if(cn(d))n.addValue(r,d);else if(cn(h))n.addValue(r,Co(d,{owner:n}));else if(h!==d)if(n.hasValue(r)){const f=n.getValue(r);f.liveStyle===!0?f.jump(d):f.hasAnimated||f.set(d)}else{const f=n.getStaticValue(r);n.addValue(r,Co(f!==void 0?f:d,{owner:n}))}}for(const r in s)e[r]===void 0&&n.removeValue(r);return e}const ux=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r6{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:d,blockInitialAnimation:h,visualState:f},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Op,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Cn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,gt.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=s.initial?{...g}:{},this.renderState=x,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=d,this.options=y,this.blockInitialAnimation=!!h,this.isControllingVariants=Md(s),this.isVariantNode=zb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...S}=this.scrapeMotionValuesFromProps(s,{},this);for(const T in S){const A=S[T];g[T]!==void 0&&cn(A)&&A.set(g[T])}}mount(e){this.current=e,s6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Xb.current||i6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$m.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zo.has(e);r&&this.onBindTransform&&this.onBindTransform();const d=s.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{d(),h&&h(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ao){const s=Ao[e];if(!s)continue;const{isEnabled:r,Feature:d}=s;if(!this.features[e]&&d&&r(this.props)&&(this.features[e]=new d(this)),this.features[e]){const h=this.features[e];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<ux.length;r++){const d=ux[r];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const h="on"+d,f=e[h];f&&(this.propEventSubscriptions[d]=this.on(d,f))}this.prevMotionValues=a6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Co(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(H_(r)||$_(r))?r=parseFloat(r):!mN(r)&&ha.test(s)&&(r=Eb(e,s)),this.setBaseTarget(e,cn(r)?r.get():r)),cn(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const h=Hp(this.props,s,this.presenceContext?.custom);h&&(r=h[e])}if(s&&r!==void 0)return r;const d=this.getBaseTargetFromProps(this.props,e);return d!==void 0&&!cn(d)?d:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new _p),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Mp.render(this.render)}}class Jb extends r6{constructor(){super(...arguments),this.KeyframeResolver=nN}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Qb(n,{style:e,vars:s},r,d){const h=n.style;let f;for(f in e)h[f]=e[f];d?.applyProjectionStyles(h,r);for(f in s)h.setProperty(f,s[f])}function o6(n){return window.getComputedStyle(n)}class l6 extends Jb{constructor(){super(...arguments),this.type="html",this.renderInstance=Qb}readValueFromInstance(e,s){if(zo.has(s))return this.projection?.isProjecting?km(s):b4(e,s);{const r=o6(e),d=(sb(s)?r.getPropertyValue(s):r[s])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Yb(e,s)}build(e,s,r){Up(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return qp(e,s,r)}}const e1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c6(n,e,s,r){Qb(n,e,void 0,r);for(const d in e.attrs)n.setAttribute(e1.has(d)?d:$p(d),e.attrs[d])}class u6 extends Jb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(zo.has(s)){const r=Tb(s);return r&&r.default||0}return s=e1.has(s)?s:$p(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return qb(e,s,r)}build(e,s,r){Ub(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,d){c6(e,s,r,d)}mount(e){this.isSVGTag=Ib(e.tagName),super.mount(e)}}const d6=(n,e)=>Ip(n)?new u6(e):new l6(e,{allowProjection:n!==N.Fragment});function No(n,e,s){const r=n.getProps();return Hp(r,e,s!==void 0?s:r.custom,n)}const Zm=n=>Array.isArray(n);function h6(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,Co(s))}function f6(n){return Zm(n)?n[n.length-1]||0:n}function m6(n,e){const s=No(n,e);let{transitionEnd:r={},transition:d={},...h}=s||{};h={...h,...r};for(const f in h){const y=f6(h[f]);h6(n,f,y)}}function p6(n){return!!(cn(n)&&n.add)}function Gm(n,e){const s=n.getValue("willChange");if(p6(s))return s.add(e);if(!s&&_s.WillChange){const r=new _s.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function t1(n){return n.props[$b]}const g6=n=>n!==null;function y6(n,{repeat:e,repeatType:s="loop"},r){const d=n.filter(g6),h=e&&s!=="loop"&&e%2===1?0:d.length-1;return d[h]}const v6={type:"spring",stiffness:500,damping:25,restSpeed:10},x6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),_6={type:"keyframes",duration:.8},b6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w6=(n,{keyframes:e})=>e.length>2?_6:zo.has(n)?n.startsWith("scale")?x6(e[1]):v6:b6;function S6({when:n,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:d,repeat:h,repeatType:f,repeatDelay:y,from:g,elapsed:x,...b}){return!!Object.keys(b).length}const Zp=(n,e,s,r={},d,h)=>f=>{const y=Lp(r,n)||{},g=y.delay||r.delay||0;let{elapsed:x=0}=r;x=x-Vi(g);const b={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...y,delay:-x,onUpdate:T=>{e.set(T),y.onUpdate&&y.onUpdate(T)},onComplete:()=>{f(),y.onComplete&&y.onComplete()},name:n,motionValue:e,element:h?void 0:d};S6(y)||Object.assign(b,w6(n,b)),b.duration&&(b.duration=Vi(b.duration)),b.repeatDelay&&(b.repeatDelay=Vi(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let S=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(Bm(b),b.delay===0&&(S=!0)),(_s.instantAnimations||_s.skipAnimations)&&(S=!0,Bm(b),b.delay=0),b.allowFlatten=!y.type&&!y.ease,S&&!h&&e.get()!==void 0){const T=y6(b.keyframes,y);if(T!==void 0){gt.update(()=>{b.onUpdate(T),b.onComplete()});return}}return y.isSync?new Rp(b):new $4(b)};function j6({protectedKeys:n,needsAnimating:e},s){const r=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function n1(n,e,{delay:s=0,transitionOverride:r,type:d}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:f,...y}=e;r&&(h=r);const g=[],x=d&&n.animationState&&n.animationState.getState()[d];for(const b in y){const S=n.getValue(b,n.latestValues[b]??null),T=y[b];if(T===void 0||x&&j6(x,b))continue;const A={delay:s,...Lp(h||{},b)},O=S.get();if(O!==void 0&&!S.isAnimating&&!Array.isArray(T)&&T===O&&!A.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const z=t1(n);if(z){const V=window.MotionHandoffAnimation(z,b,gt);V!==null&&(A.startTime=V,R=!0)}}Gm(n,b),S.start(Zp(b,S,T,n.shouldReduceMotion&&wb.has(b)?{type:!1}:A,n,R));const M=S.animation;M&&g.push(M)}return f&&Promise.all(g).then(()=>{gt.update(()=>{f&&m6(n,f)})}),g}function i1(n,e,s,r=0,d=1){const h=Array.from(n).sort((x,b)=>x.sortNodePosition(b)).indexOf(e),f=n.size,y=(f-1)*r;return typeof s=="function"?s(h,f):d===1?h*r:y-h*r}function Fm(n,e,s={}){const r=No(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:d=n.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(d=s.transitionOverride);const h=r?()=>Promise.all(n1(n,r,s)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:b,staggerDirection:S}=d;return T6(n,e,g,x,b,S,s)}:()=>Promise.resolve(),{when:y}=d;if(y){const[g,x]=y==="beforeChildren"?[h,f]:[f,h];return g().then(()=>x())}else return Promise.all([h(),f(s.delay)])}function T6(n,e,s=0,r=0,d=0,h=1,f){const y=[];for(const g of n.variantChildren)g.notify("AnimationStart",e),y.push(Fm(g,e,{...f,delay:s+(typeof r=="function"?0:r)+i1(n.variantChildren,g,r,d,h)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(y)}function E6(n,e,s={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const d=e.map(h=>Fm(n,h,s));r=Promise.all(d)}else if(typeof e=="string")r=Fm(n,e,s);else{const d=typeof e=="function"?No(n,e,s.custom):e;r=Promise.all(n1(n,d,s))}return r.then(()=>{n.notify("AnimationComplete",e)})}function s1(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let r=0;r<s;r++)if(e[r]!==n[r])return!1;return!0}const N6=Bp.length;function a1(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?a1(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<N6;s++){const r=Bp[s],d=n.props[r];(hc(d)||d===!1)&&(e[r]=d)}return e}const C6=[...Dp].reverse(),A6=Dp.length;function R6(n){return e=>Promise.all(e.map(({animation:s,options:r})=>E6(n,s,r)))}function O6(n){let e=R6(n),s=dx(),r=!0;const d=g=>(x,b)=>{const S=No(n,b,g==="exit"?n.presenceContext?.custom:void 0);if(S){const{transition:T,transitionEnd:A,...O}=S;x={...x,...O,...A}}return x};function h(g){e=g(n)}function f(g){const{props:x}=n,b=a1(n.parent)||{},S=[],T=new Set;let A={},O=1/0;for(let M=0;M<A6;M++){const z=C6[M],V=s[z],k=x[z]!==void 0?x[z]:b[z],Y=hc(k),ee=z===g?V.isActive:null;ee===!1&&(O=M);let I=k===b[z]&&k!==x[z]&&Y;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),V.protectedKeys={...A},!V.isActive&&ee===null||!k&&!V.prevProp||kd(k)||typeof k=="boolean")continue;const Q=L6(V.prevProp,k);let oe=Q||z===g&&V.isActive&&!I&&Y||M>O&&Y,be=!1;const ke=Array.isArray(k)?k:[k];let Me=ke.reduce(d(z),{});ee===!1&&(Me={});const{prevResolvedValues:ze={}}=V,sn={...ze,...Me},rt=ae=>{oe=!0,T.has(ae)&&(be=!0,T.delete(ae)),V.needsAnimating[ae]=!0;const se=n.getValue(ae);se&&(se.liveStyle=!1)};for(const ae in sn){const se=Me[ae],ce=ze[ae];if(A.hasOwnProperty(ae))continue;let le=!1;Zm(se)&&Zm(ce)?le=!s1(se,ce):le=se!==ce,le?se!=null?rt(ae):T.add(ae):se!==void 0&&T.has(ae)?rt(ae):V.protectedKeys[ae]=!0}V.prevProp=k,V.prevResolvedValues=Me,V.isActive&&(A={...A,...Me}),r&&n.blockInitialAnimation&&(oe=!1);const Ot=I&&Q;oe&&(!Ot||be)&&S.push(...ke.map(ae=>{const se={type:z};if(typeof ae=="string"&&r&&!Ot&&n.manuallyAnimateOnMount&&n.parent){const{parent:ce}=n,le=No(ce,ae);if(ce.enteringChildren&&le){const{delayChildren:B}=le.transition||{};se.delay=i1(ce.enteringChildren,n,B)}}return{animation:ae,options:se}}))}if(T.size){const M={};if(typeof x.initial!="boolean"){const z=No(n,Array.isArray(x.initial)?x.initial[0]:x.initial);z&&z.transition&&(M.transition=z.transition)}T.forEach(z=>{const V=n.getBaseTarget(z),k=n.getValue(z);k&&(k.liveStyle=!0),M[z]=V??null}),S.push({animation:M})}let R=!!S.length;return r&&(x.initial===!1||x.initial===x.animate)&&!n.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(S):Promise.resolve()}function y(g,x){if(s[g].isActive===x)return Promise.resolve();n.variantChildren?.forEach(S=>S.animationState?.setActive(g,x)),s[g].isActive=x;const b=f(g);for(const S in s)s[S].protectedKeys={};return b}return{animateChanges:f,setActive:y,setAnimateFunction:h,getState:()=>s,reset:()=>{s=dx()}}}function L6(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!s1(e,n):!1}function ar(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dx(){return{animate:ar(!0),whileInView:ar(),whileHover:ar(),whileTap:ar(),whileDrag:ar(),whileFocus:ar(),exit:ar()}}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k6 extends fa{constructor(e){super(e),e.animationState||(e.animationState=O6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let M6=0;class P6 extends fa{constructor(){super(...arguments),this.id=M6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const d=this.node.animationState.setActive("exit",!e);s&&!e&&d.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const z6={animation:{Feature:k6},exit:{Feature:P6}};function fc(n,e,s,r={passive:!0}){return n.addEventListener(e,s,r),()=>n.removeEventListener(e,s)}function wc(n){return{point:{x:n.pageX,y:n.pageY}}}const D6=n=>e=>Pp(e)&&n(e,wc(e));function ec(n,e,s,r){return fc(n,e,D6(s),r)}const r1=1e-4,B6=1-r1,U6=1+r1,o1=.01,V6=0-o1,I6=0+o1;function pn(n){return n.max-n.min}function H6(n,e,s){return Math.abs(n-e)<=s}function hx(n,e,s,r=.5){n.origin=r,n.originPoint=_t(e.min,e.max,n.origin),n.scale=pn(s)/pn(e),n.translate=_t(s.min,s.max,n.origin)-n.originPoint,(n.scale>=B6&&n.scale<=U6||isNaN(n.scale))&&(n.scale=1),(n.translate>=V6&&n.translate<=I6||isNaN(n.translate))&&(n.translate=0)}function tc(n,e,s,r){hx(n.x,e.x,s.x,r?r.originX:void 0),hx(n.y,e.y,s.y,r?r.originY:void 0)}function fx(n,e,s){n.min=s.min+e.min,n.max=n.min+pn(e)}function q6(n,e,s){fx(n.x,e.x,s.x),fx(n.y,e.y,s.y)}function mx(n,e,s){n.min=e.min-s.min,n.max=n.min+pn(e)}function wd(n,e,s){mx(n.x,e.x,s.x),mx(n.y,e.y,s.y)}function ei(n){return[n("x"),n("y")]}const l1=({current:n})=>n?n.ownerDocument.defaultView:null,px=(n,e)=>Math.abs(n-e);function $6(n,e){const s=px(n.x,e.x),r=px(n.y,e.y);return Math.sqrt(s**2+r**2)}class c1{constructor(e,s,{transformPagePoint:r,contextWindow:d=window,dragSnapToOrigin:h=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=lm(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,O=$6(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!O)return;const{point:R}=T,{timestamp:M}=nn;this.history.push({...R,timestamp:M});const{onStart:z,onMove:V}=this.handlers;A||(z&&z(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,T)},this.handlePointerMove=(T,A)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=om(A,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(T,A)=>{this.end();const{onEnd:O,onSessionEnd:R,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=lm(T.type==="pointercancel"?this.lastMoveEventInfo:om(A,this.transformPagePoint),this.history);this.startEvent&&O&&O(T,z),R&&R(T,z)},!Pp(e))return;this.dragSnapToOrigin=h,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=f,this.contextWindow=d||window;const y=wc(e),g=om(y,this.transformPagePoint),{point:x}=g,{timestamp:b}=nn;this.history=[{...x,timestamp:b}];const{onSessionStart:S}=s;S&&S(e,lm(g,this.history)),this.removeListeners=xc(ec(this.contextWindow,"pointermove",this.handlePointerMove),ec(this.contextWindow,"pointerup",this.handlePointerUp),ec(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function om(n,e){return e?{point:e(n.point)}:n}function gx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function lm({point:n},e){return{point:n,delta:gx(n,u1(e)),offset:gx(n,Z6(e)),velocity:G6(e,.1)}}function Z6(n){return n[0]}function u1(n){return n[n.length-1]}function G6(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,r=null;const d=u1(n);for(;s>=0&&(r=n[s],!(d.timestamp-r.timestamp>Vi(e)));)s--;if(!r)return{x:0,y:0};const h=ti(d.timestamp-r.timestamp);if(h===0)return{x:0,y:0};const f={x:(d.x-r.x)/h,y:(d.y-r.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function F6(n,{min:e,max:s},r){return e!==void 0&&n<e?n=r?_t(e,n,r.min):Math.max(n,e):s!==void 0&&n>s&&(n=r?_t(s,n,r.max):Math.min(n,s)),n}function yx(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function K6(n,{top:e,left:s,bottom:r,right:d}){return{x:yx(n.x,s,d),y:yx(n.y,e,r)}}function vx(n,e){let s=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,r]=[r,s]),{min:s,max:r}}function W6(n,e){return{x:vx(n.x,e.x),y:vx(n.y,e.y)}}function Y6(n,e){let s=.5;const r=pn(n),d=pn(e);return d>r?s=cc(e.min,e.max-r,n.min):r>d&&(s=cc(n.min,n.max-d,e.min)),xs(0,1,s)}function X6(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const Km=.35;function J6(n=Km){return n===!1?n=0:n===!0&&(n=Km),{x:xx(n,"left","right"),y:xx(n,"top","bottom")}}function xx(n,e,s){return{min:_x(n,e),max:_x(n,s)}}function _x(n,e){return typeof n=="number"?n:n[e]||0}const Q6=new WeakMap;class e3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const h=S=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(wc(S).point)},f=(S,T)=>{const{drag:A,dragPropagation:O,onDragStart:R}=this.getProps();if(A&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rN(A),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(z=>{let V=this.getAxisMotionValue(z).get()||0;if(Ii.test(V)){const{projection:k}=this.visualElement;if(k&&k.layout){const Y=k.layout.layoutBox[z];Y&&(V=pn(Y)*(parseFloat(V)/100))}}this.originPoint[z]=V}),R&&gt.postRender(()=>R(S,T)),Gm(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},y=(S,T)=>{this.latestPointerEvent=S,this.latestPanInfo=T;const{dragPropagation:A,dragDirectionLock:O,onDirectionLock:R,onDrag:M}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:z}=T;if(O&&this.currentDirection===null){this.currentDirection=t3(z),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),M&&M(S,T)},g=(S,T)=>{this.latestPointerEvent=S,this.latestPanInfo=T,this.stop(S,T),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>ei(S=>this.getAnimationState(S)==="paused"&&this.getAxisMotionValue(S).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new c1(e,{onSessionStart:h,onStart:f,onMove:y,onSessionEnd:g,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:r,contextWindow:l1(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,d=s||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!d||!r)return;const{velocity:f}=d;this.startAnimation(f);const{onDragEnd:y}=this.getProps();y&&gt.postRender(()=>y(r,d))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:d}=this.getProps();if(!r||!rd(e,d,this.currentDirection))return;const h=this.getAxisMotionValue(e);let f=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(f=F6(f,this.constraints[e],this.elastic[e])),h.set(f)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;e&&bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=K6(r.layoutBox,e):this.constraints=!1,this.elastic=J6(s),d!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ei(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=X6(r.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!bo(e))return!1;const r=e.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const h=n6(r,d.root,this.visualElement.getTransformPagePoint());let f=W6(d.layout.layoutBox,h);if(s){const y=s(QN(f));this.hasMutatedConstraints=!!y,y&&(f=Fb(y))}return f}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:d,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:y}=this.getProps(),g=this.constraints||{},x=ei(b=>{if(!rd(b,s,this.currentDirection))return;let S=g&&g[b]||{};f&&(S={min:0,max:0});const T=d?200:1e6,A=d?40:1e7,O={type:"inertia",velocity:r?e[b]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...h,...S};return this.startAxisValueAnimation(b,O)});return Promise.all(x).then(y)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Gm(this.visualElement,e),r.start(Zp(e,r,0,s,this.visualElement,!1))}stopAnimation(){ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ei(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),d=r[s];return d||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ei(s=>{const{drag:r}=this.getProps();if(!rd(s,r,this.currentDirection))return;const{projection:d}=this.visualElement,h=this.getAxisMotionValue(s);if(d&&d.layout){const{min:f,max:y}=d.layout.layoutBox[s];h.set(e[s]-_t(f,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!bo(s)||!r||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};ei(f=>{const y=this.getAxisMotionValue(f);if(y&&this.constraints!==!1){const g=y.get();d[f]=Y6({min:g,max:g},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ei(f=>{if(!rd(f,e,null))return;const y=this.getAxisMotionValue(f),{min:g,max:x}=this.constraints[f];y.set(_t(g,x,d[f]))})}addListeners(){if(!this.visualElement.current)return;Q6.set(this.visualElement,this);const e=this.visualElement.current,s=ec(e,"pointerdown",g=>{const{drag:x,dragListener:b=!0}=this.getProps();x&&b&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();bo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,h=d.addEventListener("measure",r);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),gt.read(r);const f=fc(window,"resize",()=>this.scalePositionWithinConstraints()),y=d.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(ei(b=>{const S=this.getAxisMotionValue(b);S&&(this.originPoint[b]+=g[b].translate,S.set(S.get()+g[b].translate))}),this.visualElement.render())}));return()=>{f(),s(),h(),y&&y()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:d=!1,dragConstraints:h=!1,dragElastic:f=Km,dragMomentum:y=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:d,dragConstraints:h,dragElastic:f,dragMomentum:y}}}function rd(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function t3(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class n3 extends fa{constructor(e){super(e),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new e3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const bx=n=>(e,s)=>{n&&gt.postRender(()=>n(e,s))};class i3 extends fa{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(e){this.session=new c1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:d}=this.node.getProps();return{onSessionStart:bx(e),onStart:bx(s),onMove:r,onEnd:(h,f)=>{delete this.session,d&&gt.postRender(()=>d(h,f))}}}mount(){this.removePointerDownListener=ec(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let cm=!1;class s3 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:d}=this.props,{projection:h}=e;h&&(s.group&&s.group.add(h),r&&r.register&&d&&r.register(h),cm&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:d,isPresent:h}=this.props,{projection:f}=r;return f&&(f.isPresent=h,cm=!0,d||e.layoutDependency!==s||s===void 0||e.isPresent!==h?f.willUpdate():this.safeToRemove(),e.isPresent!==h&&(h?f.promote():f.relegate()||gt.postRender(()=>{const y=f.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:d}=e;cm=!0,d&&(d.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(d),r&&r.deregister&&r.deregister(d))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function d1(n){const[e,s]=kb(),r=N.useContext(fp);return l.jsx(s3,{...n,layoutGroup:r,switchLayoutGroup:N.useContext(Zb),isPresent:e,safeToRemove:s})}function a3(n,e,s){const r=cn(n)?n:Co(n);return r.start(Zp("",r,e,s)),r.animation}const r3=(n,e)=>n.depth-e.depth;class o3{constructor(){this.children=[],this.isDirty=!1}add(e){gp(this.children,e),this.isDirty=!0}remove(e){yp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r3),this.isDirty=!1,this.children.forEach(e)}}function l3(n,e){const s=Cn.now(),r=({timestamp:d})=>{const h=d-s;h>=e&&(da(r),n(h-e))};return gt.setup(r,!0),()=>da(r)}const h1=["TopLeft","TopRight","BottomLeft","BottomRight"],c3=h1.length,wx=n=>typeof n=="string"?parseFloat(n):n,Sx=n=>typeof n=="number"||Ne.test(n);function u3(n,e,s,r,d,h){d?(n.opacity=_t(0,s.opacity??1,d3(r)),n.opacityExit=_t(e.opacity??1,0,h3(r))):h&&(n.opacity=_t(e.opacity??1,s.opacity??1,r));for(let f=0;f<c3;f++){const y=`border${h1[f]}Radius`;let g=jx(e,y),x=jx(s,y);if(g===void 0&&x===void 0)continue;g||(g=0),x||(x=0),g===0||x===0||Sx(g)===Sx(x)?(n[y]=Math.max(_t(wx(g),wx(x),r),0),(Ii.test(x)||Ii.test(g))&&(n[y]+="%")):n[y]=x}(e.rotate||s.rotate)&&(n.rotate=_t(e.rotate||0,s.rotate||0,r))}function jx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const d3=f1(0,.5,J_),h3=f1(.5,.95,ni);function f1(n,e,s){return r=>r<n?0:r>e?1:s(cc(n,e,r))}function Tx(n,e){n.min=e.min,n.max=e.max}function gi(n,e){Tx(n.x,e.x),Tx(n.y,e.y)}function Ex(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Nx(n,e,s,r,d){return n-=e,n=bd(n,1/s,r),d!==void 0&&(n=bd(n,1/d,r)),n}function f3(n,e=0,s=1,r=.5,d,h=n,f=n){if(Ii.test(e)&&(e=parseFloat(e),e=_t(f.min,f.max,e/100)-f.min),typeof e!="number")return;let y=_t(h.min,h.max,r);n===h&&(y-=e),n.min=Nx(n.min,e,s,y,d),n.max=Nx(n.max,e,s,y,d)}function Cx(n,e,[s,r,d],h,f){f3(n,e[s],e[r],e[d],e.scale,h,f)}const m3=["x","scaleX","originX"],p3=["y","scaleY","originY"];function Ax(n,e,s,r){Cx(n.x,e,m3,s?s.x:void 0,r?r.x:void 0),Cx(n.y,e,p3,s?s.y:void 0,r?r.y:void 0)}function Rx(n){return n.translate===0&&n.scale===1}function m1(n){return Rx(n.x)&&Rx(n.y)}function Ox(n,e){return n.min===e.min&&n.max===e.max}function g3(n,e){return Ox(n.x,e.x)&&Ox(n.y,e.y)}function Lx(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function p1(n,e){return Lx(n.x,e.x)&&Lx(n.y,e.y)}function kx(n){return pn(n.x)/pn(n.y)}function Mx(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class y3{constructor(){this.members=[]}add(e){gp(this.members,e),e.scheduleRender()}remove(e){if(yp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(d=>e===d);if(s===0)return!1;let r;for(let d=s;d>=0;d--){const h=this.members[d];if(h.isPresent!==!1){r=h;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:d}=e.options;d===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v3(n,e,s){let r="";const d=n.x.translate/e.x,h=n.y.translate/e.y,f=s?.z||0;if((d||h||f)&&(r=`translate3d(${d}px, ${h}px, ${f}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:x,rotate:b,rotateX:S,rotateY:T,skewX:A,skewY:O}=s;x&&(r=`perspective(${x}px) ${r}`),b&&(r+=`rotate(${b}deg) `),S&&(r+=`rotateX(${S}deg) `),T&&(r+=`rotateY(${T}deg) `),A&&(r+=`skewX(${A}deg) `),O&&(r+=`skewY(${O}deg) `)}const y=n.x.scale*e.x,g=n.y.scale*e.y;return(y!==1||g!==1)&&(r+=`scale(${y}, ${g})`),r||"none"}const um=["","X","Y","Z"],x3=1e3;let _3=0;function dm(n,e,s,r){const{latestValues:d}=e;d[n]&&(s[n]=d[n],e.setStaticValue(n,0),r&&(r[n]=0))}function g1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=t1(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:d,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",gt,!(d||h))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&g1(r)}function y1({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:d}){return class{constructor(f={},y=e?.()){this.id=_3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S3),this.nodes.forEach(N3),this.nodes.forEach(C3),this.nodes.forEach(j3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new o3)}addEventListener(f,y){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new _p),this.eventHandlers.get(f).add(y)}notifyListeners(f,...y){const g=this.eventHandlers.get(f);g&&g.notify(...y)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=Lb(f)&&!hN(f),this.instance=f;const{layoutId:y,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||y)&&(this.isLayoutDirty=!0),n){let b,S=0;const T=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{S=window.innerWidth}),n(f,()=>{const A=window.innerWidth;A!==S&&(S=A,this.root.updateBlockedByResize=!0,b&&b(),b=l3(T,250),hd.hasAnimatedSinceResize&&(hd.hasAnimatedSinceResize=!1,this.nodes.forEach(Dx)))})}y&&this.root.registerSharedNode(y,this),this.options.animate!==!1&&x&&(y||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:S,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||x.getDefaultTransition()||k3,{onLayoutAnimationStart:R,onLayoutAnimationComplete:M}=x.getProps(),z=!this.targetLayout||!p1(this.targetLayout,A),V=!S&&T;if(this.options.layoutRoot||this.resumeFrom||V||S&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Lp(O,"layout"),onPlay:R,onComplete:M};(x.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(b,V)}else S||Dx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A3),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const S=this.path[b];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:y,layout:g}=this.options;if(y===void 0&&!g)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Px);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(E3),this.nodes.forEach(b3),this.nodes.forEach(w3)):this.nodes.forEach(zx),this.clearAllSnapshots();const y=Cn.now();nn.delta=xs(0,1e3/60,y-nn.timestamp),nn.timestamp=y,nn.isProcessing=!0,Qf.update.process(nn),Qf.preRender.process(nn),Qf.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T3),this.sharedNodes.forEach(R3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let y=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(y=!1),y&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!d)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,y=this.projectionDelta&&!m1(this.projectionDelta),g=this.getTransformTemplate(),x=g?g(this.latestValues,""):void 0,b=x!==this.prevTransformTemplateValue;f&&this.instance&&(y||or(this.latestValues)||b)&&(d(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const y=this.measurePageBox();let g=this.removeElementScroll(y);return f&&(g=this.removeTransform(g)),M3(g),{animationId:this.root.animationId,measuredBox:y,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return $t();const y=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(P3))){const{scroll:x}=this.root;x&&(wo(y.x,x.offset.x),wo(y.y,x.offset.y))}return y}removeElementScroll(f){const y=$t();if(gi(y,f),this.scroll?.wasRoot)return y;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:b,options:S}=x;x!==this.root&&b&&S.layoutScroll&&(b.wasRoot&&gi(y,f),wo(y.x,b.offset.x),wo(y.y,b.offset.y))}return y}applyTransform(f,y=!1){const g=$t();gi(g,f);for(let x=0;x<this.path.length;x++){const b=this.path[x];!y&&b.options.layoutScroll&&b.scroll&&b!==b.root&&So(g,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),or(b.latestValues)&&So(g,b.latestValues)}return or(this.latestValues)&&So(g,this.latestValues),g}removeTransform(f){const y=$t();gi(y,f);for(let g=0;g<this.path.length;g++){const x=this.path[g];if(!x.instance||!or(x.latestValues))continue;Hm(x.latestValues)&&x.updateSnapshot();const b=$t(),S=x.measurePageBox();gi(b,S),Ax(y,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,b)}return or(this.latestValues)&&Ax(y,this.latestValues),y}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const y=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=y.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=y.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=y.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==y;if(!(f||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:S}=this.options;if(!this.layout||!(b||S))return;this.resolvedRelativeTargetAt=nn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),Wb(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hm(this.parent.latestValues)||Kb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,y,g){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),wd(this.relativeTargetOrigin,y,g),gi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),y=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),y&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(g=!1),g)return;const{layout:x,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||b))return;gi(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,T=this.treeScale.y;t6(this.layoutCorrected,this.treeScale,this.path,y),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=$t());const{target:A}=f;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ex(this.prevProjectionDelta.x,this.projectionDelta.x),Ex(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==T||!Mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jo(),this.projectionDelta=jo(),this.projectionDeltaWithTransform=jo()}setAnimationOrigin(f,y=!1){const g=this.snapshot,x=g?g.latestValues:{},b={...this.latestValues},S=jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const T=$t(),A=g?g.source:void 0,O=this.layout?this.layout.source:void 0,R=A!==O,M=this.getStack(),z=!M||M.members.length<=1,V=!!(R&&!z&&this.options.crossfade===!0&&!this.path.some(L3));this.animationProgress=0;let k;this.mixTargetDelta=Y=>{const ee=Y/1e3;Bx(S.x,f.x,ee),Bx(S.y,f.y,ee),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O3(this.relativeTarget,this.relativeTargetOrigin,T,ee),k&&g3(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=$t()),gi(k,this.relativeTarget)),R&&(this.animationValues=b,u3(b,x,this.latestValues,ee,V,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{hd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Co(0)),this.currentAnimation=a3(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),f.onUpdate&&f.onUpdate(y)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(x3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:y,target:g,layout:x,latestValues:b}=f;if(!(!y||!g||!x)){if(this!==f&&this.layout&&x&&v1(this.options.animationType,this.layout.layoutBox,x.layoutBox)){g=this.target||$t();const S=pn(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+S;const T=pn(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+T}gi(y,g),So(y,b),tc(this.projectionDeltaWithTransform,this.layoutCorrected,y,b)}}registerSharedNode(f,y){this.sharedNodes.has(f)||this.sharedNodes.set(f,new y3),this.sharedNodes.get(f).add(y);const x=y.options.initialPromotionConfig;y.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(y):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:y,preserveFollowOpacity:g}={}){const x=this.getStack();x&&x.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let y=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(y=!0),!y)return;const x={};g.z&&dm("z",f,x,this.animationValues);for(let b=0;b<um.length;b++)dm(`rotate${um[b]}`,f,x,this.animationValues),dm(`skew${um[b]}`,f,x,this.animationValues);f.render();for(const b in x)f.setStaticValue(b,x[b]),this.animationValues&&(this.animationValues[b]=x[b]);f.scheduleRender()}applyProjectionStyles(f,y){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=dd(y?.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=dd(y?.pointerEvents)||""),this.hasProjected&&!or(this.latestValues)&&(f.transform=g?g({},""):"none",this.hasProjected=!1);return}f.visibility="";const b=x.animationValues||x.latestValues;this.applyTransformsToTarget();let S=v3(this.projectionDeltaWithTransform,this.treeScale,b);g&&(S=g(b,S)),f.transform=S;const{x:T,y:A}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,x.animationValues?f.opacity=x===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const O in Im){if(b[O]===void 0)continue;const{correct:R,applyTo:M,isCSSVariable:z}=Im[O],V=S==="none"?b[O]:R(b[O],x);if(M){const k=M.length;for(let Y=0;Y<k;Y++)f[M[Y]]=V}else z?this.options.visualElement.renderState.vars[O]=V:f[O]=V}this.options.layoutId&&(f.pointerEvents=x===this?dd(y?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(Px),this.root.sharedNodes.clear()}}}function b3(n){n.updateLayout()}function w3(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=n.layout,{animationType:d}=n.options,h=e.source!==n.layout.source;d==="size"?ei(b=>{const S=h?e.measuredBox[b]:e.layoutBox[b],T=pn(S);S.min=s[b].min,S.max=S.min+T}):v1(d,e.layoutBox,s)&&ei(b=>{const S=h?e.measuredBox[b]:e.layoutBox[b],T=pn(s[b]);S.max=S.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[b].max=n.relativeTarget[b].min+T)});const f=jo();tc(f,s,e.layoutBox);const y=jo();h?tc(y,n.applyTransform(r,!0),e.measuredBox):tc(y,s,e.layoutBox);const g=!m1(f);let x=!1;if(!n.resumeFrom){const b=n.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:S,layout:T}=b;if(S&&T){const A=$t();wd(A,e.layoutBox,S.layoutBox);const O=$t();wd(O,s,T.layoutBox),p1(A,O)||(x=!0),b.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=A,n.relativeParent=b)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:y,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:x})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function S3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function j3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function T3(n){n.clearSnapshot()}function Px(n){n.clearMeasurements()}function zx(n){n.isLayoutDirty=!1}function E3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Dx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function N3(n){n.resolveTargetDelta()}function C3(n){n.calcProjection()}function A3(n){n.resetSkewAndRotation()}function R3(n){n.removeLeadSnapshot()}function Bx(n,e,s){n.translate=_t(e.translate,0,s),n.scale=_t(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function Ux(n,e,s,r){n.min=_t(e.min,s.min,r),n.max=_t(e.max,s.max,r)}function O3(n,e,s,r){Ux(n.x,e.x,s.x,r),Ux(n.y,e.y,s.y,r)}function L3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const k3={duration:.45,ease:[.4,0,.1,1]},Vx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Ix=Vx("applewebkit/")&&!Vx("chrome/")?Math.round:ni;function Hx(n){n.min=Ix(n.min),n.max=Ix(n.max)}function M3(n){Hx(n.x),Hx(n.y)}function v1(n,e,s){return n==="position"||n==="preserve-aspect"&&!H6(kx(e),kx(s),.2)}function P3(n){return n!==n.root&&n.scroll?.wasRoot}const z3=y1({attachResizeListener:(n,e)=>fc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hm={current:void 0},x1=y1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!hm.current){const n=new z3({});n.mount(window),n.setOptions({layoutScroll:!0}),hm.current=n}return hm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),D3={pan:{Feature:i3},drag:{Feature:n3,ProjectionNode:x1,MeasureLayout:d1}};function qx(n,e,s){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",s==="Start");const d="onHover"+s,h=r[d];h&&gt.postRender(()=>h(e,wc(e)))}class B3 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=oN(e,(s,r)=>(qx(this.node,r,"Start"),d=>qx(this.node,d,"End"))))}unmount(){}}class U3 extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xc(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $x(n,e,s){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",s==="Start");const d="onTap"+(s==="End"?"":s),h=r[d];h&&gt.postRender(()=>h(e,wc(e)))}class V3 extends fa{mount(){const{current:e}=this.node;e&&(this.unmount=dN(e,(s,r)=>($x(this.node,r,"Start"),(d,{success:h})=>$x(this.node,d,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wm=new WeakMap,fm=new WeakMap,I3=n=>{const e=Wm.get(n.target);e&&e(n)},H3=n=>{n.forEach(I3)};function q3({root:n,...e}){const s=n||document;fm.has(s)||fm.set(s,{});const r=fm.get(s),d=JSON.stringify(e);return r[d]||(r[d]=new IntersectionObserver(H3,{root:n,...e})),r[d]}function $3(n,e,s){const r=q3(e);return Wm.set(n,s),r.observe(n),()=>{Wm.delete(n),r.unobserve(n)}}const Z3={some:0,all:1};class G3 extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:d="some",once:h}=e,f={root:s?s.current:void 0,rootMargin:r,threshold:typeof d=="number"?d:Z3[d]},y=g=>{const{isIntersecting:x}=g;if(this.isInView===x||(this.isInView=x,h&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:b,onViewportLeave:S}=this.node.getProps(),T=x?b:S;T&&T(g)};return $3(this.node.current,f,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(F3(e,s))&&this.startObserver()}unmount(){}}function F3({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const K3={inView:{Feature:G3},tap:{Feature:V3},focus:{Feature:U3},hover:{Feature:B3}},W3={layout:{ProjectionNode:x1,MeasureLayout:d1}},Y3={...z6,...K3,...D3,...W3},Tt=JN(Y3,d6);function Hi(){const n=at(),e=bs(),[s,r]=N.useState(!1),{logout:d}=Rt(),h=[{label:"Inicio",icon:"",path:"/home"},{label:"Restaurantes",icon:"",path:"/restaurantes"},{label:"Carrito",icon:"",path:"/carrito"},{label:"Pedidos",icon:"",path:"/pedidos"},{label:"Mi Cuenta",icon:"",path:"/mi-cuenta"}],[f,y]=N.useState(()=>{const x=h.findIndex(b=>b.path===e.pathname);return x>=0?x:0});N.useEffect(()=>{const x=h.findIndex(b=>b.path===e.pathname);x>=0&&y(x)},[e.pathname]);const g=(x,b)=>{y(b),r(!1),n(x)};return l.jsxs(l.Fragment,{children:[l.jsxs(Tt.button,{whileTap:{scale:.9},onClick:()=>r(!s),style:ln.hamburgerButton,children:[l.jsx(Tt.div,{animate:{rotate:s?45:0,y:s?8:0},transition:{duration:.3},style:ln.hamburgerLine}),l.jsx(Tt.div,{animate:{opacity:s?0:1},transition:{duration:.2},style:ln.hamburgerLine}),l.jsx(Tt.div,{animate:{rotate:s?-45:0,y:s?-8:0},transition:{duration:.3},style:ln.hamburgerLine})]}),l.jsx(Vm,{children:s&&l.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),style:ln.overlay})}),l.jsx(Vm,{children:s&&l.jsxs(Tt.nav,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},style:ln.menuContainer,children:[l.jsx("div",{style:ln.menuHeader,children:l.jsx("h2",{style:ln.menuTitle,children:"Men"})}),l.jsxs("div",{style:ln.menuItems,children:[h.map((x,b)=>l.jsxs(Tt.button,{onClick:()=>g(x.path,b),whileHover:{scale:1.02,x:4},whileTap:{scale:.98},style:{...ln.menuItem,background:e.pathname===x.path?"linear-gradient(135deg, #4f46e5, #7c3aed)":"transparent",color:e.pathname===x.path?"#fff":"#1f2937"},children:[l.jsx("span",{style:ln.menuItemIcon,children:x.icon}),l.jsx("span",{style:ln.menuItemLabel,children:x.label}),e.pathname===x.path&&l.jsx(Tt.div,{layoutId:"activeIndicator",style:ln.activeIndicator})]},x.path)),l.jsx("div",{style:{height:"1px",background:"#e5e7eb",margin:"12px 0"}}),l.jsxs(Tt.button,{onClick:()=>{d(),n("/"),r(!1)},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},style:{...ln.menuItem,background:"transparent",color:"#ef4444"},children:[l.jsx("span",{style:ln.menuItemIcon,children:""}),l.jsx("span",{style:ln.menuItemLabel,children:"Cerrar Sesin"})]})]})]})})]})}const ln={hamburgerButton:{position:"fixed",bottom:"24px",right:"24px",width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(135deg, #4f46e5, #7c3aed)",border:"none",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"5px",zIndex:1e3,boxShadow:"0 8px 24px rgba(79, 70, 229, 0.4)"},hamburgerLine:{width:"24px",height:"3px",backgroundColor:"#fff",borderRadius:"2px"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998},menuContainer:{position:"fixed",top:0,left:0,bottom:0,width:"280px",maxWidth:"80vw",backgroundColor:"#ffffff",boxShadow:"4px 0 24px rgba(0, 0, 0, 0.15)",zIndex:999,display:"flex",flexDirection:"column"},menuHeader:{padding:"24px 20px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #4f46e5, #7c3aed)"},menuTitle:{margin:0,fontSize:"24px",fontWeight:700,color:"#fff"},menuItems:{flex:1,padding:"16px",display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto"},menuItem:{display:"flex",alignItems:"center",gap:"16px",padding:"16px 20px",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:500,transition:"all 0.2s ease",position:"relative",textAlign:"left"},menuItemIcon:{fontSize:"24px"},menuItemLabel:{flex:1},activeIndicator:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"4px",height:"24px",backgroundColor:"#fff",borderRadius:"0 4px 4px 0"}};function X3({restaurantes:n}){const e=at(),s=N.useRef(null),r=N.useRef(!1);return N.useEffect(()=>{const d=s.current;if(!d||n.length===0)return;let h;const f=.6;let y=0;const g=()=>{if(d){if(!r.current){y+=f;const x=Math.floor(d.scrollWidth/2);y>=x&&(y=0),d.scrollLeft=Math.max(0,x-Math.floor(y))}h=requestAnimationFrame(g)}};return d.scrollLeft=Math.floor(d.scrollWidth/2),h=requestAnimationFrame(g),()=>cancelAnimationFrame(h)},[n]),n.length===0?l.jsx("section",{style:{marginBottom:"24px"},children:l.jsx("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",height:"160px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 30px rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px"},children:l.jsx("p",{style:{color:"#fff",fontSize:"15px",fontWeight:500},children:"No hay restaurantes disponibles"})})}):l.jsx("section",{style:{marginBottom:"24px"},children:l.jsxs("div",{style:{position:"relative",maxWidth:"1200px",margin:"0 auto",padding:"8px 16px"},children:[l.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;} .hide-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }"}),l.jsx("div",{ref:s,className:"hide-scrollbar",onMouseEnter:()=>r.current=!0,onMouseLeave:()=>r.current=!1,style:{display:"flex",gap:"12px",overflowX:"hidden",paddingBottom:"8px",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none"},children:(n.length>0?[...n,...n]:n).map((d,h)=>l.jsxs("div",{style:{minWidth:"160px",flex:"0 0 auto",borderRadius:"10px",overflow:"hidden",background:"transparent",boxShadow:"none",border:"1px solid rgba(15,23,42,0.06)",cursor:"pointer",display:"flex",flexDirection:"column",backdropFilter:"none"},onClick:()=>e(`/restaurante/${d.id}`),children:[l.jsx("div",{style:{height:"90px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${d.imagen_url})`}}),l.jsxs("div",{style:{padding:"10px 12px",display:"flex",flexDirection:"column",gap:"6px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[l.jsx("h4",{style:{margin:0,fontSize:"13px",fontWeight:800,color:"#0f172a"},children:d.nombre}),l.jsx("span",{style:{fontSize:"16px"},children:d.emoji})]}),l.jsx("p",{style:{margin:0,fontSize:"11px",color:"#475569"},children:d.descripcion})]})]},`${d.id}-${h}`))}),l.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:10},children:l.jsx("button",{onClick:()=>e("/restaurantes"),style:{padding:"6px 10px",fontSize:13,borderRadius:10,border:"1px solid #e6e7eb",background:"#fff",cursor:"pointer",color:"#0f172a",boxShadow:"0 1px 3px rgba(2,6,23,0.06)"},children:"Ver todos"})})]})})}function J3({platillos:n}){const e=at(),s=N.useRef(null);if(N.useEffect(()=>{const d=s.current;if(!d||n.length===0)return;let h,f=0;const y=.5,g=()=>{if(!d)return;f+=y;const S=d.scrollWidth/2;f>=S&&(f=0),d.scrollLeft=f,h=requestAnimationFrame(g)};h=requestAnimationFrame(g);const x=()=>cancelAnimationFrame(h),b=()=>{h=requestAnimationFrame(g)};return d.addEventListener("mouseenter",x),d.addEventListener("mouseleave",b),()=>{cancelAnimationFrame(h),d.removeEventListener("mouseenter",x),d.removeEventListener("mouseleave",b)}},[n]),n.length===0)return null;const r=[...n,...n];return l.jsx("div",{style:{marginBottom:20,overflow:"hidden"},children:l.jsxs("div",{ref:s,style:{display:"flex",gap:10,overflowX:"hidden",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;}"}),r.map((d,h)=>l.jsxs("div",{onClick:()=>{e(`/platillo/${d.id}`)},style:{minWidth:130,flex:"0 0 130px",borderRadius:10,overflow:"hidden",background:"#fff",border:"1px solid rgba(15,23,42,0.08)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"},children:[l.jsx("div",{style:{height:90,backgroundImage:`url(${d.imagen_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=200"})`,backgroundSize:"cover",backgroundPosition:"center"}}),l.jsxs("div",{style:{padding:"8px 10px"},children:[l.jsx("h4",{style:{margin:0,fontSize:12,fontWeight:700,color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d.nombre}),d.precio&&l.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:13,fontWeight:700,color:"#059669"},children:["$",d.precio.toFixed(2)]}),d.restaurante&&l.jsx("p",{style:{margin:"2px 0 0 0",fontSize:10,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d.restaurante.nombre})]})]},`${d.id}-${h}`))]})})}function Q3(){const n=at(),[e,s]=N.useState([]),[r,d]=N.useState([]),[h,f]=N.useState([]),[,y]=N.useState(!0),[g,x]=N.useState(""),[b,S]=N.useState([]),[T,A]=N.useState(!1);return N.useEffect(()=>{async function O(){try{const{data:R,error:M}=await he.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1});if(M)console.error("Error cargando restaurantes:",M),s([]);else{const ee=(R||[]).map(I=>({...I,calificacion:typeof I.calificacion=="string"?parseFloat(I.calificacion)||0:I.calificacion??0,costo_envio:typeof I.costo_envio=="string"?parseFloat(I.costo_envio)||0:I.costo_envio??0,tiempo_entrega_min:I.tiempo_entrega_min?Number(I.tiempo_entrega_min):0}));s(ee)}const{data:z,error:V}=await he.from("categorias").select("*").order("orden",{ascending:!0});V?(console.error("Error cargando categoras:",V),f([{id:"1",nombre:"Comidas",emoji:"",color_gradiente_inicio:"#f093fb",color_gradiente_fin:"#f5576c"},{id:"2",nombre:"Bebidas",emoji:"",color_gradiente_inicio:"#667eea",color_gradiente_fin:"#764ba2"},{id:"3",nombre:"Postres",emoji:"",color_gradiente_inicio:"#fa709a",color_gradiente_fin:"#fee140"},{id:"4",nombre:"Mandaditos",emoji:"",color_gradiente_inicio:"#4facfe",color_gradiente_fin:"#00f2fe"}])):f(z||[]);const{data:k,error:Y}=await he.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").order("nombre",{ascending:!0}).limit(100);if(Y)console.error("Error cargando platillos:",Y),d([]);else{const ee=(k||[]).map(I=>({id:I.id,nombre:I.nombre,descripcion:I.descripcion,imagen_url:I.imagen_url,precio:I.precio,disponible:I.disponible,restaurante_id:I.restaurante_id,restaurante:I.restaurantes?Array.isArray(I.restaurantes)?I.restaurantes[0]:I.restaurantes:null}));d(ee)}}catch(R){console.error("Error general:",R),s([]),f([]),d([])}finally{y(!1)}}O()},[]),N.useEffect(()=>{const O=g.trim().toLowerCase();if(!O){S([]);return}const R=e.filter(z=>`${z.nombre} ${z.descripcion}`.toLowerCase().includes(O)).slice(0,4).map(z=>({type:"restaurante",id:z.id,nombre:z.nombre,descripcion:z.descripcion,emoji:z.emoji})),M=r.filter(z=>`${z.nombre} ${z.descripcion}`.toLowerCase().includes(O)).slice(0,6-R.length).map(z=>({type:"platillo",id:z.id,nombre:z.nombre,descripcion:z.descripcion,restaurante:z.restaurante}));S([...R,...M])},[g,e,r]),l.jsxs("div",{style:{background:"#ffffff",minHeight:"100vh",paddingBottom:"20px",position:"relative"},children:[l.jsx(Ke,{}),l.jsxs("main",{style:{maxWidth:"1200px",margin:"0 auto",padding:"16px"},children:[l.jsx(X3,{restaurantes:e}),l.jsxs("div",{style:{marginTop:12,marginBottom:18,position:"relative"},children:[l.jsx("input",{value:g,onChange:O=>x(O.target.value),onFocus:()=>A(!0),onBlur:()=>setTimeout(()=>A(!1),150),placeholder:"Buscar restaurantes o platillos...",style:{width:"100%",padding:"12px 14px",borderRadius:12,border:"1px solid #e6e7eb",outline:"none",fontSize:14}}),T&&g.trim().length>0&&b.length>0&&l.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",left:0,right:0,background:"rgba(255,255,255,0.98)",border:"1px solid #e6e7eb",borderRadius:12,boxShadow:"0 8px 24px rgba(2,6,23,0.06)",zIndex:40,maxHeight:260,overflow:"auto"},children:b.map((O,R)=>l.jsxs("div",{onMouseDown:()=>{O.type==="restaurante"?n(`/restaurante/${O.id}`):O.type==="platillo"&&n(`/platillo/${O.id}`)},style:{padding:"10px 12px",display:"flex",flexDirection:"column",gap:4,cursor:"pointer",borderBottom:R<b.length-1?"1px solid #f3f4f6":"none"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:O.nombre}),l.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:O.type==="restaurante"?"Restaurante":"Platillo"})]}),O.descripcion&&l.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:O.descripcion})]},R))})]}),l.jsx(J3,{platillos:r.sort(()=>Math.random()-.5)}),l.jsxs("section",{children:[l.jsxs("h2",{style:{fontSize:"24px",fontWeight:800,color:"#111827",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{style:{fontSize:"28px"},children:""}),"Qu se te antoja hoy?"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"14px"},children:h.length>0?h.map(O=>l.jsxs("div",{onClick:()=>n(`/categoria/${O.id}`),style:{background:`linear-gradient(135deg, ${O.color_gradiente_inicio} 0%, ${O.color_gradiente_fin} 100%)`,borderRadius:"16px",padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 6px 18px rgba(102,126,234,0.3)",minHeight:"140px",clipPath:"ellipse(65% 60% at 30% 35%)",WebkitClipPath:"ellipse(65% 60% at 30% 35%)"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px)",R.currentTarget.style.boxShadow="0 8px 24px rgba(102,126,234,0.4)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 6px 18px rgba(102,126,234,0.3)"},children:[l.jsx("div",{style:{position:"absolute",top:"-15px",right:"-15px",fontSize:"90px",opacity:.15},children:O.emoji}),l.jsxs("div",{style:{position:"relative",zIndex:2},children:[l.jsx("div",{style:{fontSize:"40px",marginBottom:"8px"},children:O.emoji}),l.jsx("h3",{style:{color:"#fff",fontSize:"17px",fontWeight:700,margin:"0 0 6px 0"},children:O.nombre})]})]},O.id)):l.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",minHeight:"140px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",clipPath:"ellipse(65% 60% at 30% 35%)",WebkitClipPath:"ellipse(65% 60% at 30% 35%)"},children:"Cargando..."})})]})]}),l.jsx(Hi,{}),l.jsx("style",{children:"@keyframes fadeIn {from { opacity: 0; } to { opacity: 1; }} @keyframes slideDown {from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); }}"})]})}function eC(){const{categoriaId:n}=ko(),e=at(),[s,r]=N.useState([]),[d,h]=N.useState(!0),[f,y]=N.useState(null);return N.useEffect(()=>{if(!n)return;async function g(){h(!0);try{const{data:x}=await he.from("categorias").select("nombre").eq("id",n).single();x&&y(x.nombre||null);const{data:b,error:S}=await he.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id, restaurantes(id,nombre)").eq("categoria_id",n).order("nombre",{ascending:!0});if(S)console.error("Error cargando platillos:",S),r([]);else{const T=(b||[]).map(A=>({id:A.id,nombre:A.nombre,descripcion:A.descripcion,imagen_url:A.imagen_url,precio:A.precio,disponible:A.disponible,restaurante_id:A.restaurante_id,restaurante:A.restaurantes?{id:A.restaurantes.id,nombre:A.restaurantes.nombre}:null}));r(T)}}catch(x){console.error(x),r([])}finally{h(!1)}}g()},[n]),l.jsxs("div",{style:{padding:16,maxWidth:500,margin:"0 auto"},children:[l.jsx("button",{onClick:()=>e(-1),style:{marginBottom:12},children:" Volver"}),l.jsx("h2",{style:{fontSize:20,marginBottom:8},children:f??"Platillos"}),d?l.jsx("p",{children:"Cargando platillos..."}):s.length===0?l.jsx("p",{children:"No hay platillos disponibles para esta categora."}):l.jsx("div",{style:{display:"grid",gap:12},children:s.map(g=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${g.id}`),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&e(`/platillo/${g.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[l.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:l.jsx("img",{src:g.imagen_url||"/placeholder.png",alt:g.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[l.jsx("h3",{style:{fontSize:16,margin:0},children:g.nombre}),l.jsxs("div",{style:{fontWeight:700},children:["$",g.precio.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:g.descripcion}),g.restaurante&&l.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["En: ",g.restaurante.nombre]})]})]},g.id))})]})}function tC(){const{id:n}=ko(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState([]),[f,y]=N.useState([]),[g,x]=N.useState(!0);return N.useEffect(()=>{if(!n)return;async function b(){x(!0);try{const{data:S}=await he.from("categorias").select("nombre").eq("id",n).single();S&&r(S.nombre||null);const{data:T,error:A}=await he.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",n).order("nombre",{ascending:!0});A?(console.error("Error platillos:",A),h([])):h((T||[]).map(M=>({id:M.id,nombre:M.nombre,descripcion:M.descripcion,imagen_url:M.imagen_url,precio:M.precio,disponible:M.disponible,restaurante_id:M.restaurante_id,restaurantes:M.restaurantes?{id:M.restaurantes.id,nombre:M.restaurantes.nombre}:null})));const{data:O,error:R}=await he.from("bebidas").select("id,nombre,descripcion,imagen_url,precio,tamano,temperatura,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",n).order("nombre",{ascending:!0});R?(console.error("Error bebidas:",R),y([])):y((O||[]).map(M=>({id:M.id,nombre:M.nombre,descripcion:M.descripcion,imagen_url:M.imagen_url,precio:M.precio,tamano:M.tamano,temperatura:M.temperatura,disponible:M.disponible,restaurante_id:M.restaurante_id,restaurantes:M.restaurantes?{id:M.restaurantes.id,nombre:M.restaurantes.nombre}:null})))}catch(S){console.error(S),h([]),y([])}finally{x(!1)}}b()},[n]),l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsxs("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:[l.jsx("button",{onClick:()=>e(-1),style:{border:"none",background:"transparent",fontSize:20,cursor:"pointer",padding:0,marginBottom:8},children:" Volver"}),l.jsx("h2",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0},children:s??"Categora"})]}),l.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:g?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{style:{marginBottom:16},children:[l.jsx("h3",{style:{margin:"8px 0"},children:"Platillos"}),d.length===0?l.jsx("p",{children:"No hay platillos en esta categora."}):l.jsx("div",{style:{display:"grid",gap:12},children:d.map(b=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${b.id}`),onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&e(`/platillo/${b.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[l.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:l.jsx("img",{src:b.imagen_url||"/placeholder.png",alt:b.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[l.jsx("h4",{style:{fontSize:15,margin:0},children:b.nombre}),l.jsxs("div",{style:{fontWeight:700},children:["$",b.precio.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:b.descripcion}),b.restaurantes&&l.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["En: ",b.restaurantes.nombre]})]})]},b.id))})]}),l.jsxs("section",{children:[l.jsx("h3",{style:{margin:"8px 0"},children:"Bebidas"}),f.length===0?l.jsx("p",{children:"No hay bebidas en esta categora."}):l.jsx("div",{style:{display:"grid",gap:12},children:f.map(b=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${b.id}`),onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&e(`/platillo/${b.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[l.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:l.jsx("img",{src:b.imagen_url||"/placeholder.png",alt:b.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[l.jsx("h4",{style:{fontSize:15,margin:0},children:b.nombre}),l.jsxs("div",{style:{fontWeight:700},children:["$",b.precio.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:b.descripcion}),b.tamano&&l.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["Tamao: ",b.tamano,"  ",b.temperatura]})]})]},b.id))})]})]})}),l.jsx(Hi,{})]})}function nC(){const n=at(),[e,s]=N.useState([]),[r,d]=N.useState(!0);N.useEffect(()=>{h()},[]);async function h(){try{const{data:f,error:y}=await he.from("categorias").select("*").order("orden",{ascending:!0});y?(console.error("Error cargando categoras:",y),s([])):s(f||[])}catch(f){console.error(f),s([])}finally{d(!1)}}return l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsx("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:l.jsxs("h1",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0,display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{fontSize:28},children:""}),"Categoras"]})}),l.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:r?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):e.length===0?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No hay categoras disponibles"})]}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:14},children:e.map(f=>l.jsxs("div",{onClick:()=>n(`/categoria/${f.id}`),style:{background:`linear-gradient(135deg, ${f.color_gradiente_inicio} 0%, ${f.color_gradiente_fin} 100%)`,borderRadius:16,padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 6px 18px rgba(102,126,234,0.3)",minHeight:140},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px)",y.currentTarget.style.boxShadow="0 8px 24px rgba(102,126,234,0.4)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 6px 18px rgba(102,126,234,0.3)"},children:[l.jsx("div",{style:{position:"absolute",top:10,right:10,fontSize:48,opacity:.25},children:f.emoji}),l.jsxs("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end",height:"100%"},children:[l.jsx("span",{style:{fontSize:36,marginBottom:8,display:"block"},children:f.emoji}),l.jsx("h3",{style:{color:"#fff",fontSize:18,fontWeight:800,margin:0,textShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:f.nombre})]})]},f.id))})}),l.jsx(Hi,{})]})}function iC(){const n=at(),[e,s]=N.useState([]),[r,d]=N.useState(!0),[h,f]=N.useState("");N.useEffect(()=>{y()},[]);async function y(){try{const{data:x,error:b}=await he.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1});if(b)console.error("Error cargando restaurantes:",b),s([]);else{const S=(x||[]).map(T=>({...T,calificacion:typeof T.calificacion=="string"?parseFloat(T.calificacion)||0:T.calificacion??0,costo_envio:typeof T.costo_envio=="string"?parseFloat(T.costo_envio)||0:T.costo_envio??0,tiempo_entrega_min:T.tiempo_entrega_min?Number(T.tiempo_entrega_min):0}));s(S)}}catch(x){console.error(x),s([])}finally{d(!1)}}const g=e.filter(x=>`${x.nombre} ${x.descripcion}`.toLowerCase().includes(h.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsxs("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:[l.jsxs("h1",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:"0 0 12px 0",display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{style:{fontSize:28},children:""}),"Restaurantes"]}),l.jsx("input",{value:h,onChange:x=>f(x.target.value),placeholder:"Buscar restaurante...",style:{width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid #e5e7eb",outline:"none",fontSize:14}})]}),l.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:r?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):g.length===0?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No se encontraron restaurantes"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:g.map(x=>l.jsxs("div",{onClick:()=>n(`/restaurante/${x.id}`),style:{background:"#fff",borderRadius:12,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:b=>b.currentTarget.style.transform="translateY(-2px)",onMouseLeave:b=>b.currentTarget.style.transform="translateY(0)",children:[l.jsx("div",{style:{height:140,backgroundImage:`url(${x.imagen_url})`,backgroundSize:"cover",backgroundPosition:"center"}}),l.jsxs("div",{style:{padding:12},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[l.jsx("h3",{style:{margin:0,fontSize:17,fontWeight:800,color:"#0f172a"},children:x.nombre}),l.jsx("span",{style:{fontSize:22},children:x.emoji})]}),l.jsx("p",{style:{margin:"0 0 8px 0",fontSize:13,color:"#6b7280"},children:x.descripcion}),l.jsxs("div",{style:{display:"flex",gap:12,fontSize:13,color:"#374151"},children:[l.jsxs("span",{style:{fontWeight:700},children:[" ",x.calificacion.toFixed(1)]}),l.jsxs("span",{children:[x.tiempo_entrega_min," min"]}),l.jsxs("span",{children:["$",x.costo_envio," envo"]})]})]})]},x.id))})}),l.jsx(Hi,{})]})}function sC(){const{id:n}=ko(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState([]),[f,y]=N.useState(!0);N.useEffect(()=>{n&&g()},[n]);async function g(){try{const{data:x,error:b}=await he.from("restaurantes").select("*").eq("id",n).single();b?(console.error("Error cargando restaurante:",b),r(null)):r(x);const{data:S,error:T}=await he.from("platillos").select("*").eq("restaurante_id",n).eq("disponible",!0).order("nombre",{ascending:!0});T?(console.error("Error cargando platillos:",T),h([])):h(S||[])}catch(x){console.error(x)}finally{y(!1)}}return f?l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]})}):s?l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx("div",{style:{height:220,backgroundImage:`url(${s.imagen_url})`,backgroundSize:"cover",backgroundPosition:"center"}}),l.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",top:16,left:16,width:36,height:36,borderRadius:"50%",border:"none",background:"rgba(255,255,255,0.95)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:""})]}),l.jsxs("div",{style:{background:"#fff",padding:"20px 16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[l.jsx("span",{style:{fontSize:32},children:s.emoji}),l.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:800,color:"#0f172a"},children:s.nombre})]}),l.jsx("p",{style:{margin:"0 0 12px 0",fontSize:14,color:"#6b7280"},children:s.descripcion}),l.jsxs("div",{style:{display:"flex",gap:16,fontSize:14,color:"#374151"},children:[l.jsxs("span",{style:{fontWeight:700},children:[" ",s.calificacion.toFixed(1)]}),l.jsxs("span",{children:[s.tiempo_entrega_min," min"]}),l.jsxs("span",{children:["$",s.costo_envio," envo"]})]})]}),l.jsxs("div",{style:{maxWidth:500,margin:"0 auto",padding:16},children:[l.jsx("h2",{style:{fontSize:20,fontWeight:800,color:"#111827",margin:"0 0 16px 0"},children:"Men"}),d.length===0?l.jsxs("div",{style:{textAlign:"center",padding:40},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No hay platillos disponibles"})]}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:d.map(x=>l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${x.id}`),onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&e(`/platillo/${x.id}`)},style:{background:"#fff",borderRadius:12,padding:12,display:"flex",gap:12,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",cursor:"pointer"},children:[x.imagen_url&&l.jsx("div",{style:{width:80,height:80,borderRadius:8,backgroundImage:`url(${x.imagen_url})`,backgroundSize:"cover",backgroundPosition:"center",flex:"0 0 80px"}}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[l.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:800,color:"#0f172a"},children:x.nombre}),l.jsxs("span",{style:{fontSize:16,fontWeight:700,color:"#059669"},children:["$",x.precio.toFixed(2)]})]}),x.descripcion&&l.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280"},children:x.descripcion})]})]},x.id))})]})]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:16},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280"},children:"Restaurante no encontrado"}),l.jsx("button",{onClick:()=>e("/restaurantes"),style:{padding:"10px 20px",borderRadius:8,border:"none",background:"#4f46e5",color:"#fff",cursor:"pointer"},children:"Ver restaurantes"})]})}function aC(){const{id:n}=ko(),e=at(),{usuario:s}=Rt(),[r,d]=N.useState(null),[h,f]=N.useState(!0),[y,g]=N.useState(!1),[x,b]=N.useState(1),[S,T]=N.useState("");N.useEffect(()=>{n&&A()},[n]);async function A(){f(!0);try{const{data:R,error:M}=await he.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("id",n).single();if(M)console.error("Error cargando platillo:",M),d(null);else if(R){const z=Array.isArray(R.restaurantes)?R.restaurantes[0]:R.restaurantes,V={id:R.id,nombre:R.nombre,descripcion:R.descripcion,imagen_url:R.imagen_url,precio:R.precio,disponible:R.disponible,restaurante_id:R.restaurante_id,restaurante:z?{id:z.id,nombre:z.nombre}:null};d(V)}}catch(R){console.error(R),d(null)}finally{f(!1)}}if(h)return l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando platillo..."})]})});if(!r)return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:16},children:[l.jsx("div",{style:{fontSize:48},children:""}),l.jsx("p",{style:{color:"#6b7280"},children:"Platillo no encontrado"}),l.jsx("button",{onClick:()=>e(-1),style:{padding:"10px 16px",borderRadius:8,border:"none",background:"#4f46e5",color:"#fff",cursor:"pointer"},children:"Volver"})]});const O=async()=>{if(!(!r?.disponible||!s?.id||!r.restaurante_id)){g(!0);try{const{data:R}=await he.from("carrito").select("*").eq("usuario_id",s.id).eq("platillo_id",r.id).maybeSingle();if(R){const{error:k}=await he.from("carrito").update({cantidad:R.cantidad+x,notas:S||R.notas}).eq("id",R.id);if(k)throw k;alert(` Cantidad actualizada en el carrito (${R.cantidad+x})`),window.confirm("Quieres ir al carrito?")&&e("/carrito");return}const{data:M}=await he.from("carrito").select("restaurante_id").eq("usuario_id",s.id).limit(1).maybeSingle();if(M&&M.restaurante_id!==r.restaurante_id){if(!window.confirm("Ya tienes items de otro restaurante en tu carrito. Deseas vaciar el carrito y agregar este item?")){g(!1);return}await he.from("carrito").delete().eq("usuario_id",s.id)}const{error:z}=await he.from("carrito").insert({usuario_id:s.id,platillo_id:r.id,restaurante_id:r.restaurante_id,cantidad:x,precio_unitario:r.precio||0,notas:S||null});if(z)throw z;alert(" Agregado al carrito"),window.confirm("Quieres ir al carrito?")&&e("/carrito")}catch(R){console.error("Error al agregar al carrito:",R),alert(R.message||"Error al agregar al carrito")}finally{g(!1)}}};return l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsxs("div",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",maxWidth:700,margin:"16px auto",borderRadius:12},children:[l.jsx("button",{onClick:()=>e(-1),style:{border:"none",background:"transparent",fontSize:18,cursor:"pointer",padding:0,marginBottom:8},children:" Volver"}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("h1",{style:{margin:0,fontSize:22,fontWeight:800,color:"#0f172a"},children:r.nombre}),r.descripcion&&l.jsx("p",{style:{margin:"8px 0 0 0",color:"#6b7280"},children:r.descripcion}),l.jsxs("div",{style:{marginTop:12,display:"flex",gap:12,alignItems:"center"},children:[l.jsxs("div",{style:{fontSize:20,fontWeight:800,color:"#059669"},children:["$",(r.precio||0).toFixed(2)]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("button",{onClick:()=>b(R=>Math.max(1,R-1)),style:{width:34,height:34,borderRadius:8,border:"none",background:"#f3f4f6",cursor:"pointer"},children:""}),l.jsx("div",{style:{minWidth:30,textAlign:"center",fontWeight:700},children:x}),l.jsx("button",{onClick:()=>b(R=>R+1),style:{width:34,height:34,borderRadius:8,border:"none",background:"#f3f4f6",cursor:"pointer"},children:"+"})]}),l.jsx("div",{style:{fontSize:13,color:r.disponible?"#374151":"#dc2626"},children:r.disponible?"Disponible":"No disponible"})]})]}),l.jsx("div",{style:{width:120,height:120,borderRadius:12,overflow:"hidden",flex:"0 0 120px"},children:l.jsx("img",{src:r.imagen_url||"/placeholder.png",alt:r.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),l.jsxs("div",{style:{marginTop:18,display:"flex",gap:12},children:[r.restaurante&&l.jsx("button",{onClick:()=>e(`/restaurante/${r.restaurante?.id}`),style:{padding:"10px 14px",borderRadius:10,border:"none",background:"#2563eb",color:"#fff",cursor:"pointer"},children:"Ver restaurante"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,flex:"1 1 auto"},children:l.jsx("textarea",{placeholder:"Instrucciones especiales (opcional)",value:S,onChange:R=>T(R.target.value),style:{width:"100%",minHeight:56,padding:8,borderRadius:8,border:"1px solid #e5e7eb",resize:"vertical"}})})]})]}),l.jsx("div",{style:{position:"fixed",left:0,right:0,bottom:100,display:"flex",justifyContent:"center",zIndex:120},children:l.jsx("div",{style:{maxWidth:700,width:"100%",padding:"10px 16px"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(2,6,23,0.06)"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:14,color:"#6b7280"},children:"Total"}),l.jsxs("div",{style:{fontWeight:800,fontSize:18},children:["$",((r.precio||0)*x).toFixed(2)]})]}),l.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:l.jsx("button",{onClick:O,disabled:!r.disponible||y,style:{padding:"10px 16px",borderRadius:10,border:"none",background:r.disponible&&!y?"#059669":"#9ca3af",color:"#fff",cursor:r.disponible&&!y?"pointer":"not-allowed",fontWeight:700},children:y?" Agregando...":` Aadir ${x>1?`(${x})`:""}`})})]})})})]})}function rC(){const n=at(),{usuario:e,setUsuario:s,logout:r}=Rt(),[d,h]=N.useState(!1),[f,y]=N.useState(!1),[g,x]=N.useState(""),[b,S]=N.useState({nombre:e?.nombre||"",telefono:e?.telefono||"",direccion:e?.direccion||""}),T=R=>{S({...b,[R.target.name]:R.target.value})},A=async R=>{if(R.preventDefault(),!!e){y(!0),x("");try{const{data:M,error:z}=await he.from("usuarios").update({nombre:b.nombre,telefono:b.telefono,direccion:b.direccion,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();z?(console.error("Error al actualizar:",z),x("Error al actualizar los datos")):M&&(s(M),x("Datos actualizados correctamente"),h(!1))}catch(M){console.error("Error:",M),x("Error al actualizar los datos")}finally{y(!1)}}},O=()=>{r(),n("/")};return e?l.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[l.jsx(Ke,{}),l.jsxs("main",{style:{maxWidth:600,margin:"0 auto",padding:"20px 16px"},children:[l.jsxs("div",{style:{background:"#fff",borderRadius:16,padding:"24px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",marginBottom:20},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:24},children:[l.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:36,color:"#fff",fontWeight:700},children:e.nombre.charAt(0).toUpperCase()}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:800,color:"#0f172a"},children:e.nombre}),l.jsx("p",{style:{margin:"4px 0 0 0",color:"#6b7280",fontSize:14},children:e.email}),l.jsx("span",{style:{display:"inline-block",marginTop:8,padding:"4px 12px",borderRadius:20,background:"#dbeafe",color:"#1e40af",fontSize:12,fontWeight:600},children:e.tipo_usuario==="cliente"?"Cliente":e.tipo_usuario})]})]}),g&&l.jsx("div",{style:{padding:"12px 16px",borderRadius:8,background:g.includes("Error")?"#fee2e2":"#d1fae5",color:g.includes("Error")?"#991b1b":"#065f46",marginBottom:20,fontSize:14},children:g}),d?l.jsxs("form",{onSubmit:A,children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:20},children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nombre",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Nombre"}),l.jsx("input",{type:"text",id:"nombre",name:"nombre",value:b.nombre,onChange:T,required:!0,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"telefono",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Telfono"}),l.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:b.telefono,onChange:T,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"direccion",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Direccin"}),l.jsx("textarea",{id:"direccion",name:"direccion",value:b.direccion,onChange:T,rows:3,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box",resize:"vertical",fontFamily:"inherit"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsx("button",{type:"button",onClick:()=>{h(!1),S({nombre:e?.nombre||"",telefono:e?.telefono||"",direccion:e?.direccion||""})},style:{flex:1,padding:"12px 16px",borderRadius:10,border:"1px solid #e5e7eb",background:"#fff",color:"#374151",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:f,style:{flex:1,padding:"12px 16px",borderRadius:10,border:"none",background:f?"#9ca3af":"#059669",color:"#fff",fontSize:15,fontWeight:700,cursor:f?"not-allowed":"pointer"},children:f?"Guardando...":"Guardar"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:20},children:[l.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16,fontWeight:700,color:"#374151"},children:"Informacin Personal"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Nombre"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.nombre})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Telfono"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.telefono||"No especificado"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Direccin"}),l.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.direccion||"No especificada"})]})]})]}),l.jsx("button",{onClick:()=>h(!0),style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#4f46e5",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer",marginBottom:12},children:"Editar informacin"})]})]}),l.jsx("button",{onClick:O,style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#dc2626",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cerrar sesin"})]}),l.jsx(Hi,{})]}):null}function oC(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState([]),[d,h]=N.useState(null),[f,y]=N.useState(!0),[g,x]=N.useState(!1),[b,S]=N.useState(""),[T,A]=N.useState("");N.useEffect(()=>{O()},[]);const O=async()=>{if(n?.id)try{const{data:k,error:Y}=await he.from("vista_carrito").select("*").eq("usuario_id",n.id);if(Y)throw Y;const{data:ee,error:I}=await he.from("vista_resumen_carrito").select("*").eq("usuario_id",n.id).single();if(I&&I.code!=="PGRST116")throw I;r(k||[]),h(ee)}catch(k){console.error("Error al cargar carrito:",k)}finally{y(!1)}},R=async(k,Y)=>{if(!(Y<1))try{const{error:ee}=await he.from("carrito").update({cantidad:Y}).eq("id",k);if(ee)throw ee;await O()}catch(ee){console.error("Error al actualizar cantidad:",ee)}},M=async k=>{try{const{error:Y}=await he.from("carrito").delete().eq("id",k);if(Y)throw Y;await O()}catch(Y){console.error("Error al eliminar item:",Y)}},z=async()=>{if(!(!n?.id||!window.confirm("Seguro que quieres vaciar el carrito?")))try{const{error:Y}=await he.rpc("limpiar_carrito_usuario",{p_usuario_id:n.id});if(Y)throw Y;await O()}catch(Y){console.error("Error al vaciar carrito:",Y)}},V=async()=>{if(!n?.id||!b.trim()){alert("Por favor ingresa la direccin de entrega");return}x(!0);try{const{error:k}=await he.rpc("crear_pedido_desde_carrito",{p_usuario_id:n.id,p_direccion_entrega:b,p_latitud:19.4326,p_longitud:-99.1332,p_notas_cliente:T||null});if(k)throw k;alert("Pedido creado exitosamente! "),e("/pedidos")}catch(k){console.error("Error al crear pedido:",k),alert(k.message||"Error al crear el pedido")}finally{x(!1)}};return f?l.jsxs("div",{style:pe.container,children:[l.jsx(Ke,{}),l.jsxs("div",{style:pe.loadingContainer,children:[l.jsx(Tt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:pe.spinner,children:""}),l.jsx("p",{style:pe.loadingText,children:"Cargando tu carrito..."})]}),l.jsx(Hi,{})]}):s.length===0?l.jsxs("div",{style:pe.container,children:[l.jsx(Ke,{}),l.jsx("div",{style:pe.content,children:l.jsxs(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:pe.emptyState,children:[l.jsx("div",{style:pe.emptyIcon,children:""}),l.jsx("h2",{style:pe.emptyTitle,children:"Tu carrito est vaco"}),l.jsx("p",{style:pe.emptyText,children:"Agrega deliciosos platillos y comienza tu pedido!"}),l.jsxs(Tt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/home"),style:pe.exploreButton,children:[l.jsx("span",{style:{marginRight:"8px"},children:""}),"Explorar Restaurantes"]})]})}),l.jsx(Hi,{})]}):l.jsxs("div",{style:pe.container,children:[l.jsx(Ke,{}),l.jsxs("div",{style:pe.content,className:"carrito-content",children:[l.jsxs(Tt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:pe.header,className:"carrito-header",children:[l.jsxs("h1",{style:pe.title,className:"carrito-title",children:[l.jsx("span",{style:{fontSize:"32px",marginRight:"12px"},children:""}),"Mi Carrito"]}),l.jsx(Tt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,style:pe.clearButton,className:"carrito-clear-button",children:" Vaciar"})]}),l.jsxs("div",{style:pe.mainGrid,className:"carrito-main-grid",children:[l.jsxs("div",{style:pe.itemsColumn,children:[d&&l.jsx(Tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},style:pe.restaurantBanner,className:"carrito-restaurant-banner",children:l.jsxs("div",{style:pe.restaurantInfo,children:[l.jsx("span",{style:pe.restaurantEmoji,className:"carrito-restaurant-emoji",children:d.restaurante_emoji}),l.jsxs("div",{children:[l.jsx("h2",{style:pe.restaurantName,className:"carrito-restaurant-name",children:d.restaurante_nombre}),l.jsxs("p",{style:pe.restaurantStats,children:[" ",d.tiempo_entrega_estimado," min   $",d.costo_envio.toFixed(2)]})]})]})}),l.jsx(Vm,{children:s.map((k,Y)=>l.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:Y*.05},style:pe.itemCard,className:"carrito-item-card",children:l.jsxs("div",{style:pe.itemContent,className:"carrito-item-content",children:[k.platillo_imagen&&l.jsxs("div",{style:pe.imageContainer,children:[l.jsx("img",{src:k.platillo_imagen,alt:k.platillo_nombre,style:pe.itemImage,className:"carrito-item-image"}),!k.platillo_disponible&&l.jsx("div",{style:pe.unavailableBadge,children:"No disponible"})]}),l.jsxs("div",{style:pe.itemDetails,children:[l.jsx("h3",{style:pe.itemName,className:"carrito-item-name",children:k.platillo_nombre}),l.jsx("p",{style:pe.itemDescription,children:k.platillo_descripcion}),l.jsxs("p",{style:pe.itemPrice,children:["$",k.precio_unitario.toFixed(2)]}),k.notas&&l.jsxs("div",{style:pe.notesBox,children:[l.jsx("span",{style:{marginRight:"4px"},children:""}),k.notas]}),l.jsxs("div",{style:pe.itemActions,className:"carrito-item-actions",children:[l.jsxs("div",{style:pe.quantityControl,className:"carrito-quantity-control",children:[l.jsx(Tt.button,{whileTap:{scale:.9},onClick:()=>R(k.id,k.cantidad-1),disabled:k.cantidad<=1,style:{...pe.quantityButton,...k.cantidad<=1&&pe.quantityButtonDisabled},children:""}),l.jsx("span",{style:pe.quantity,children:k.cantidad}),l.jsx(Tt.button,{whileTap:{scale:.9},onClick:()=>R(k.id,k.cantidad+1),style:pe.quantityButton,children:"+"})]}),l.jsxs("div",{style:pe.itemFooter,className:"carrito-item-footer",children:[l.jsxs("span",{style:pe.subtotal,children:["$",k.subtotal.toFixed(2)]}),l.jsx(Tt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(k.id),style:pe.deleteButton,children:""})]})]})]})]})},k.id))})]}),l.jsx("div",{style:pe.summaryColumn,className:"carrito-summary-column",children:l.jsxs(Tt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},style:pe.summaryCard,className:"carrito-summary-card",children:[l.jsx("h2",{style:pe.summaryTitle,children:" Datos de Entrega"}),l.jsxs("div",{style:pe.formGroup,children:[l.jsx("label",{style:pe.label,children:"Direccin de entrega *"}),l.jsx("input",{type:"text",value:b,onChange:k=>S(k.target.value),placeholder:"Calle, nmero, colonia...",style:pe.input})]}),l.jsxs("div",{style:pe.formGroup,children:[l.jsx("label",{style:pe.label,children:"Notas adicionales (opcional)"}),l.jsx("textarea",{value:T,onChange:k=>A(k.target.value),placeholder:"Indicaciones, referencias, etc.",rows:3,style:{...pe.input,...pe.textarea}})]}),l.jsx("div",{style:pe.divider}),l.jsxs("div",{style:pe.summarySection,children:[l.jsx("h3",{style:pe.summarySubtitle,children:"Resumen del Pedido"}),l.jsxs("div",{style:pe.summaryRow,children:[l.jsxs("span",{style:pe.summaryLabel,children:["Subtotal (",d?.total_items," productos)"]}),l.jsxs("span",{style:pe.summaryValue,children:["$",d?.subtotal_productos.toFixed(2)]})]}),l.jsxs("div",{style:pe.summaryRow,children:[l.jsx("span",{style:pe.summaryLabel,children:"Costo de envo"}),l.jsxs("span",{style:pe.summaryValue,children:["$",d?.costo_envio.toFixed(2)]})]}),l.jsx("div",{style:pe.divider}),l.jsxs("div",{style:pe.totalRow,children:[l.jsx("span",{style:pe.totalLabel,children:"Total"}),l.jsxs("span",{style:pe.totalValue,className:"carrito-total-value",children:["$",d?.total_carrito.toFixed(2)]})]}),d&&l.jsxs("div",{style:pe.estimatedTime,children:[" Tiempo estimado: ",d.tiempo_entrega_estimado," min"]})]}),l.jsx(Tt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:V,disabled:g||!b.trim(),style:{...pe.checkoutButton,...g||!b.trim()?pe.checkoutButtonDisabled:{}},className:"carrito-checkout-button",children:g?l.jsxs(l.Fragment,{children:[l.jsx(Tt.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{display:"inline-block",marginRight:"8px"},children:""}),"Procesando..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{marginRight:"8px"},children:""}),"Realizar Pedido"]})}),l.jsx("p",{style:pe.secureText,children:" Pago seguro y protegido"})]})})]})]}),l.jsx(Hi,{})]})}const pe={container:{minHeight:"100vh",background:"linear-gradient(to bottom, #f9fafb, #ffffff)"},content:{maxWidth:"1400px",margin:"0 auto",padding:"24px",paddingBottom:"100px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",gap:"16px"},spinner:{fontSize:"48px"},loadingText:{fontSize:"16px",color:"#6b7280",fontWeight:500},emptyState:{textAlign:"center",padding:"80px 20px",background:"#ffffff",borderRadius:"24px",boxShadow:"0 4px 24px rgba(0,0,0,0.06)",maxWidth:"500px",margin:"40px auto"},emptyIcon:{fontSize:"80px",marginBottom:"24px"},emptyTitle:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"12px"},emptyText:{fontSize:"16px",color:"#6b7280",marginBottom:"32px",lineHeight:"1.6"},exploreButton:{background:"linear-gradient(135deg, #4f46e5, #7c3aed)",color:"#ffffff",padding:"14px 32px",borderRadius:"12px",border:"none",fontSize:"16px",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 16px rgba(79, 70, 229, 0.3)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},title:{fontSize:"32px",fontWeight:800,color:"#111827",display:"flex",alignItems:"center"},clearButton:{background:"#fee2e2",color:"#dc2626",padding:"10px 20px",borderRadius:"10px",border:"none",fontSize:"14px",fontWeight:600,cursor:"pointer"},mainGrid:{display:"grid",gridTemplateColumns:"1fr 400px",gap:"24px",alignItems:"start"},itemsColumn:{display:"flex",flexDirection:"column",gap:"16px"},restaurantBanner:{background:"linear-gradient(135deg, #4f46e5, #7c3aed)",borderRadius:"16px",padding:"20px",color:"#ffffff",boxShadow:"0 8px 24px rgba(79, 70, 229, 0.25)"},restaurantInfo:{display:"flex",alignItems:"center",gap:"16px"},restaurantEmoji:{fontSize:"48px"},restaurantName:{fontSize:"20px",fontWeight:700,margin:"0 0 8px 0"},restaurantStats:{fontSize:"14px",opacity:.95,margin:0},itemCard:{background:"#ffffff",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 12px rgba(0,0,0,0.06)",transition:"all 0.3s ease"},itemContent:{display:"flex",gap:"16px"},imageContainer:{position:"relative",flexShrink:0},itemImage:{width:"120px",height:"120px",borderRadius:"12px",objectFit:"cover"},unavailableBadge:{position:"absolute",top:"8px",left:"8px",background:"rgba(220, 38, 38, 0.95)",color:"#ffffff",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:600},itemDetails:{flex:1,display:"flex",flexDirection:"column"},itemName:{fontSize:"18px",fontWeight:700,color:"#111827",margin:"0 0 8px 0"},itemDescription:{fontSize:"14px",color:"#6b7280",margin:"0 0 8px 0",lineHeight:"1.5"},itemPrice:{fontSize:"16px",fontWeight:600,color:"#4f46e5",margin:"0 0 12px 0"},notesBox:{background:"#fef3c7",padding:"8px 12px",borderRadius:"8px",fontSize:"13px",color:"#92400e",marginBottom:"12px"},itemActions:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"},quantityControl:{display:"flex",alignItems:"center",gap:"12px",background:"#f3f4f6",borderRadius:"10px",padding:"4px"},quantityButton:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:"#ffffff",color:"#4f46e5",fontSize:"18px",fontWeight:600,cursor:"pointer",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},quantityButtonDisabled:{opacity:.5,cursor:"not-allowed"},quantity:{fontSize:"16px",fontWeight:600,color:"#111827",minWidth:"24px",textAlign:"center"},itemFooter:{display:"flex",alignItems:"center",gap:"16px"},subtotal:{fontSize:"20px",fontWeight:700,color:"#4f46e5"},deleteButton:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"4px"},summaryColumn:{position:"sticky",top:"90px"},summaryCard:{background:"#ffffff",borderRadius:"20px",padding:"28px",boxShadow:"0 4px 24px rgba(0,0,0,0.08)"},summaryTitle:{fontSize:"20px",fontWeight:700,color:"#111827",marginBottom:"20px"},formGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:600,color:"#374151",marginBottom:"8px"},input:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"10px",fontSize:"14px",outline:"none",transition:"all 0.2s",boxSizing:"border-box"},textarea:{resize:"vertical",fontFamily:"inherit"},divider:{height:"1px",background:"#e5e7eb",margin:"24px 0"},summarySection:{marginBottom:"24px"},summarySubtitle:{fontSize:"16px",fontWeight:700,color:"#111827",marginBottom:"16px"},summaryRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},summaryLabel:{fontSize:"14px",color:"#6b7280"},summaryValue:{fontSize:"14px",fontWeight:600,color:"#111827"},totalRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px"},totalLabel:{fontSize:"18px",fontWeight:700,color:"#111827"},totalValue:{fontSize:"24px",fontWeight:800,color:"#4f46e5"},estimatedTime:{marginTop:"12px",padding:"12px",background:"#f0fdf4",borderRadius:"10px",fontSize:"14px",color:"#166534",textAlign:"center",fontWeight:600},checkoutButton:{width:"100%",background:"linear-gradient(135deg, #4f46e5, #7c3aed)",color:"#ffffff",padding:"16px",borderRadius:"12px",border:"none",fontSize:"16px",fontWeight:700,cursor:"pointer",boxShadow:"0 4px 16px rgba(79, 70, 229, 0.3)",marginBottom:"12px"},checkoutButtonDisabled:{background:"#9ca3af",cursor:"not-allowed",boxShadow:"none"},secureText:{fontSize:"13px",color:"#6b7280",textAlign:"center",margin:0}};if(typeof window<"u"){const n=document.createElement("style");n.textContent=`
    @media (max-width: 1024px) {
      /* Ajustar grid a una columna en tablets */
    }
    @media (max-width: 768px) {
      /* Ajustar para mviles */
    }
  `,document.head.appendChild(n)}function lC(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState([]),[d,h]=N.useState(!0);N.useEffect(()=>{f();const g=he.channel("mis-pedidos").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`usuario_id=eq.${n?.id}`},()=>{f()}).subscribe();return()=>{he.removeChannel(g)}},[n?.id]);const f=async()=>{if(n?.id)try{const{data:g,error:x}=await he.from("vista_pedidos_cliente").select("*").eq("usuario_id",n.id).order("creado_en",{ascending:!1});if(x)throw x;r(g||[])}catch(g){console.error("Error al cargar pedidos:",g)}finally{h(!1)}},y=g=>({pendiente:" Pendiente",confirmado:" Confirmado",en_preparacion:" En Preparacin",listo:" Listo",en_camino:" En Camino",entregado:" Entregado",cancelado:" Cancelado"})[g]||g;return d?l.jsxs("div",{className:"pedidos-page",children:[l.jsx(Ke,{}),l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"20rem"},children:l.jsx("div",{className:"loader"})}),l.jsx(Hi,{})]}):l.jsxs("div",{className:"pedidos-page",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"pedidos-wrapper",children:[l.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:"1rem"},children:" Mis Pedidos"}),s.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"#ffffff",borderRadius:12,boxShadow:"0 6px 18px rgba(15,23,42,0.06)"},children:[l.jsx("p",{style:{color:"#6b7280",fontSize:"1.125rem",marginBottom:"1rem"},children:"No tienes pedidos activos"}),l.jsx("button",{onClick:()=>e("/home"),style:{background:"#4f46e5",color:"#fff",padding:"0.5rem 1.25rem",borderRadius:10,border:"none"},children:"Hacer un Pedido"})]}):l.jsx("div",{className:"pedidos-grid",children:s.map(g=>l.jsxs("div",{onClick:()=>e(`/pedido/${g.pedido_id}`),className:"pedido-card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:8},children:[l.jsxs("div",{children:[l.jsxs("h3",{style:{fontSize:"1rem",fontWeight:600,marginBottom:6},children:[g.restaurante_emoji," ",g.restaurante_nombre]}),l.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["Pedido #",g.numero_pedido]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("p",{style:{fontSize:"1.125rem",fontWeight:700,color:"#4f46e5"},children:["$",g.total.toFixed(2)]}),l.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[g.total_items," item",g.total_items>1?"s":""]})]})]}),l.jsx("div",{style:{marginBottom:8},children:l.jsx("span",{className:"pedido-badge",children:y(g.estado)})}),g.tiene_repartidor&&g.repartidor_nombre&&l.jsx("div",{className:"pedido-repartidor",children:l.jsxs("p",{style:{fontSize:"0.9rem",color:"#1e3a8a",fontWeight:600},children:[" Repartidor: ",g.repartidor_nombre]})}),g.tracking_activo&&l.jsx("div",{className:"pedido-tracking",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("p",{style:{fontSize:"0.9rem",color:"#3730a3",fontWeight:600},children:" Tracking en vivo disponible"}),l.jsx("span",{style:{color:"#4f46e5",fontSize:"0.9rem",fontWeight:700},children:"Ver mapa "})]})}),l.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280"},children:new Date(g.creado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]},g.pedido_id))})]}),l.jsx(Hi,{})]})}function _1(n,e){const s=N.useRef(e);N.useEffect(function(){e!==s.current&&n.attributionControl!=null&&(s.current!=null&&n.attributionControl.removeAttribution(s.current),e!=null&&n.attributionControl.addAttribution(e)),s.current=e},[n,e])}const cC=1;function uC(n){return Object.freeze({__version:cC,map:n})}function dC(n,e){return Object.freeze({...n,...e})}const Gp=N.createContext(null);function Fp(){const n=N.use(Gp);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function hC(n){function e(s,r){const{instance:d,context:h}=n(s).current;N.useImperativeHandle(r,()=>d);const{children:f}=s;return f==null?null:Ui.createElement(Gp,{value:h},f)}return N.forwardRef(e)}function fC(n){function e(s,r){const[d,h]=N.useState(!1),{instance:f}=n(s,h).current;N.useImperativeHandle(r,()=>f),N.useEffect(function(){d&&f.update()},[f,d,s.children]);const y=f._contentNode;return y?kS.createPortal(s.children,y):null}return N.forwardRef(e)}function mC(n){function e(s,r){const{instance:d}=n(s).current;return N.useImperativeHandle(r,()=>d),null}return N.forwardRef(e)}function b1(n,e){const s=N.useRef(void 0);N.useEffect(function(){return e!=null&&n.instance.on(e),s.current=e,function(){s.current!=null&&n.instance.off(s.current),s.current=null}},[n,e])}function Kp(n,e){const s=n.pane??e.pane;return s?{...n,pane:s}:n}function pC(n,e){return function(r,d){const h=Fp(),f=n(Kp(r,h),h);return _1(h.map,r.attribution),b1(f.current,r.eventHandlers),e(f.current,h,r,d),f}}var Wl={exports:{}};var gC=Wl.exports,Zx;function yC(){return Zx||(Zx=1,(function(n,e){(function(s,r){r(e)})(gC,(function(s){var r="1.9.4";function d(a){var c,m,_,w;for(m=1,_=arguments.length;m<_;m++){w=arguments[m];for(c in w)a[c]=w[c]}return a}var h=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function f(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var _=m.call(arguments,2);return function(){return a.apply(c,_.length?_.concat(m.call(arguments)):arguments)}}var y=0;function g(a){return"_leaflet_id"in a||(a._leaflet_id=++y),a._leaflet_id}function x(a,c,m){var _,w,E,P;return P=function(){_=!1,w&&(E.apply(m,w),w=!1)},E=function(){_?w=arguments:(a.apply(m,arguments),setTimeout(P,c),_=!0)},E}function b(a,c,m){var _=c[1],w=c[0],E=_-w;return a===_&&m?a:((a-w)%E+E)%E+w}function S(){return!1}function T(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function A(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function O(a){return A(a).split(/\s+/)}function R(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function M(a,c,m){var _=[];for(var w in a)_.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!c||c.indexOf("?")===-1?"?":"&")+_.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function V(a,c){return a.replace(z,function(m,_){var w=c[_];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(c)),w})}var k=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Y(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var Q=0;function oe(a){var c=+new Date,m=Math.max(0,16-(c-Q));return Q=c+m,window.setTimeout(a,m)}var be=window.requestAnimationFrame||I("RequestAnimationFrame")||oe,ke=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Me(a,c,m){if(m&&be===oe)a.call(c);else return be.call(window,f(a,c))}function ze(a){a&&ke.call(window,a)}var sn={__proto__:null,extend:d,create:h,bind:f,get lastId(){return y},stamp:g,throttle:x,wrapNum:b,falseFn:S,formatNum:T,trim:A,splitWords:O,setOptions:R,getParamString:M,template:V,isArray:k,indexOf:Y,emptyImageUrl:ee,requestFn:be,cancelFn:ke,requestAnimFrame:Me,cancelAnimFrame:ze};function rt(){}rt.extend=function(a){var c=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,_=h(m);_.constructor=c,c.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(c[w]=this[w]);return a.statics&&d(c,a.statics),a.includes&&(Ot(a.includes),d.apply(null,[_].concat(a.includes))),d(_,a),delete _.statics,delete _.includes,_.options&&(_.options=m.options?h(m.options):{},d(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,P=_._initHooks.length;E<P;E++)_._initHooks[E].call(this)}},c},rt.include=function(a){var c=this.prototype.options;return d(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},rt.mergeOptions=function(a){return d(this.prototype.options,a),this},rt.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ot(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=k(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(a,c,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],c);else{a=O(a);for(var w=0,E=a.length;w<E;w++)this._on(a[w],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],c);else{a=O(a);for(var w=arguments.length===1,E=0,P=a.length;E<P;E++)w?this._off(a[E]):this._off(a[E],c,m)}return this},_on:function(a,c,m,_){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var w={fn:c,ctx:m};_&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,c,m){var _,w,E;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,E=_.length;w<E;w++)_[w].fn=S;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var P=this._listens(a,c,m);if(P!==!1){var q=_[P];this._firingCount&&(q.fn=S,this._events[a]=_=_.slice()),_.splice(P,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var _=d({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var E=0,P=w.length;E<P;E++){var q=w[E],F=q.fn;q.once&&this.off(a,F,q.ctx),F.call(q.ctx||this,_)}this._firingCount--}}return m&&this._propagateEvent(_),this},listens:function(a,c,m,_){typeof a!="string"&&console.warn('"string" type argument expected');var w=c;typeof c!="function"&&(_=!!c,w=void 0,m=void 0);var E=this._events&&this._events[a];if(E&&E.length&&this._listens(a,w,m)!==!1)return!0;if(_){for(var P in this._eventParents)if(this._eventParents[P].listens(a,c,m,_))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var _=this._events[a]||[];if(!c)return!!_.length;m===this&&(m=void 0);for(var w=0,E=_.length;w<E;w++)if(_[w].fn===c&&_[w].ctx===m)return w;return!1},once:function(a,c,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],c,!0);else{a=O(a);for(var w=0,E=a.length;w<E;w++)this._on(a[w],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[g(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[g(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,d({layer:a.target,propagatedFrom:a.target},a),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var ae=rt.extend($);function se(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var ce=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(a){return this.clone()._add(le(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(le(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new se(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new se(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(a){a=le(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=le(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=le(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function le(a,c,m){return a instanceof se?a:k(a)?new se(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new se(a.x,a.y):new se(a,c,m)}function B(a,c){if(a)for(var m=c?[a,c]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}B.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof se||typeof a[0]=="number"||"x"in a)c=m=le(a);else if(a=X(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof se?a=le(a):a=X(a),a instanceof B?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=X(a);var c=this.min,m=this.max,_=a.min,w=a.max,E=w.x>=c.x&&_.x<=m.x,P=w.y>=c.y&&_.y<=m.y;return E&&P},overlaps:function(a){a=X(a);var c=this.min,m=this.max,_=a.min,w=a.max,E=w.x>c.x&&_.x<m.x,P=w.y>c.y&&_.y<m.y;return E&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,_=Math.abs(c.x-m.x)*a,w=Math.abs(c.y-m.y)*a;return X(le(c.x-_,c.y-w),le(m.x+_,m.y+w))},equals:function(a){return a?(a=X(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function X(a,c){return!a||a instanceof B?a:new B(a,c)}function re(a,c){if(a)for(var m=c?[a,c]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}re.prototype={extend:function(a){var c=this._southWest,m=this._northEast,_,w;if(a instanceof me)_=a,w=a;else if(a instanceof re){if(_=a._southWest,w=a._northEast,!_||!w)return this}else return a?this.extend(fe(a)||ue(a)):this;return!c&&!m?(this._southWest=new me(_.lat,_.lng),this._northEast=new me(w.lat,w.lng)):(c.lat=Math.min(_.lat,c.lat),c.lng=Math.min(_.lng,c.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,_=Math.abs(c.lat-m.lat)*a,w=Math.abs(c.lng-m.lng)*a;return new re(new me(c.lat-_,c.lng-w),new me(m.lat+_,m.lng+w))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof me||"lat"in a?a=fe(a):a=ue(a);var c=this._southWest,m=this._northEast,_,w;return a instanceof re?(_=a.getSouthWest(),w=a.getNorthEast()):_=w=a,_.lat>=c.lat&&w.lat<=m.lat&&_.lng>=c.lng&&w.lng<=m.lng},intersects:function(a){a=ue(a);var c=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),E=w.lat>=c.lat&&_.lat<=m.lat,P=w.lng>=c.lng&&_.lng<=m.lng;return E&&P},overlaps:function(a){a=ue(a);var c=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),E=w.lat>c.lat&&_.lat<m.lat,P=w.lng>c.lng&&_.lng<m.lng;return E&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=ue(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(a,c){return a instanceof re?a:new re(a,c)}function me(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}me.prototype={equals:function(a,c){if(!a)return!1;a=fe(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+T(this.lat,a)+", "+T(this.lng,a)+")"},distanceTo:function(a){return ht.distance(this,fe(a))},wrap:function(){return ht.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ue([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function fe(a,c,m){return a instanceof me?a:k(a)&&typeof a[0]!="object"?a.length===3?new me(a[0],a[1],a[2]):a.length===2?new me(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new me(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new me(a,c,m)}var Pe={latLngToPoint:function(a,c){var m=this.projection.project(a),_=this.scale(c);return this.transformation._transform(m,_)},pointToLatLng:function(a,c){var m=this.scale(c),_=this.transformation.untransform(a,m);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),_=this.transformation.transform(c.min,m),w=this.transformation.transform(c.max,m);return new B(_,w)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?b(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?b(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new me(m,c,_)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),_=c.lat-m.lat,w=c.lng-m.lng;if(_===0&&w===0)return a;var E=a.getSouthWest(),P=a.getNorthEast(),q=new me(E.lat-_,E.lng-w),F=new me(P.lat-_,P.lng-w);return new re(q,F)}},ht=d({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,_=a.lat*m,w=c.lat*m,E=Math.sin((c.lat-a.lat)*m/2),P=Math.sin((c.lng-a.lng)*m/2),q=E*E+Math.cos(_)*Math.cos(w)*P*P,F=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*F}}),ft=6378137,qi={R:ft,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,_=Math.max(Math.min(m,a.lat),-m),w=Math.sin(_*c);return new se(this.R*a.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var c=180/Math.PI;return new me((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=ft*Math.PI;return new B([-a,-a],[a,a])})()};function Ss(a,c,m,_){if(k(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=_}Ss.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new se((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function $i(a,c,m,_){return new Ss(a,c,m,_)}var yr=d({},ht,{code:"EPSG:3857",projection:qi,transformation:(function(){var a=.5/(Math.PI*qi.R);return $i(a,.5,-a,.5)})()}),Zi=d({},yr,{code:"EPSG:900913"});function vr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function xr(a,c){var m="",_,w,E,P,q,F;for(_=0,E=a.length;_<E;_++){for(q=a[_],w=0,P=q.length;w<P;w++)F=q[w],m+=(w?"L":"M")+F.x+" "+F.y;m+=c?ve.svg?"z":"x":""}return m||"M0 0"}var Do=document.documentElement.style,ma="ActiveXObject"in window,Bo=ma&&!document.addEventListener,_r="msLaunchUri"in navigator&&!("documentMode"in document),pa=gn("webkit"),jc=gn("android"),Tc=gn("android 2")||gn("android 3"),un=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zd=jc&&gn("Google")&&un<537&&!("AudioNode"in window),br=!!window.opera,Uo=!_r&&gn("chrome"),ga=gn("gecko")&&!pa&&!br&&!ma,Dd=!Uo&&gn("safari"),Vo=gn("phantom"),Ec="OTransition"in Do,Bd=navigator.platform.indexOf("Win")===0,js=ma&&"transition"in Do,Wt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Tc,si="MozPerspective"in Do,dn=!window.L_DISABLE_3D&&(js||Wt||si)&&!Ec&&!Vo,ya=typeof orientation<"u"||gn("mobile"),Ud=ya&&pa,Vd=ya&&Wt,va=!window.PointerEvent&&window.MSPointerEvent,xa=!!(window.PointerEvent||va),_a="ontouchstart"in window||!!window.TouchEvent,Gi=!window.L_NO_TOUCH&&(_a||xa),wr=ya&&br,ba=ya&&ga,Id=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nc=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",S,c),window.removeEventListener("testPassiveEventSupport",S,c)}catch{}return a})(),Io=(function(){return!!document.createElement("canvas").getContext})(),Fi=!!(document.createElementNS&&vr("svg").createSVGRect),Hd=!!Fi&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Cc=!Fi&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),Ac=navigator.platform.indexOf("Mac")===0,Rc=navigator.platform.indexOf("Linux")===0;function gn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var ve={ie:ma,ielt9:Bo,edge:_r,webkit:pa,android:jc,android23:Tc,androidStock:zd,opera:br,chrome:Uo,gecko:ga,safari:Dd,phantom:Vo,opera12:Ec,win:Bd,ie3d:js,webkit3d:Wt,gecko3d:si,any3d:dn,mobile:ya,mobileWebkit:Ud,mobileWebkit3d:Vd,msPointer:va,pointer:xa,touch:Gi,touchNative:_a,mobileOpera:wr,mobileGecko:ba,retina:Id,passiveEvents:Nc,canvas:Io,svg:Fi,vml:Cc,inlineSvg:Hd,mac:Ac,linux:Rc},Ho=ve.msPointer?"MSPointerDown":"pointerdown",qo=ve.msPointer?"MSPointerMove":"pointermove",ai=ve.msPointer?"MSPointerUp":"pointerup",Lt=ve.msPointer?"MSPointerCancel":"pointercancel",Zt={touchstart:Ho,touchmove:qo,touchend:ai,touchcancel:Lt},Ki={touchstart:Es,touchmove:ji,touchend:ji,touchcancel:ji},Si={},Oc=!1;function qd(a,c,m){return c==="touchstart"&&Ts(),Ki[c]?(m=Ki[c].bind(this,m),a.addEventListener(Zt[c],m,!1),m):(console.warn("wrong event specified:",c),S)}function Lc(a,c,m){if(!Zt[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Zt[c],m,!1)}function wa(a){Si[a.pointerId]=a}function $o(a){Si[a.pointerId]&&(Si[a.pointerId]=a)}function Wi(a){delete Si[a.pointerId]}function Ts(){Oc||(document.addEventListener(Ho,wa,!0),document.addEventListener(qo,$o,!0),document.addEventListener(ai,Wi,!0),document.addEventListener(Lt,Wi,!0),Oc=!0)}function ji(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Si)c.touches.push(Si[m]);c.changedTouches=[c],a(c)}}function Es(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&bt(c),ji(a,c)}function kt(a){var c={},m,_;for(_ in a)m=a[_],c[_]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var kc=200;function Mc(a,c){a.addEventListener("dblclick",c);var m=0,_;function w(E){if(E.detail!==1){_=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var P=Aa(E);if(!(P.some(function(F){return F instanceof HTMLLabelElement&&F.attributes.for})&&!P.some(function(F){return F instanceof HTMLInputElement||F instanceof HTMLSelectElement}))){var q=Date.now();q-m<=kc?(_++,_===2&&c(kt(E))):_=1,m=q}}}return a.addEventListener("click",w),{dblclick:c,simDblclick:w}}function Yi(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ti=Ta(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Sa=Ta(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zo=Sa==="webkitTransition"||Sa==="OTransition"?Sa+"End":"transitionend";function Go(a){return typeof a=="string"?document.getElementById(a):a}function ja(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);m=_?_[c]:null}return m==="auto"?null:m}function De(a,c,m){var _=document.createElement(a);return _.className=c||"",m&&m.appendChild(_),_}function Qe(a){var c=a.parentNode;c&&c.removeChild(a)}function yn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Vt(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Xi(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Fo(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=Sr(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Ce(a,c){if(a.classList!==void 0)for(var m=O(c),_=0,w=m.length;_<w;_++)a.classList.add(m[_]);else if(!Fo(a,c)){var E=Sr(a);Ns(a,(E?E+" ":"")+c)}}function mt(a,c){a.classList!==void 0?a.classList.remove(c):Ns(a,A((" "+Sr(a)+" ").replace(" "+c+" "," ")))}function Ns(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function Sr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ct(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Ko(a,c)}function Ko(a,c){var m=!1,_="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(_)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+_+"(opacity="+c+")"}function Ta(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function ri(a,c,m){var _=c||new se(0,0);a.style[Ti]=(ve.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(m?" scale("+m+")":"")}function it(a,c){a._leaflet_pos=c,ve.any3d?ri(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Ei(a){return a._leaflet_pos||new se(0,0)}var Cs,qn,Wo;if("onselectstart"in document)Cs=function(){Ee(window,"selectstart",bt)},qn=function(){Ye(window,"selectstart",bt)};else{var As=Ta(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cs=function(){if(As){var a=document.documentElement.style;Wo=a[As],a[As]="none"}},qn=function(){As&&(document.documentElement.style[As]=Wo,Wo=void 0)}}function jr(){Ee(window,"dragstart",bt)}function Ea(){Ye(window,"dragstart",bt)}var Tr,Yo;function Rs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(vn(),Tr=a,Yo=a.style.outlineStyle,a.style.outlineStyle="none",Ee(window,"keydown",vn))}function vn(){Tr&&(Tr.style.outlineStyle=Yo,Tr=void 0,Yo=void 0,Ye(window,"keydown",vn))}function Er(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Na(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Os={__proto__:null,TRANSFORM:Ti,TRANSITION:Sa,TRANSITION_END:Zo,get:Go,getStyle:ja,create:De,remove:Qe,empty:yn,toFront:Vt,toBack:Xi,hasClass:Fo,addClass:Ce,removeClass:mt,setClass:Ns,getClass:Sr,setOpacity:ct,testProp:Ta,setTransform:ri,setPosition:it,getPosition:Ei,get disableTextSelection(){return Cs},get enableTextSelection(){return qn},disableImageDrag:jr,enableImageDrag:Ea,preventOutline:Rs,restoreOutline:vn,getSizedParentNode:Er,getScale:Na};function Ee(a,c,m,_){if(c&&typeof c=="object")for(var w in c)Rn(a,w,c[w],m);else{c=O(c);for(var E=0,P=c.length;E<P;E++)Rn(a,c[E],m,_)}return this}var An="_leaflet_events";function Ye(a,c,m,_){if(arguments.length===1)Xo(a),delete a[An];else if(c&&typeof c=="object")for(var w in c)Ca(a,w,c[w],m);else if(c=O(c),arguments.length===2)Xo(a,function(q){return Y(c,q)!==-1});else for(var E=0,P=c.length;E<P;E++)Ca(a,c[E],m,_);return this}function Xo(a,c){for(var m in a[An]){var _=m.split(/\d/)[0];(!c||c(_))&&Ca(a,_,null,null,m)}}var Ji={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rn(a,c,m,_){var w=c+g(m)+(_?"_"+g(_):"");if(a[An]&&a[An][w])return this;var E=function(q){return m.call(_||a,q||window.event)},P=E;!ve.touchNative&&ve.pointer&&c.indexOf("touch")===0?E=qd(a,c,E):ve.touch&&c==="dblclick"?E=Mc(a,E):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Ji[c]||c,E,ve.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(E=function(q){q=q||window.event,oi(a,q)&&P(q)},a.addEventListener(Ji[c],E,!1)):a.addEventListener(c,P,!1):a.attachEvent("on"+c,E),a[An]=a[An]||{},a[An][w]=E}function Ca(a,c,m,_,w){w=w||c+g(m)+(_?"_"+g(_):"");var E=a[An]&&a[An][w];if(!E)return this;!ve.touchNative&&ve.pointer&&c.indexOf("touch")===0?Lc(a,c,E):ve.touch&&c==="dblclick"?Yi(a,E):"removeEventListener"in a?a.removeEventListener(Ji[c]||c,E,!1):a.detachEvent("on"+c,E),a[An][w]=null}function On(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function $n(a){return Rn(a,"wheel",On),this}function Qi(a){return Ee(a,"mousedown touchstart dblclick contextmenu",On),a._leaflet_disable_click=!0,this}function bt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ni(a){return bt(a),On(a),this}function Aa(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function Ra(a,c){if(!c)return new se(a.clientX,a.clientY);var m=Na(c),_=m.boundingClientRect;return new se((a.clientX-_.left)/m.x-c.clientLeft,(a.clientY-_.top)/m.y-c.clientTop)}var Pc=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yt(a){return ve.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Pc:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function oi(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Nr={__proto__:null,on:Ee,off:Ye,stopPropagation:On,disableScrollPropagation:$n,disableClickPropagation:Qi,preventDefault:bt,stop:Ni,getPropagationPath:Aa,getMousePosition:Ra,getWheelDelta:Yt,isExternalTarget:oi,addListener:Ee,removeListener:Ye},Ls=ae.extend({run:function(a,c,m,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Ei(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Me(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),it(this._el,m),this.fire("step")},_complete:function(){ze(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Ie=ae.extend({options:{crs:yr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=R(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(fe(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Sa&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ee(this._proxy,Zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(fe(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=d({animate:m.animate},m.zoom),m.pan=d({animate:m.animate,duration:m.duration},m.pan));var _=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var _=this.getZoomScale(c),w=this.getSize().divideBy(2),E=a instanceof se?a:this.latLngToContainerPoint(a),P=E.subtract(w).multiplyBy(1-1/_),q=this.containerPointToLatLng(w.add(P));return this.setView(q,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():ue(a);var m=le(c.paddingTopLeft||c.padding||[0,0]),_=le(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(_));if(w=typeof c.maxZoom=="number"?Math.min(c.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var E=_.subtract(m).divideBy(2),P=this.project(a.getSouthWest(),w),q=this.project(a.getNorthEast(),w),F=this.unproject(P.add(q).divideBy(2).add(E),w);return{center:F,zoom:w}},fitBounds:function(a,c){if(a=ue(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=le(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ls,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!ve.any3d)return this.setView(a,c,m);this._stop();var _=this.project(this.getCenter()),w=this.project(a),E=this.getSize(),P=this._zoom;a=fe(a),c=c===void 0?P:c;var q=Math.max(E.x,E.y),F=q*this.getZoomScale(P,c),ne=w.distanceTo(_)||1,de=1.42,xe=de*de;function Oe(vt){var di=vt?-1:1,is=vt?F:q,hl=F*F-q*q+di*xe*xe*ne*ne,Ga=2*is*xe*ne,Fa=hl/Ga,zi=Math.sqrt(Fa*Fa+1)-Fa,hi=zi<1e-9?-18:Math.log(zi);return hi}function It(vt){return(Math.exp(vt)-Math.exp(-vt))/2}function wt(vt){return(Math.exp(vt)+Math.exp(-vt))/2}function fn(vt){return It(vt)/wt(vt)}var $e=Oe(0);function Ze(vt){return q*(wt($e)/wt($e+de*vt))}function Be(vt){return q*(wt($e)*fn($e+de*vt)-It($e))/xe}function Mi(vt){return 1-Math.pow(1-vt,1.5)}var wn=Date.now(),Ir=(Oe(1)-$e)/de,Pi=m.duration?1e3*m.duration:1e3*Ir*.8;function dl(){var vt=(Date.now()-wn)/Pi,di=Mi(vt)*Ir;vt<=1?(this._flyToFrame=Me(dl,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(Be(di)/ne)),P),this.getScaleZoom(q/Ze(di),P),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),dl.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=ue(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),_=this._limitCenter(m,this._zoom,ue(a));return m.equals(_)||this.panTo(_,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=le(c.paddingTopLeft||c.padding||[0,0]),_=le(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),E=this.project(a),P=this.getPixelBounds(),q=X([P.min.add(m),P.max.subtract(_)]),F=q.getSize();if(!q.contains(E)){this._enforcingBounds=!0;var ne=E.subtract(q.getCenter()),de=q.extend(E).getSize().subtract(F);w.x+=ne.x<0?-de.x:de.x,w.y+=ne.y<0?-de.y:de.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=d({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),_=c.divideBy(2).round(),w=m.divideBy(2).round(),E=_.subtract(w);return!E.x&&!E.y?this:(a.animate&&a.pan?this.panBy(E):(a.pan&&this._rawPanBy(E),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=d({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,_=new me(c,m),w=_.toBounds(a.coords.accuracy*2),E=this._locateOptions;if(E.setView){var P=this.getBoundsZoom(w);this.setView(_,E.maxZoom?Math.min(P,E.maxZoom):P)}var q={latlng:_,bounds:w,timestamp:a.timestamp};for(var F in a.coords)typeof a.coords[F]=="number"&&(q[F]=a.coords[F]);this.fire("locationfound",q)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ze(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Qe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=De("div",m,c||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new re(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=ue(a),m=le(m||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),E=this.getMaxZoom(),P=a.getNorthWest(),q=a.getSouthEast(),F=this.getSize().subtract(m),ne=X(this.project(q,_),this.project(P,_)).getSize(),de=ve.any3d?this.options.zoomSnap:1,xe=F.x/ne.x,Oe=F.y/ne.y,It=c?Math.max(xe,Oe):Math.min(xe,Oe);return _=this.getScaleZoom(It,_),de&&(_=Math.round(_/(de/100))*(de/100),_=c?Math.ceil(_/de)*de:Math.floor(_/de)*de),Math.max(w,Math.min(E,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new B(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var _=m.zoom(a*m.scale(c));return isNaN(_)?1/0:_},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(fe(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(le(a),c)},layerPointToLatLng:function(a){var c=le(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(fe(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(fe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ue(a))},distance:function(a,c){return this.options.crs.distance(fe(a),fe(c))},containerPointToLayerPoint:function(a){return le(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return le(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(le(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(a)))},mouseEventToContainerPoint:function(a){return Ra(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Go(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ee(c,"scroll",this._onScroll,this),this._containerId=g(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Ce(a,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=ja(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),it(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(a.markerPane,"leaflet-zoom-hide"),Ce(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){it(this._mapPane,new se(0,0));var _=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var w=this._zoom!==c;this._moveStart(w,m)._move(a,c)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,_){c===void 0&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ze(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){it(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[g(this._container)]=this;var c=a?Ye:Ee;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ze(this._resizeRequest),this._resizeRequest=Me(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],_,w=c==="mouseout"||c==="mouseover",E=a.target||a.srcElement,P=!1;E;){if(_=this._targets[g(E)],_&&(c==="click"||c==="preclick")&&this._draggableMoved(_)){P=!0;break}if(_&&_.listens(c,!0)&&(w&&!oi(E,a)||(m.push(_),w))||E===this._container)break;E=E.parentNode}return!m.length&&!P&&!w&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&Rs(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var _=d({},a);_.type="preclick",this._fireDOMEvent(_,_.type,m)}var w=this._findEventTargets(a,c);if(m){for(var E=[],P=0;P<m.length;P++)m[P].listens(c,!0)&&E.push(m[P]);w=E.concat(w)}if(w.length){c==="contextmenu"&&bt(a);var q=w[0],F={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ne=q.getLatLng&&(!q._radius||q._radius<=10);F.containerPoint=ne?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(a),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=ne?q.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(P=0;P<w.length;P++)if(w[P].fire(c,F,!0),F.originalEvent._stopped||w[P].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Ei(this._mapPane)||new se(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var _=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,c,m){var _=this._getNewPixelOrigin(m,c);return X([this.project(a.getSouthWest(),c)._subtract(_),this.project(a.getNorthWest(),c)._subtract(_),this.project(a.getSouthEast(),c)._subtract(_),this.project(a.getNorthEast(),c)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var _=this.project(a,c),w=this.getSize().divideBy(2),E=new B(_.subtract(w),_.add(w)),P=this._getBoundsOffset(E,m,c);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?a:this.unproject(_.add(P),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),_=new B(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(_,c))},_getBoundsOffset:function(a,c,m){var _=X(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),w=_.min.subtract(a.min),E=_.max.subtract(a.max),P=this._rebound(w.x,-E.x),q=this._rebound(w.y,-E.y);return new se(P,q)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),_=ve.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=De("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=Ti,_=this._proxy.style[m];ri(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),_===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();ri(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(c),w=this._getCenterOffset(a)._divideBy(1-1/_);return m.animate!==!0&&!this.getSize().contains(w)?!1:(Me(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,_){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jo(a,c){return new Ie(a,c)}var hn=rt.extend({options:{position:"topright"},initialize:function(a){R(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),_=a._controlCorners[m];return Ce(c,"leaflet-control"),m.indexOf("bottom")!==-1?_.insertBefore(c,_.firstChild):_.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),li=function(a){return new hn(a)};Ie.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=De("div",c+"control-container",this._container);function _(w,E){var P=c+w+" "+c+E;a[w+E]=De("div",P,m)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Qe(this._controlCorners[a]);Qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Oa=hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,_){return m<_?-1:_<m?1:0}},initialize:function(a,c,m){R(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in c)this._addLayer(c[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return hn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(g(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=De("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Qi(c),$n(c);var _=this._section=De("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Ee(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=De("a",a+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),Ee(w,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){bt(E),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=De("div",a+"-base",_),this._separator=De("div",a+"-separator",_),this._overlaysList=De("div",a+"-overlays",_),c.appendChild(_)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&g(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yn(this._baseLayersList),yn(this._overlaysList),this._layerControlInputs=[];var a,c,m,_,w=0;for(m=0;m<this._layers.length;m++)_=this._layers[m],this._addItem(_),c=c||_.overlay,a=a||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(g(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=m,_.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=m):_=this._createRadioElement("leaflet-base-layers_"+g(this),m),this._layerControlInputs.push(_),_.layerId=g(a.layer),Ee(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var E=document.createElement("span");c.appendChild(E),E.appendChild(_),E.appendChild(w);var P=a.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,_=[],w=[];this._handlingClick=!0;for(var E=a.length-1;E>=0;E--)c=a[E],m=this._getLayer(c.layerId).layer,c.checked?_.push(m):c.checked||w.push(m);for(E=0;E<w.length;E++)this._map.hasLayer(w[E])&&this._map.removeLayer(w[E]);for(E=0;E<_.length;E++)this._map.hasLayer(_[E])||this._map.addLayer(_[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,_=this._map.getZoom(),w=a.length-1;w>=0;w--)c=a[w],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&_<m.options.minZoom||m.options.maxZoom!==void 0&&_>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ee(a,"click",bt),this.expand();var c=this;setTimeout(function(){Ye(a,"click",bt),c._preventClick=!1})}}),zc=function(a,c,m){return new Oa(a,c,m)},Qo=hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=De("div",c+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,_,w){var E=De("a",m,_);return E.innerHTML=a,E.href="#",E.title=c,E.setAttribute("role","button"),E.setAttribute("aria-label",c),Qi(E),Ee(E,"click",Ni),Ee(E,"click",w,this),Ee(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";mt(this._zoomInButton,c),mt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ce(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ce(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ie.mergeOptions({zoomControl:!0}),Ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qo,this.addControl(this.zoomControl))});var $d=function(a){return new Qo(a)},Dc=hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=De("div",c),_=this.options;return this._addScales(_,c+"-line",m),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=De("div",c,m)),a.imperial&&(this._iScale=De("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,_,w;c>5280?(m=c/5280,_=this._getRoundNum(m),this._updateScale(this._iScale,_+" mi",_/m)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),el=function(a){return new Dc(a)},Zd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tl=hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?Zd+" ":"")+"Leaflet</a>"},initialize:function(a){R(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=De("div","leaflet-control-attribution"),Qi(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Ie.mergeOptions({attributionControl:!0}),Ie.addInitHook(function(){this.options.attributionControl&&new tl().addTo(this)});var Gd=function(a){return new tl(a)};hn.Layers=Oa,hn.Zoom=Qo,hn.Scale=Dc,hn.Attribution=tl,li.layers=zc,li.zoom=$d,li.scale=el,li.attribution=Gd;var Zn=rt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zn.addTo=function(a,c){return a.addHandler(c,this),this};var Fd={Events:$},nl=ve.touch?"touchstart mousedown":"mousedown",Ci=ae.extend({options:{clickTolerance:3},initialize:function(a,c,m,_){R(this,_),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(Ee(this._dragStartTarget,nl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(!0),Ye(this._dragStartTarget,nl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Fo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ci._dragging===this&&this.finishDrag();return}if(!(Ci._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ci._dragging=this,this._preventOutline&&Rs(this._element),jr(),Cs(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=Er(this._element);this._startPoint=new se(c.clientX,c.clientY),this._startPos=Ei(this._element),this._parentScale=Na(m);var _=a.type==="mousedown";Ee(document,_?"mousemove":"touchmove",this._onMove,this),Ee(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new se(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,bt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),it(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ye(document,"mousemove touchmove",this._onMove,this),Ye(document,"mouseup touchend touchcancel",this._onUp,this),Ea(),qn();var c=this._moved&&this._moving;this._moving=!1,Ci._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Bc(a,c,m){var _,w=[1,4,2,8],E,P,q,F,ne,de,xe,Oe;for(E=0,de=a.length;E<de;E++)a[E]._code=es(a[E],c);for(q=0;q<4;q++){for(xe=w[q],_=[],E=0,de=a.length,P=de-1;E<de;P=E++)F=a[E],ne=a[P],F._code&xe?ne._code&xe||(Oe=Cr(ne,F,xe,c,m),Oe._code=es(Oe,c),_.push(Oe)):(ne._code&xe&&(Oe=Cr(ne,F,xe,c,m),Oe._code=es(Oe,c),_.push(Oe)),_.push(F));a=_}return a}function Uc(a,c){var m,_,w,E,P,q,F,ne,de;if(!a||a.length===0)throw new Error("latlngs not passed");xn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var xe=fe([0,0]),Oe=ue(a),It=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());It<1700&&(xe=il(a));var wt=a.length,fn=[];for(m=0;m<wt;m++){var $e=fe(a[m]);fn.push(c.project(fe([$e.lat-xe.lat,$e.lng-xe.lng])))}for(q=F=ne=0,m=0,_=wt-1;m<wt;_=m++)w=fn[m],E=fn[_],P=w.y*E.x-E.y*w.x,F+=(w.x+E.x)*P,ne+=(w.y+E.y)*P,q+=P*3;q===0?de=fn[0]:de=[F/q,ne/q];var Ze=c.unproject(le(de));return fe([Ze.lat+xe.lat,Ze.lng+xe.lng])}function il(a){for(var c=0,m=0,_=0,w=0;w<a.length;w++){var E=fe(a[w]);c+=E.lat,m+=E.lng,_++}return fe([c/_,m/_])}var sl={__proto__:null,clipPolygon:Bc,polygonCenter:Uc,centroid:il};function Vc(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=Wd(a,m),a=Hc(a,m),a}function Ic(a,c,m){return Math.sqrt(La(a,c,m,!0))}function Kd(a,c,m){return La(a,c,m)}function Hc(a,c){var m=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(m);w[0]=w[m-1]=1,al(a,w,c,0,m-1);var E,P=[];for(E=0;E<m;E++)w[E]&&P.push(a[E]);return P}function al(a,c,m,_,w){var E=0,P,q,F;for(q=_+1;q<=w-1;q++)F=La(a[q],a[_],a[w],!0),F>E&&(P=q,E=F);E>m&&(c[P]=1,al(a,c,m,_,P),al(a,c,m,P,w))}function Wd(a,c){for(var m=[a[0]],_=1,w=0,E=a.length;_<E;_++)Yd(a[_],a[w])>c&&(m.push(a[_]),w=_);return w<E-1&&m.push(a[E-1]),m}var qc;function $c(a,c,m,_,w){var E=_?qc:es(a,m),P=es(c,m),q,F,ne;for(qc=P;;){if(!(E|P))return[a,c];if(E&P)return!1;q=E||P,F=Cr(a,c,q,m,w),ne=es(F,m),q===E?(a=F,E=ne):(c=F,P=ne)}}function Cr(a,c,m,_,w){var E=c.x-a.x,P=c.y-a.y,q=_.min,F=_.max,ne,de;return m&8?(ne=a.x+E*(F.y-a.y)/P,de=F.y):m&4?(ne=a.x+E*(q.y-a.y)/P,de=q.y):m&2?(ne=F.x,de=a.y+P*(F.x-a.x)/E):m&1&&(ne=q.x,de=a.y+P*(q.x-a.x)/E),new se(ne,de,w)}function es(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function Yd(a,c){var m=c.x-a.x,_=c.y-a.y;return m*m+_*_}function La(a,c,m,_){var w=c.x,E=c.y,P=m.x-w,q=m.y-E,F=P*P+q*q,ne;return F>0&&(ne=((a.x-w)*P+(a.y-E)*q)/F,ne>1?(w=m.x,E=m.y):ne>0&&(w+=P*ne,E+=q*ne)),P=a.x-w,q=a.y-E,_?P*P+q*q:new se(w,E)}function xn(a){return!k(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Ar(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xn(a)}function ks(a,c){var m,_,w,E,P,q,F,ne;if(!a||a.length===0)throw new Error("latlngs not passed");xn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var de=fe([0,0]),xe=ue(a),Oe=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());Oe<1700&&(de=il(a));var It=a.length,wt=[];for(m=0;m<It;m++){var fn=fe(a[m]);wt.push(c.project(fe([fn.lat-de.lat,fn.lng-de.lng])))}for(m=0,_=0;m<It-1;m++)_+=wt[m].distanceTo(wt[m+1])/2;if(_===0)ne=wt[0];else for(m=0,E=0;m<It-1;m++)if(P=wt[m],q=wt[m+1],w=P.distanceTo(q),E+=w,E>_){F=(E-_)/w,ne=[q.x-F*(q.x-P.x),q.y-F*(q.y-P.y)];break}var $e=c.unproject(le(ne));return fe([$e.lat+de.lat,$e.lng+de.lng])}var Xd={__proto__:null,simplify:Vc,pointToSegmentDistance:Ic,closestPointOnSegment:Kd,clipSegment:$c,_getEdgeIntersection:Cr,_getBitCode:es,_sqClosestPointOnSegment:La,isFlat:xn,_flat:Ar,polylineCenter:ks},Rr={project:function(a){return new se(a.lng,a.lat)},unproject:function(a){return new me(a.y,a.x)},bounds:new B([-180,-90],[180,90])},Or={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,_=a.lat*c,w=this.R_MINOR/m,E=Math.sqrt(1-w*w),P=E*Math.sin(_),q=Math.tan(Math.PI/4-_/2)/Math.pow((1-P)/(1+P),E/2);return _=-m*Math.log(Math.max(q,1e-10)),new se(a.lng*c*m,_)},unproject:function(a){for(var c=180/Math.PI,m=this.R,_=this.R_MINOR/m,w=Math.sqrt(1-_*_),E=Math.exp(-a.y/m),P=Math.PI/2-2*Math.atan(E),q=0,F=.1,ne;q<15&&Math.abs(F)>1e-7;q++)ne=w*Math.sin(P),ne=Math.pow((1-ne)/(1+ne),w/2),F=Math.PI/2-2*Math.atan(E*ne)-P,P+=F;return new me(P*c,a.x*c/m)}},Zc={__proto__:null,LonLat:Rr,Mercator:Or,SphericalMercator:qi},Gc=d({},ht,{code:"EPSG:3395",projection:Or,transformation:(function(){var a=.5/(Math.PI*Or.R);return $i(a,.5,-a,.5)})()}),rl=d({},ht,{code:"EPSG:4326",projection:Rr,transformation:$i(1/180,1,-1/180,.5)}),Ms=d({},Pe,{projection:Rr,transformation:$i(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,_=c.lat-a.lat;return Math.sqrt(m*m+_*_)},infinite:!0});Pe.Earth=ht,Pe.EPSG3395=Gc,Pe.EPSG3857=yr,Pe.EPSG900913=Zi,Pe.EPSG4326=rl,Pe.Simple=Ms;var Ln=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[g(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[g(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Ie.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=g(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=g(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return g(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?k(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[g(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=g(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),c=w.maxZoom===void 0?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ps=Ln.extend({initialize:function(a,c){R(this,c),this._layers={};var m,_;if(a)for(m=0,_=a.length;m<_;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,_;for(m in this._layers)_=this._layers[m],_[a]&&_[a].apply(_,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return g(a)}}),Jd=function(a,c){return new Ps(a,c)},Gn=Ps.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ps.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ps.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new re;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Fc=function(a,c){return new Gn(a,c)},Fn=rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){R(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,c){var m=this.options,_=m[c+"Size"];typeof _=="number"&&(_=[_,_]);var w=le(_),E=le(c==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),E&&(a.style.marginLeft=-E.x+"px",a.style.marginTop=-E.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return ve.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function ka(a){return new Fn(a)}var Ma=Fn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ma.imagePath!="string"&&(Ma.imagePath=this._detectIconPath()),(this.options.imagePath||Ma.imagePath)+Fn.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,_,w){var E=_.exec(m);return E&&E[w]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=De("div","leaflet-default-icon-path",document.body),c=ja(a,"background-image")||ja(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Pa=Zn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ci(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,E=Ei(c._icon),P=m.getPixelBounds(),q=m.getPixelOrigin(),F=X(P.min._subtract(q).add(w),P.max._subtract(q).subtract(w));if(!F.contains(E)){var ne=le((Math.max(F.max.x,E.x)-F.max.x)/(P.max.x-F.max.x)-(Math.min(F.min.x,E.x)-F.min.x)/(P.min.x-F.min.x),(Math.max(F.max.y,E.y)-F.max.y)/(P.max.y-F.max.y)-(Math.min(F.min.y,E.y)-F.min.y)/(P.min.y-F.min.y)).multiplyBy(_);m.panBy(ne,{animate:!1}),this._draggable._newPos._add(ne),this._draggable._startPos._add(ne),it(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Me(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(ze(this._panRequest),this._panRequest=Me(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,_=Ei(c._icon),w=c._map.layerPointToLatLng(_);m&&it(m,_),c._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){ze(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),za=Ln.extend({options:{icon:new Ma,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){R(this,c),this._latlng=fe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=fe(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),_=!1;m!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ce(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),E=!1;w!==this._shadow&&(this._removeShadow(),E=!0),w&&(Ce(w,c),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&E&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ye(this._icon,"focus",this._panOnFocus,this),Qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&it(this._icon,a),this._shadow&&it(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pa)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pa(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ct(this._icon,a),this._shadow&&ct(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?le(c.iconSize):le(0,0),_=c.iconAnchor?le(c.iconAnchor):le(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:m.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Kc(a,c){return new za(a,c)}var Kn=Ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return R(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zs=Kn.extend({options:{fill:!0,radius:10},initialize:function(a,c){R(this,c),this._latlng=fe(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=fe(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Kn.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),_=[a+m,c+m];this._pxBounds=new B(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Wc(a,c){return new zs(a,c)}var Lr=zs.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=d({},m,{radius:c})),R(this,c),this._latlng=fe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Kn.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,_=m.options.crs;if(_.distance===ht.distance){var w=Math.PI/180,E=this._mRadius/ht.R/w,P=m.project([c+E,a]),q=m.project([c-E,a]),F=P.add(q).divideBy(2),ne=m.unproject(F).lat,de=Math.acos((Math.cos(E*w)-Math.sin(c*w)*Math.sin(ne*w))/(Math.cos(c*w)*Math.cos(ne*w)))/w;(isNaN(de)||de===0)&&(de=E/Math.cos(Math.PI/180*c)),this._point=F.subtract(m.getPixelOrigin()),this._radius=isNaN(de)?0:F.x-m.project([ne,a-de]).x,this._radiusY=F.y-P.y}else{var xe=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(xe).x}this._updateBounds()}});function Yc(a,c,m){return new Lr(a,c,m)}var ci=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){R(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,_=La,w,E,P=0,q=this._parts.length;P<q;P++)for(var F=this._parts[P],ne=1,de=F.length;ne<de;ne++){w=F[ne-1],E=F[ne];var xe=_(a,w,E,!0);xe<c&&(c=xe,m=_(a,w,E))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ks(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=fe(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new re,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=xn(a),_=0,w=a.length;_<w;_++)m?(c[_]=fe(a[_]),this._bounds.extend(c[_])):c[_]=this._convertLatLngs(a[_]);return c},_project:function(){var a=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new se(a,a);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var _=a[0]instanceof me,w=a.length,E,P;if(_){for(P=[],E=0;E<w;E++)P[E]=this._map.latLngToLayerPoint(a[E]),m.extend(P[E]);c.push(P)}else for(E=0;E<w;E++)this._projectLatlngs(a[E],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,_,w,E,P,q,F;for(m=0,w=0,E=this._rings.length;m<E;m++)for(F=this._rings[m],_=0,P=F.length;_<P-1;_++)q=$c(F[_],F[_+1],a,_,!0),q&&(c[w]=c[w]||[],c[w].push(q[0]),(q[1]!==F[_+1]||_===P-2)&&(c[w].push(q[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,_=a.length;m<_;m++)a[m]=Vc(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,_,w,E,P,q,F=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,E=this._parts.length;m<E;m++)for(q=this._parts[m],_=0,P=q.length,w=P-1;_<P;w=_++)if(!(!c&&_===0)&&Ic(a,q[w],q[_])<=F)return!0;return!1}});function Qd(a,c){return new ci(a,c)}ci._flat=Ar;var Ds=ci.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Uc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=ci.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof me&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){ci.prototype._setLatLngs.call(this,a),xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new se(c,c);if(a=new B(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,E;_<w;_++)E=Bc(this._rings[_],a,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,_,w,E,P,q,F,ne;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(E=0,F=this._parts.length;E<F;E++)for(m=this._parts[E],P=0,ne=m.length,q=ne-1;P<ne;q=P++)_=m[P],w=m[q],_.y>a.y!=w.y>a.y&&a.x<(w.x-_.x)*(a.y-_.y)/(w.y-_.y)+_.x&&(c=!c);return c||ci.prototype._containsPoint.call(this,a,!0)}});function eh(a,c){return new Ds(a,c)}var ui=Gn.extend({initialize:function(a,c){R(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=k(a)?a:a.features,m,_,w;if(c){for(m=0,_=c.length;m<_;m++)w=c[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var E=this.options;if(E.filter&&!E.filter(a))return this;var P=Gt(a,E);return P?(P.feature=Pr(a),P.defaultOptions=P.options,this.resetStyle(P),E.onEachFeature&&E.onEachFeature(a,P),this.addLayer(P)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=d({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Gt(a,c){var m=a.type==="Feature"?a.geometry:a,_=m?m.coordinates:null,w=[],E=c&&c.pointToLayer,P=c&&c.coordsToLatLng||kr,q,F,ne,de;if(!_&&!m)return null;switch(m.type){case"Point":return q=P(_),Bs(E,a,q,c);case"MultiPoint":for(ne=0,de=_.length;ne<de;ne++)q=P(_[ne]),w.push(Bs(E,a,q,c));return new Gn(w);case"LineString":case"MultiLineString":return F=Da(_,m.type==="LineString"?0:1,P),new ci(F,c);case"Polygon":case"MultiPolygon":return F=Da(_,m.type==="Polygon"?1:2,P),new Ds(F,c);case"GeometryCollection":for(ne=0,de=m.geometries.length;ne<de;ne++){var xe=Gt({geometry:m.geometries[ne],type:"Feature",properties:a.properties},c);xe&&w.push(xe)}return new Gn(w);case"FeatureCollection":for(ne=0,de=m.features.length;ne<de;ne++){var Oe=Gt(m.features[ne],c);Oe&&w.push(Oe)}return new Gn(w);default:throw new Error("Invalid GeoJSON object.")}}function Bs(a,c,m,_){return a?a(c,m):new za(m,_&&_.markersInheritOptions&&_)}function kr(a){return new me(a[1],a[0],a[2])}function Da(a,c,m){for(var _=[],w=0,E=a.length,P;w<E;w++)P=c?Da(a[w],c-1,m):(m||kr)(a[w]),_.push(P);return _}function Mr(a,c){return a=fe(a),a.alt!==void 0?[T(a.lng,c),T(a.lat,c),T(a.alt,c)]:[T(a.lng,c),T(a.lat,c)]}function Ba(a,c,m,_){for(var w=[],E=0,P=a.length;E<P;E++)w.push(c?Ba(a[E],xn(a[E])?0:c-1,m,_):Mr(a[E],_));return!c&&m&&w.length>0&&w.push(w[0].slice()),w}function Ai(a,c){return a.feature?d({},a.feature,{geometry:c}):Pr(c)}function Pr(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ri={toGeoJSON:function(a){return Ai(this,{type:"Point",coordinates:Mr(this.getLatLng(),a)})}};za.include(Ri),Lr.include(Ri),zs.include(Ri),ci.include({toGeoJSON:function(a){var c=!xn(this._latlngs),m=Ba(this._latlngs,c?1:0,!1,a);return Ai(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Ds.include({toGeoJSON:function(a){var c=!xn(this._latlngs),m=c&&!xn(this._latlngs[0]),_=Ba(this._latlngs,m?2:c?1:0,!0,a);return c||(_=[_]),Ai(this,{type:(m?"Multi":"")+"Polygon",coordinates:_})}}),Ps.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),Ai(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var E=w.toGeoJSON(a);if(m)_.push(E.geometry);else{var P=Pr(E);P.type==="FeatureCollection"?_.push.apply(_,P.features):_.push(P)}}}),m?Ai(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function zr(a,c){return new ui(a,c)}var Ua=zr,Us=Ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=ue(c),R(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Vt(this._image),this},bringToBack:function(){return this._map&&Xi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ue(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:De("img");if(Ce(c,"leaflet-image-layer"),this._zoomAnimated&&Ce(c,"leaflet-zoom-animated"),this.options.className&&Ce(c,this.options.className),c.onselectstart=S,c.onmousemove=S,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ri(this._image,m,c)},_reset:function(){var a=this._image,c=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();it(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Xc=function(a,c,m){return new Us(a,c,m)},Oi=Us.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:De("video");if(Ce(c,"leaflet-image-layer"),this._zoomAnimated&&Ce(c,"leaflet-zoom-animated"),this.options.className&&Ce(c,this.options.className),c.onselectstart=S,c.onmousemove=S,c.onloadeddata=f(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),_=[],w=0;w<m.length;w++)_.push(m[w].src);this._url=m.length>0?_:[c.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var P=De("source");P.src=this._url[E],c.appendChild(P)}}});function Vs(a,c,m){return new Oi(a,c,m)}var Dr=Us.extend({_initImage:function(){var a=this._image=this._url;Ce(a,"leaflet-image-layer"),this._zoomAnimated&&Ce(a,"leaflet-zoom-animated"),this.options.className&&Ce(a,this.options.className),a.onselectstart=S,a.onmousemove=S}});function Jc(a,c,m){return new Dr(a,c,m)}var Ft=Ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof me||k(a))?(this._latlng=fe(a),R(this,c)):(R(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ct(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ct(this._container,0),this._removeTimeout=setTimeout(f(Qe,void 0,this._container),200)):Qe(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=fe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vt(this._container),this},bringToBack:function(){return this._map&&Xi(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Gn){c=null;var m=this._source._layers;for(var _ in m)if(m[_]._map){c=m[_];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=le(this.options.offset),m=this._getAnchor();this._zoomAnimated?it(this._container,a.add(m)):c=c.add(a).add(m);var _=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ie.include({_initOverlay:function(a,c,m,_){var w=c;return w instanceof a||(w=new a(_).setContent(c)),m&&w.setLatLng(m),w}}),Ln.include({_initOverlay:function(a,c,m,_){var w=m;return w instanceof a?(R(w,_),w._source=this):(w=c&&!_?c:new a(_,this),w.setContent(m)),w}});var Va=Ft.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ft.prototype.openOn.call(this,a)},onAdd:function(a){Ft.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",On))},onRemove:function(a){Ft.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",On))},getEvents:function(){var a=Ft.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=De("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=De("div",a+"-content-wrapper",c);if(this._contentNode=De("div",a+"-content",m),Qi(c),$n(this._contentNode),Ee(c,"contextmenu",On),this._tipContainer=De("div",a+"-tip-container",c),this._tip=De("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=De("a",a+"-close-button",c);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Ee(_,"click",function(w){bt(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var _=a.offsetHeight,w=this.options.maxHeight,E="leaflet-popup-scrolled";w&&_>w?(c.height=w+"px",Ce(a,E)):mt(a,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();it(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(ja(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,_=this._containerWidth,w=new se(this._containerLeft,-m-this._containerBottom);w._add(Ei(this._container));var E=a.layerPointToContainerPoint(w),P=le(this.options.autoPanPadding),q=le(this.options.autoPanPaddingTopLeft||P),F=le(this.options.autoPanPaddingBottomRight||P),ne=a.getSize(),de=0,xe=0;E.x+_+F.x>ne.x&&(de=E.x+_-ne.x+F.x),E.x-de-q.x<0&&(de=E.x-q.x),E.y+m+F.y>ne.y&&(xe=E.y+m-ne.y+F.y),E.y-xe-q.y<0&&(xe=E.y-q.y),(de||xe)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([de,xe]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Qc=function(a,c){return new Va(a,c)};Ie.mergeOptions({closePopupOnClick:!0}),Ie.include({openPopup:function(a,c,m){return this._initOverlay(Va,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ln.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Va,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ni(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Ia=Ft.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ft.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ft.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ft.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=De("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,_=this._map,w=this._container,E=_.latLngToContainerPoint(_.getCenter()),P=_.layerPointToContainerPoint(a),q=this.options.direction,F=w.offsetWidth,ne=w.offsetHeight,de=le(this.options.offset),xe=this._getAnchor();q==="top"?(c=F/2,m=ne):q==="bottom"?(c=F/2,m=0):q==="center"?(c=F/2,m=ne/2):q==="right"?(c=0,m=ne/2):q==="left"?(c=F,m=ne/2):P.x<E.x?(q="right",c=0,m=ne/2):(q="left",c=F+(de.x+xe.x)*2,m=ne/2),a=a.subtract(le(c,m,!0)).add(de).add(xe),mt(w,"leaflet-tooltip-right"),mt(w,"leaflet-tooltip-left"),mt(w,"leaflet-tooltip-top"),mt(w,"leaflet-tooltip-bottom"),Ce(w,"leaflet-tooltip-"+q),it(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ct(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),th=function(a,c){return new Ia(a,c)};Ie.include({openTooltip:function(a,c,m){return this._initOverlay(Ia,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ln.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ia,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ee(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ee(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,_;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(c)}});var eu=Fn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(yn(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var _=le(m.bgPos);c.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function nh(a){return new eu(a)}Fn.Default=Ma;var Is=Ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){R(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Qe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof se?a:new se(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),_=0,w=c.length,E;_<w;_++)E=c[_].style.zIndex,c[_]!==this._container&&E&&(m=a(m,+E));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){ct(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var E=Math.min(1,(a-w.loaded)/200);ct(w.el,E),E<1?c=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(ze(this._fadeFrame),this._fadeFrame=Me(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=De("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(Qe(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var _=this._levels[a],w=this._map;return _||(_=this._levels[a]={},_.el=De("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=c,_.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,w.getCenter(),w.getZoom()),S(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var _=c.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Qe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,_){var w=Math.floor(a/2),E=Math.floor(c/2),P=m-1,q=new se(+w,+E);q.z=+P;var F=this._tileCoordsToKey(q),ne=this._tiles[F];return ne&&ne.active?(ne.retain=!0,!0):(ne&&ne.loaded&&(ne.retain=!0),P>_?this._retainParent(w,E,P,_):!1)},_retainChildren:function(a,c,m,_){for(var w=2*a;w<2*a+2;w++)for(var E=2*c;E<2*c+2;E++){var P=new se(w,E);P.z=m+1;var q=this._tileCoordsToKey(P),F=this._tiles[q];if(F&&F.active){F.retain=!0;continue}else F&&F.loaded&&(F.retain=!0);m+1<_&&this._retainChildren(w,E,m+1,_)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,_){var w=Math.round(c);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var E=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||E)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var _=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(c,m)).round();ve.any3d?ri(a.el,w,_):it(a.el,w)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],_).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],_).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],_).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],_).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),_=c.getZoomScale(m,this._tileZoom),w=c.project(a,this._tileZoom).floor(),E=c.getSize().divideBy(_*2);return new B(w.subtract(E),w.add(E))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(_),E=w.getCenter(),P=[],q=this.options.keepBuffer,F=new B(w.getBottomLeft().subtract([q,-q]),w.getTopRight().add([q,-q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ne in this._tiles){var de=this._tiles[ne].coords;(de.z!==this._tileZoom||!F.contains(new se(de.x,de.y)))&&(this._tiles[ne].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var xe=w.min.y;xe<=w.max.y;xe++)for(var Oe=w.min.x;Oe<=w.max.x;Oe++){var It=new se(Oe,xe);if(It.z=this._tileZoom,!!this._isValidTile(It)){var wt=this._tiles[this._tileCoordsToKey(It)];wt?wt.current=!0:P.push(It)}}if(P.sort(function($e,Ze){return $e.distanceTo(E)-Ze.distanceTo(E)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fn=document.createDocumentFragment();for(Oe=0;Oe<P.length;Oe++)this._addTile(P[Oe],fn);this._level.el.appendChild(fn)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return ue(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),_=a.scaleBy(m),w=_.add(m),E=c.unproject(_,a.z),P=c.unproject(w,a.z);return[E,P]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new re(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new se(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(Qe(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ce(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=S,a.onmousemove=S,ve.ielt9&&this.options.opacity<1&&ct(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),_=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&Me(f(this._tileReady,this,a,null,w)),it(w,m),this._tiles[_]={el:w,coords:a,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var _=this._tileCoordsToKey(a);m=this._tiles[_],m&&(m.loaded=+new Date,this._map._fadeAnimated?(ct(m.el,0),ze(this._fadeFrame),this._fadeFrame=Me(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Ce(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?Me(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new se(this._wrapX?b(a.x,this._wrapX):a.x,this._wrapY?b(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new B(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function tu(a){return new Is(a)}var Li=Is.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=R(this,c),c.detectRetina&&ve.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return Ee(m,"load",f(this._tileOnLoad,this,c,m)),Ee(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:ve.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return V(this._url,d(c,this.options))},_tileOnLoad:function(a,c){ve.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var _=this.options.errorTileUrl;_&&c.getAttribute("src")!==_&&(c.src=_),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,_=this.options.zoomOffset;return m&&(a=c-a),a+_},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=S,c.onerror=S,!c.complete)){c.src=ee;var m=this._tiles[a].coords;Qe(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",ee),Is.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===ee))return Is.prototype._tileReady.call(this,a,c,m)}});function _n(a,c){return new Li(a,c)}var Ha=Li.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=d({},this.defaultWmsParams);for(var _ in c)_ in this.options||(m[_]=c[_]);c=R(this,c);var w=c.detectRetina&&ve.retina?2:1,E=this.getTileSize();m.width=E.x*w,m.height=E.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Li.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,_=X(m.project(c[0]),m.project(c[1])),w=_.min,E=_.max,P=(this._wmsVersion>=1.3&&this._crs===rl?[w.y,w.x,E.y,E.x]:[w.x,w.y,E.x,E.y]).join(","),q=Li.prototype.getTileUrl.call(this,a);return q+M(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(a,c){return d(this.wmsParams,a),c||this.redraw(),this}});function bn(a,c){return new Ha(a,c)}Li.WMS=Ha,_n.wms=bn;var an=Ln.extend({options:{padding:.1},initialize:function(a){R(this,a),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),E=_.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,c));ve.any3d?ri(this._container,E,m):it(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new B(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Br=an.extend({options:{tolerance:0},getEvents:function(){var a=an.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ee(a,"mousemove",this._onMouseMove,this),Ee(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ee(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){ze(this._redrawRequest),delete this._ctx,Qe(this._container),Ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),_=ve.retina?2:1;it(c,a.min),c.width=_*m.x,c.height=_*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[g(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,_=c.prev;m?m.prev=_:this._drawLast=_,_?_.next=m:this._drawFirst=m,delete a._order,delete this._layers[g(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],_,w;for(w=0;w<c.length;w++){if(_=Number(c[w]),isNaN(_))return;m.push(_)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Me(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,_,w,E,P=a._parts,q=P.length,F=this._ctx;if(q){for(F.beginPath(),m=0;m<q;m++){for(_=0,w=P[m].length;_<w;_++)E=P[m][_],F[_?"lineTo":"moveTo"](E.x,E.y);c&&F.closePath()}this._fillStroke(F,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,_=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||_)/_;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(c.x,c.y/w,_,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(_=m);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(mt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(_=m);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,_=c.prev;if(m)m.prev=_;else return;_?_.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,_=c.prev;if(_)_.next=m;else return;m?m.prev=_:_&&(this._drawLast=_),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function qa(a){return ve.canvas?new Br(a):null}var ki=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ol={_initContainer:function(){this._container=De("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=ki("shape");Ce(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=ki("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Qe(c),a.removeInteractiveTarget(c),delete this._layers[g(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,_=a.options,w=a._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(c||(c=a._stroke=ki("stroke")),w.appendChild(c),c.weight=_.weight+"px",c.color=_.color,c.opacity=_.opacity,_.dashArray?c.dashStyle=k(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=_.lineCap.replace("butt","flat"),c.joinstyle=_.lineJoin):c&&(w.removeChild(c),a._stroke=null),_.fill?(m||(m=a._fill=ki("fill")),w.appendChild(m),m.color=_.fillColor||_.color,m.opacity=_.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),_=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+_+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Vt(a._container)},_bringToBack:function(a){Xi(a._container)}},Wn=ve.vml?ki:vr,Hs=an.extend({_initContainer:function(){this._container=Wn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qe(this._container),Ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),it(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Wn("path");a.options.className&&Ce(c,a.options.className),a.options.interactive&&Ce(c,"leaflet-interactive"),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Qe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[g(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,xr(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+_+" 0 1,0 ",E=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,E)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Vt(a._path)},_bringToBack:function(a){Xi(a._path)}});ve.vml&&Hs.include(ol);function $a(a){return ve.svg||ve.vml?new Hs(a):null}Ie.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&qa(a)||$a(a)}});var ts=Ds.extend({initialize:function(a,c){Ds.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ue(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function ih(a,c){return new ts(a,c)}Hs.create=Wn,Hs.pointsToPath=xr,ui.geometryToLayer=Gt,ui.coordsToLatLng=kr,ui.coordsToLatLngs=Da,ui.latLngToCoords=Mr,ui.latLngsToCoords=Ba,ui.getFeature=Ai,ui.asFeature=Pr,Ie.mergeOptions({boxZoom:!0});var rn=Zn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cs(),jr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ee(document,{contextmenu:Ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=De("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new B(this._point,this._startPoint),m=c.getSize();it(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Qe(this._box),mt(this._container,"leaflet-crosshair")),qn(),Ea(),Ye(document,{contextmenu:Ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ie.addInitHook("addHandler","boxZoom",rn),Ie.mergeOptions({doubleClickZoom:!0});var Ur=Zn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),_=c.options.zoomDelta,w=a.originalEvent.shiftKey?m-_:m+_;c.options.doubleClickZoom==="center"?c.setZoom(w):c.setZoomAround(a.containerPoint,w)}});Ie.addInitHook("addHandler","doubleClickZoom",Ur),Ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yn=Zn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ci(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ue(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-c+m)%a+c-m,E=(_+c+m)%a-c-m,P=Math.abs(w+m)<Math.abs(E+m)?w:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(a){var c=this._map,m=c.options,_=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),_)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,P=m.easeLinearity,q=w.multiplyBy(P/E),F=q.distanceTo([0,0]),ne=Math.min(m.inertiaMaxSpeed,F),de=q.multiplyBy(ne/F),xe=ne/(m.inertiaDeceleration*P),Oe=de.multiplyBy(-xe/2).round();!Oe.x&&!Oe.y?c.fire("moveend"):(Oe=c._limitOffset(Oe,c.options.maxBounds),Me(function(){c.panBy(Oe,{duration:xe,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});Ie.addInitHook("addHandler","dragging",Yn),Ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ll=Zn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ee(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,_=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(_,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,_,w;for(_=0,w=m.left.length;_<w;_++)c[m.left[_]]=[-1*a,0];for(_=0,w=m.right.length;_<w;_++)c[m.right[_]]=[a,0];for(_=0,w=m.down.length;_<w;_++)c[m.down[_]]=[0,a];for(_=0,w=m.up.length;_<w;_++)c[m.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,_,w;for(_=0,w=m.zoomIn.length;_<w;_++)c[m.zoomIn[_]]=a;for(_=0,w=m.zoomOut.length;_<w;_++)c[m.zoomOut[_]]=-a},_addHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,_;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(_=this._panKeys[c],a.shiftKey&&(_=le(_).multiplyBy(3)),m.options.maxBounds&&(_=m._limitOffset(le(_),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(_)));m.panTo(w)}else m.panBy(_)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ni(a)}}});Ie.addInitHook("addHandler","keyboard",ll),Ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Za=Zn.extend({addHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Yt(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),_),Ni(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,E=m?Math.ceil(w/m)*m:w,P=a._limitZoom(c+(this._delta>0?E:-E))-c;this._delta=0,this._startTime=null,P&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+P):a.setZoomAround(this._lastMousePos,c+P))}});Ie.addInitHook("addHandler","scrollWheelZoom",Za);var ns=600;Ie.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var Vr=Zn.extend({addHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new se(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ee(document,"touchend",bt),Ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),ns),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Ye(document,"touchend",bt),Ye(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Ye(document,"touchend touchcancel contextmenu",this._cancel,this),Ye(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new se(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Ie.addInitHook("addHandler","tapHold",Vr),Ie.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var cl=Zn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),Ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),_=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(_)._divideBy(2))),this._startDist=m.distanceTo(_),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),bt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),_=c.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(_)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var E=m._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&E.x===0&&E.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),ze(this._animRequest);var P=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Me(P,this,!0),bt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ze(this._animRequest),Ye(document,"touchmove",this._onTouchMove,this),Ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ie.addInitHook("addHandler","touchZoom",cl),Ie.BoxZoom=rn,Ie.DoubleClickZoom=Ur,Ie.Drag=Yn,Ie.Keyboard=ll,Ie.ScrollWheelZoom=Za,Ie.TapHold=Vr,Ie.TouchZoom=cl,s.Bounds=B,s.Browser=ve,s.CRS=Pe,s.Canvas=Br,s.Circle=Lr,s.CircleMarker=zs,s.Class=rt,s.Control=hn,s.DivIcon=eu,s.DivOverlay=Ft,s.DomEvent=Nr,s.DomUtil=Os,s.Draggable=Ci,s.Evented=ae,s.FeatureGroup=Gn,s.GeoJSON=ui,s.GridLayer=Is,s.Handler=Zn,s.Icon=Fn,s.ImageOverlay=Us,s.LatLng=me,s.LatLngBounds=re,s.Layer=Ln,s.LayerGroup=Ps,s.LineUtil=Xd,s.Map=Ie,s.Marker=za,s.Mixin=Fd,s.Path=Kn,s.Point=se,s.PolyUtil=sl,s.Polygon=Ds,s.Polyline=ci,s.Popup=Va,s.PosAnimation=Ls,s.Projection=Zc,s.Rectangle=ts,s.Renderer=an,s.SVG=Hs,s.SVGOverlay=Dr,s.TileLayer=Li,s.Tooltip=Ia,s.Transformation=Ss,s.Util=sn,s.VideoOverlay=Oi,s.bind=f,s.bounds=X,s.canvas=qa,s.circle=Yc,s.circleMarker=Wc,s.control=li,s.divIcon=nh,s.extend=d,s.featureGroup=Fc,s.geoJSON=zr,s.geoJson=Ua,s.gridLayer=tu,s.icon=ka,s.imageOverlay=Xc,s.latLng=fe,s.latLngBounds=ue,s.layerGroup=Jd,s.map=Jo,s.marker=Kc,s.point=le,s.polygon=eh,s.polyline=Qd,s.popup=Qc,s.rectangle=ih,s.setOptions=R,s.stamp=g,s.svg=$a,s.svgOverlay=Jc,s.tileLayer=_n,s.tooltip=th,s.transformation=$i,s.version=r,s.videoOverlay=Vs;var ul=window.L;s.noConflict=function(){return window.L=ul,this},window.L=s}))})(Wl,Wl.exports)),Wl.exports}var Sc=yC();const Pd=t_(Sc);function Wp(n,e,s){return Object.freeze({instance:n,context:e,container:s})}function Yp(n,e){return e==null?function(r,d){const h=N.useRef(void 0);return h.current||(h.current=n(r,d)),h}:function(r,d){const h=N.useRef(void 0);h.current||(h.current=n(r,d));const f=N.useRef(r),{instance:y}=h.current;return N.useEffect(function(){f.current!==r&&(e(y,r,f.current),f.current=r)},[y,r,e]),h}}function vC(n,e){N.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function w1(n){return function(s){const r=Fp(),d=n(Kp(s,r),r);return _1(r.map,s.attribution),b1(d.current,s.eventHandlers),vC(d.current,r),d}}function xC(n,e){const s=Yp(n,e),r=w1(s);return hC(r)}function _C(n,e){const s=Yp(n),r=pC(s,e);return fC(r)}function bC(n,e){const s=Yp(n,e),r=w1(s);return mC(r)}function wC(n,e,s){const{opacity:r,zIndex:d}=e;r!=null&&r!==s.opacity&&n.setOpacity(r),d!=null&&d!==s.zIndex&&n.setZIndex(d)}function SC(){return Fp().map}function jC({bounds:n,boundsOptions:e,center:s,children:r,className:d,id:h,placeholder:f,style:y,whenReady:g,zoom:x,...b},S){const[T]=N.useState({className:d,id:h,style:y}),[A,O]=N.useState(null),R=N.useRef(void 0);N.useImperativeHandle(S,()=>A?.map??null,[A]);const M=N.useCallback(V=>{if(V!==null&&!R.current){const k=new Sc.Map(V,b);R.current=k,s!=null&&x!=null?k.setView(s,x):n!=null&&k.fitBounds(n,e),g!=null&&k.whenReady(g),O(uC(k))}},[]);N.useEffect(()=>()=>{A?.map.remove()},[A]);const z=A?Ui.createElement(Gp,{value:A},r):f??null;return Ui.createElement("div",{...T,ref:M},z)}const TC=N.forwardRef(jC),Gx=xC(function({position:e,...s},r){const d=new Sc.Marker(e,s);return Wp(d,dC(r,{overlayContainer:d}))},function(e,s,r){s.position!==r.position&&e.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&e.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&e.setOpacity(s.opacity),e.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?e.dragging.enable():e.dragging.disable())}),Fx=_C(function(e,s){const r=new Sc.Popup(e,s.overlayContainer);return Wp(r,s)},function(e,s,{position:r},d){N.useEffect(function(){const{instance:f}=e;function y(x){x.popup===f&&(f.update(),d(!0))}function g(x){x.popup===f&&d(!1)}return s.map.on({popupopen:y,popupclose:g}),s.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(s.map)):s.overlayContainer.bindPopup(f),function(){s.map.off({popupopen:y,popupclose:g}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(f)}},[e,s,d,r])}),EC=bC(function({url:e,...s},r){const d=new Sc.TileLayer(e,Kp(s,r));return Wp(d,r)},function(e,s,r){wC(e,s,r);const{url:d}=s;d!=null&&d!==r.url&&e.setUrl(d)});delete Pd.Icon.Default.prototype._getIconUrl;Pd.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const NC=new Pd.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),CC=new Pd.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function AC({lat:n,lng:e}){const s=SC();return N.useEffect(()=>{s.setView([n,e],13)},[n,e,s]),null}function S1({pedidoId:n,clienteLat:e,clienteLng:s}){const[r,d]=N.useState(null),[h,f]=N.useState(!0);N.useEffect(()=>{y();const b=he.channel(`tracking-${n}`).on("postgres_changes",{event:"*",schema:"public",table:"ubicaciones_repartidor",filter:`pedido_id=eq.${n}`},()=>{y()}).subscribe(),S=setInterval(()=>{y()},3e4);return()=>{he.removeChannel(b),clearInterval(S)}},[n]);const y=async()=>{try{const{data:b,error:S}=await he.from("vista_ubicacion_actual_pedido").select("*").eq("pedido_id",n).single();if(S)throw S;d(b)}catch(b){console.error("Error al cargar ubicacin:",b)}finally{f(!1)}};if(h)return l.jsx("div",{className:"h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx("p",{className:"text-gray-500",children:"Cargando mapa..."})});const g=r?(r.repartidor_latitud+e)/2:e,x=r?(r.repartidor_longitud+s)/2:s;return l.jsxs("div",{className:"space-y-4",children:[r&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"ltima actualizacin:"}),l.jsxs("p",{className:"font-medium",children:[Math.floor(r.segundos_desde_actualizacion/60)," ","minutos atrs"]})]}),r.velocidad&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Velocidad:"}),l.jsxs("p",{className:"font-medium",children:[r.velocidad.toFixed(1)," km/h"]})]})]})}),l.jsx("div",{className:"h-96 rounded-lg overflow-hidden shadow-lg",children:l.jsxs(TC,{center:[g,x],zoom:13,style:{height:"100%",width:"100%"},children:[l.jsx(EC,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.jsx(Gx,{position:[e,s],icon:CC,children:l.jsx(Fx,{children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold",children:" Cliente"}),l.jsx("p",{className:"text-sm",children:"Destino de entrega"})]})})}),r&&l.jsx(Gx,{position:[r.repartidor_latitud,r.repartidor_longitud],icon:NC,children:l.jsx(Fx,{children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold",children:" Repartidor"}),l.jsx("p",{className:"text-sm",children:r.repartidor_nombre}),l.jsx("p",{className:"text-sm text-gray-600",children:r.tipo_vehiculo}),r.velocidad&&l.jsxs("p",{className:"text-sm",children:[r.velocidad.toFixed(1)," km/h"]})]})})}),l.jsx(AC,{lat:g,lng:x})]})}),l.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full"}),l.jsx("span",{children:"Repartidor"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"}),l.jsx("span",{children:"Cliente (Destino)"})]})]}),!r&&l.jsx("div",{className:"text-center text-gray-500 text-sm",children:"El repartidor an no ha iniciado el tracking GPS"})]})}function RC(){const{pedidoId:n}=ko(),{usuario:e}=Rt(),s=at(),[r,d]=N.useState(null),[h,f]=N.useState([]),[y,g]=N.useState(!0);N.useEffect(()=>{if(!e||!n){s("/login");return}x();const S=he.channel(`pedido-${n}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pedidos",filter:`id=eq.${n}`},()=>{x()}).subscribe();return()=>{he.removeChannel(S)}},[n,e]);const x=async()=>{if(n)try{const{data:S,error:T}=await he.from("vista_pedidos_cliente").select("*").eq("pedido_id",n).single();if(T)throw T;const{data:A,error:O}=await he.from("vista_detalle_pedido_completo").select("*").eq("pedido_id",n);if(O)throw O;d(S),f(A)}catch(S){console.error("Error al cargar pedido:",S),alert("Error al cargar el pedido")}finally{g(!1)}},b=S=>({pendiente:" Esperando confirmacin",confirmado:" Confirmado por el restaurante",en_preparacion:" Preparando tu pedido",listo:" Listo para entrega",en_camino:" En camino a tu ubicacin",entregado:" Entregado",cancelado:" Cancelado"})[S]||S;return y?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:l.jsx("div",{style:{width:48,height:48,borderRadius:24,borderBottom:"4px solid #6366f1",animation:"spin 1s linear infinite"}})}):r?l.jsx("div",{className:"detalle-page",children:l.jsxs("div",{className:"detalle-wrapper",children:[l.jsxs("div",{className:"detalle-card",children:[l.jsxs("div",{className:"detalle-header",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"detalle-title",children:["Pedido #",r.numero_pedido]}),l.jsxs("p",{className:"detalle-sub",children:[r.restaurante_emoji," ",r.restaurante_nombre]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("p",{className:"total-amount",children:["$",r.total.toFixed(2)]}),l.jsxs("p",{style:{color:"#6b7280"},children:[r.total_items," items"]})]})]}),l.jsx("div",{className:`estado-badge ${r.estado==="pendiente"?"estado-pendiente":r.estado==="confirmado"?"estado-confirmado":r.estado==="en_preparacion"?"estado-preparacion":r.estado==="listo"?"estado-listo":r.estado==="en_camino"?"estado-en-camino":r.estado==="entregado"?"estado-entregado":r.estado==="cancelado"?"estado-cancelado":""}`,children:b(r.estado)}),l.jsxs("div",{className:"timeline",children:[l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-dot",children:""}),l.jsxs("div",{children:[l.jsx("p",{style:{fontWeight:700,margin:0},children:"Pedido realizado"}),l.jsx("p",{style:{color:"#6b7280",margin:0},children:new Date(r.creado_en).toLocaleString("es-MX")})]})]}),r.confirmado_en&&l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-dot",children:""}),l.jsxs("div",{children:[l.jsx("p",{style:{fontWeight:700,margin:0},children:"Confirmado"}),l.jsx("p",{style:{color:"#6b7280",margin:0},children:new Date(r.confirmado_en).toLocaleString("es-MX")})]})]}),r.asignado_en&&l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-dot",children:""}),l.jsxs("div",{children:[l.jsx("p",{style:{fontWeight:700,margin:0},children:"Repartidor asignado"}),l.jsx("p",{style:{color:"#6b7280",margin:0},children:new Date(r.asignado_en).toLocaleString("es-MX")})]})]}),r.entregado_en&&l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-dot",children:""}),l.jsxs("div",{children:[l.jsx("p",{style:{fontWeight:700,margin:0},children:"Entregado"}),l.jsx("p",{style:{color:"#6b7280",margin:0},children:new Date(r.entregado_en).toLocaleString("es-MX")})]})]})]})]}),r.tiene_repartidor&&r.repartidor_nombre&&l.jsxs("div",{className:"detalle-card repartidor-card",children:[l.jsx("div",{children:l.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:700},children:" Tu Repartidor"})}),l.jsx("div",{style:{flex:1},children:l.jsxs("div",{className:"repartidor-card",children:[r.repartidor_foto?l.jsx("img",{src:r.repartidor_foto,alt:r.repartidor_nombre,className:"repartidor-photo"}):l.jsx("div",{className:"repartidor-placeholder",children:""}),l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontWeight:700},children:r.repartidor_nombre}),r.repartidor_vehiculo&&l.jsx("p",{style:{margin:0,color:"#374151",textTransform:"capitalize"},children:r.repartidor_vehiculo}),r.repartidor_telefono&&l.jsxs("a",{href:`tel:${r.repartidor_telefono}`,style:{color:"#4f46e5",textDecoration:"none"},children:[" ",r.repartidor_telefono]})]})]})})]}),r.tracking_activo&&l.jsxs("div",{className:"detalle-card map-card",children:[l.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:700,marginBottom:8},children:" Ubicacin en Tiempo Real"}),l.jsx(S1,{pedidoId:n,clienteLat:r.latitud,clienteLng:r.longitud})]}),l.jsxs("div",{className:"detalle-card",children:[l.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:700,marginBottom:8},children:" Direccin de Entrega"}),l.jsx("p",{style:{margin:0,color:"#111827"},children:r.direccion_entrega}),r.notas_cliente&&l.jsxs("div",{className:"address-note",children:[l.jsx("p",{style:{margin:0,fontWeight:700,color:"#92400e"},children:" Notas de entrega:"}),l.jsx("p",{style:{margin:0,color:"#374151"},children:r.notas_cliente})]})]}),l.jsxs("div",{className:"detalle-card items-card",children:[l.jsx("h2",{style:{margin:0,fontSize:"1rem",fontWeight:700,marginBottom:8},children:" Items del Pedido"}),l.jsx("div",{children:h.map(S=>l.jsxs("div",{className:"item-row",children:[S.platillo_imagen&&l.jsx("img",{src:S.platillo_imagen,alt:S.platillo_nombre,className:"item-image"}),l.jsxs("div",{className:"item-details",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h3",{style:{margin:0,fontWeight:700},children:S.platillo_nombre}),l.jsxs("p",{style:{margin:0,fontWeight:800,color:"#4f46e5"},children:["$",S.subtotal.toFixed(2)]})]}),l.jsx("p",{style:{margin:"6px 0",color:"#6b7280"},children:S.platillo_descripcion}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#6b7280"},children:[l.jsxs("p",{children:[" Cantidad: ",S.cantidad,"  $",S.precio_unitario.toFixed(2)]}),S.notas_platillo&&l.jsxs("p",{style:{fontStyle:"italic"},children:["Nota: ",S.notas_platillo]})]})]})]},S.detalle_id))}),l.jsxs("div",{className:"total-row",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{style:{color:"#4f46e5"},children:["$",r.total.toFixed(2)]})]})]}),l.jsx("button",{onClick:()=>s("/pedidos"),className:"primary-btn",children:" Volver a Mis Pedidos"})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"}),l.jsx("button",{onClick:()=>s("/pedidos"),className:"mt-4 text-indigo-600 hover:underline",children:"Volver a mis pedidos"})]})}async function j1(n){const{data:e,error:s}=await he.from("repartidores").select("*").eq("usuario_id",n).single();if(s)throw s;return e}async function OC(n,e){const{data:s,error:r}=await he.rpc("cambiar_disponibilidad_repartidor",{p_usuario_id:n,p_disponible:e});if(r)throw r;return s}async function T1(){const{data:n,error:e}=await he.from("vista_pedidos_disponibles_repartidores").select("*").order("creado_en",{ascending:!0});if(e)throw e;return n}async function Xp(n){const{data:e,error:s}=await he.from("vista_pedidos_repartidor").select("*").eq("repartidor_id",n).order("asignado_en",{ascending:!0});if(s)throw s;return e}async function LC(n,e){const{data:s,error:r}=await he.rpc("asignar_repartidor_pedido",{p_pedido_id:n,p_repartidor_id:e});if(r)throw r;return s}async function kC(n,e){const{data:s,error:r}=await he.rpc("marcar_pedido_entregado",{p_pedido_id:n,p_repartidor_id:e});if(r)throw r;return s}async function Kx(n,e,s,r,d,h){const{data:f,error:y}=await he.rpc("actualizar_ubicacion_repartidor",{p_repartidor_id:n,p_latitud:e,p_longitud:s,p_pedido_id:r||null,p_velocidad:d||null,p_precision:h||null});if(y)throw y;return f}function MC(n,e,s=60){let r=null,d=null;return navigator.geolocation&&(r=navigator.geolocation.watchPosition(async h=>{try{await Kx(n,h.coords.latitude,h.coords.longitude,e,h.coords.speed||void 0,h.coords.accuracy),console.log("Ubicacin actualizada:",h.coords)}catch(f){console.error("Error al actualizar ubicacin:",f)}},h=>{console.error("Error al obtener ubicacin:",h)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),d=setInterval(()=>{navigator.geolocation.getCurrentPosition(async h=>{try{await Kx(n,h.coords.latitude,h.coords.longitude,e,h.coords.speed||void 0,h.coords.accuracy)}catch(f){console.error("Error en actualizacin peridica:",f)}})},s*1e3)),()=>{r!==null&&navigator.geolocation.clearWatch(r),d!==null&&clearInterval(d)}}async function PC(n){const{data:e,error:s}=await he.from("vista_estadisticas_repartidor").select("*").eq("usuario_id",n).single();if(s)throw s;return e}function zC(n){const e=he.channel("pedidos-disponibles").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:"estado=in.(listo,confirmado)"},async()=>{const s=await T1();n(s)}).subscribe();return()=>{he.removeChannel(e)}}function DC(n,e){const s=he.channel("mis-pedidos-repartidor").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`repartidor_id=eq.${n}`},async()=>{const r=await Xp(n);e(r)}).subscribe();return()=>{he.removeChannel(s)}}function BC(){const{usuario:n}=Rt(),[e,s]=N.useState([]),[r,d]=N.useState(!0),[h,f]=N.useState(null);N.useEffect(()=>{y();const x=zC(b=>{s(b)});return()=>{x()}},[]);const y=async()=>{try{const x=await T1();s(x)}catch(x){console.error("Error al cargar pedidos:",x)}finally{d(!1)}},g=async x=>{if(n){f(x);try{await LC(x,n.id),alert('Pedido asignado! Ve a "Mis Pedidos" para comenzar la entrega.'),await y()}catch(b){console.error("Error al tomar pedido:",b),alert("No se pudo tomar el pedido. Intenta de nuevo.")}finally{f(null)}}};return r?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Pedidos Disponibles"}),e.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-gray-500 text-lg",children:"No hay pedidos disponibles en este momento"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Los nuevos pedidos aparecern aqu automticamente"})]}):l.jsx("div",{className:"space-y-4",children:e.map(x=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[x.restaurante_emoji," ",x.restaurante_nombre]}),l.jsx("p",{className:"text-gray-600 text-sm",children:x.restaurante_direccion})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["$",x.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[x.total_items," item",x.total_items>1?"s":""]})]})]}),l.jsxs("div",{className:"border-t pt-4 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Entrega en:"}),l.jsx("p",{className:"text-gray-700",children:x.direccion_entrega})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("p",{children:["Hace ",Math.floor(x.minutos_desde_creacion)," minutos"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.estado==="listo"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x.estado==="listo"?" Listo":" En preparacin"}),l.jsx("button",{onClick:()=>g(x.pedido_id),disabled:h===x.pedido_id,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:h===x.pedido_id?" Tomando...":" Tomar Pedido"})]})]},x.pedido_id))})]})]})}function UC(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState([]),[d,h]=N.useState(!0);N.useEffect(()=>{if(!n)return;f();const y=DC(n.id,g=>{r(g)});return()=>{y()}},[n]);const f=async()=>{if(n)try{const y=await Xp(n.id);r(y)}catch(y){console.error("Error al cargar pedidos:",y)}finally{h(!1)}};return d?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:" Mis Pedidos"}),l.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"text-indigo-600 hover:underline text-sm",children:"Ver disponibles "})]}),s.length===0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes pedidos asignados"}),l.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Ver Pedidos Disponibles"})]}):l.jsx("div",{className:"space-y-4",children:s.map(y=>l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold",children:[y.restaurante_emoji," ",y.restaurante_nombre]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Pedido #",y.numero_pedido]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["$",y.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[y.total_items," items"]})]})]}),l.jsxs("div",{className:"border-t pt-4 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Entregar en:"}),l.jsx("p",{className:"text-gray-700",children:y.direccion_entrega})]})]}),y.notas_cliente&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),l.jsx("p",{className:"text-gray-700 text-sm",children:y.notas_cliente})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{children:""}),l.jsxs("p",{children:["Asignado hace"," ",Math.floor(y.minutos_desde_asignacion)," minutos"]})]})]}),l.jsx("button",{onClick:()=>e(`/repartidor/entrega/${y.pedido_id}`),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Iniciar Entrega"})]},y.pedido_id))})]})]})}function VC(){const{pedidoId:n}=ko(),{usuario:e}=Rt(),s=at(),[r,d]=N.useState(null),[h,f]=N.useState(!0),[y,g]=N.useState(!1),[x,b]=N.useState(!1),S=N.useRef(null);N.useEffect(()=>(T(),()=>{S.current&&S.current()}),[n]);const T=async()=>{if(!(!e||!n))try{const[M,z]=await Promise.all([Xp(e.id),j1(e.id)]),V=M.find(k=>k.pedido_id===n);if(!V){alert("Pedido no encontrado"),s("/repartidor/mis-pedidos");return}d(V),z&&A(z.id)}catch(M){console.error("Error al cargar datos:",M)}finally{f(!1)}},A=M=>{if(!n||x)return;console.log("Iniciando tracking GPS...");const z=MC(M,n,60);S.current=z,b(!0)},O=async()=>{if(!(!e||!n||!window.confirm("Confirmas que el pedido fue entregado al cliente?"))){g(!0);try{await kC(n,e.id),S.current&&S.current(),alert(" Pedido marcado como entregado. Buen trabajo!"),s("/repartidor/mis-pedidos")}catch(z){console.error("Error al marcar como entregado:",z),alert("Error al marcar el pedido como entregado")}finally{g(!1)}}},R=()=>{if(!r)return;const M=`https://www.google.com/maps/dir/?api=1&destination=${r.latitud},${r.longitud}`;window.open(M,"_blank")};return h?l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r?l.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:" Entrega en Curso"}),l.jsxs("p",{className:"text-gray-600",children:["Pedido #",r.numero_pedido]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",r.total.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[r.total_items," items"]})]})]}),x&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"animate-pulse text-green-600",children:""}),l.jsx("p",{className:"text-green-700 text-sm font-medium",children:" Tracking GPS activo - Tu ubicacin se actualiza cada minuto"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-3",children:[r.restaurante_emoji," Recoger en:"]}),l.jsx("p",{className:"text-xl font-medium mb-2",children:r.restaurante_nombre}),l.jsx("p",{className:"text-gray-600 mb-2",children:r.restaurante_direccion}),r.restaurante_telefono&&l.jsxs("a",{href:`tel:${r.restaurante_telefono}`,className:"text-indigo-600 hover:underline",children:[" ",r.restaurante_telefono]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Entregar en:"}),l.jsx("p",{className:"text-gray-900 text-lg mb-3",children:r.direccion_entrega}),r.notas_cliente&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),l.jsx("p",{className:"text-gray-700",children:r.notas_cliente})]}),l.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["Cliente: ",r.cliente_email]}),l.jsx("button",{onClick:R,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Abrir Navegacin GPS"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Mapa de Entrega"}),l.jsx(S1,{pedidoId:n,clienteLat:r.latitud,clienteLng:r.longitud})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsx("button",{onClick:O,disabled:y,className:"w-full bg-green-600 text-white py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-lg font-bold",children:y?" Marcando...":" Marcar como Entregado"}),l.jsx("p",{className:"text-center text-gray-500 text-sm mt-2",children:"Solo marca como entregado cuando hayas confirmado la entrega con el cliente"})]})]}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"})})}function IC(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState(null),[f,y]=N.useState(!0),[g,x]=N.useState(!1);N.useEffect(()=>{b()},[n]);const b=async()=>{if(n)try{const[T,A]=await Promise.all([j1(n.id),PC(n.id)]);r(T),h(A)}catch(T){console.error("Error al cargar datos:",T)}finally{y(!1)}},S=async()=>{if(!(!n||!s)){x(!0);try{await OC(n.id,!s.disponible),await b()}catch(T){console.error("Error al cambiar disponibilidad:",T),alert("Error al cambiar disponibilidad")}finally{x(!1)}}};return f?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):s?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Mi Perfil"}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.foto_url?l.jsx("img",{src:s.foto_url,alt:s.nombre_completo,className:"w-20 h-20 rounded-full object-cover"}):l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-3xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-bold",children:s.nombre_completo}),s.telefono&&l.jsxs("p",{className:"text-gray-600",children:[" ",s.telefono]}),s.tipo_vehiculo&&l.jsxs("p",{className:"text-gray-600 capitalize",children:[" ",s.tipo_vehiculo]})]})]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Estado"}),l.jsx("p",{className:"text-sm text-gray-600",children:s.disponible?" Disponible para pedidos":" No disponible"})]}),l.jsx("button",{onClick:S,disabled:g,className:`px-6 py-2 rounded-lg font-medium transition-colors ${s.disponible?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"} disabled:bg-gray-400`,children:g?"":s.disponible?"Pausar":"Activar"})]})})]}),d&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Estadsticas"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Entregas"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.total_entregas})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Calificacin"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[" ",s.calificacion_promedio.toFixed(1)]})]}),l.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completadas"}),l.jsx("p",{className:"text-3xl font-bold text-purple-600",children:d.entregas_completadas})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"En Curso"}),l.jsx("p",{className:"text-3xl font-bold text-orange-600",children:d.entregas_en_curso})]})]}),d.ganancias_estimadas>0&&l.jsxs("div",{className:"mt-4 bg-indigo-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ganancias Estimadas"}),l.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",d.ganancias_estimadas.toFixed(2)]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Acciones Rpidas"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Ver Pedidos Disponibles"}),l.jsx("button",{onClick:()=>e("/repartidor/mis-pedidos"),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Mis Pedidos Activos"}),l.jsx("button",{onClick:()=>e("/home"),className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:" Volver al Inicio"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Ke,{}),l.jsx("div",{className:"max-w-4xl mx-auto p-4",children:l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes un perfil de repartidor"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Contacta al administrador para registrarte como repartidor"})]})})]})}const Ym=async n=>{try{const{data:e,error:s}=await he.from("vista_panel_repartidor").select("*").eq("usuario_id",n).maybeSingle();return s?(console.error("Error al obtener panel repartidor:",s),null):e}catch(e){return console.error("Error al obtener panel repartidor:",e),null}},E1=async n=>{try{const{data:e,error:s}=await he.from("vista_panel_restaurante").select("*").eq("restaurante_id",n).maybeSingle();return s?(console.error("Error al obtener panel restaurante:",s),null):e}catch(e){return console.error("Error al obtener panel restaurante:",e),null}},Xm=async()=>{try{const{data:n,error:e}=await he.from("vista_panel_operador").select("*").maybeSingle();return e?(console.error("Error al obtener panel operador:",e),null):n}catch(n){return console.error("Error al obtener panel operador:",n),null}},N1=async()=>{try{const{data:n,error:e}=await he.from("vista_panel_admin").select("*").maybeSingle();return e?(console.error("Error al obtener panel admin:",e),null):n}catch(n){return console.error("Error al obtener panel admin:",n),null}},HC=(n,e)=>{const s=he.channel(`panel_repartidor_${n}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`repartidor_id=eq.${n}`},async()=>{const r=await Ym(n);e(r)}).on("postgres_changes",{event:"*",schema:"public",table:"repartidores",filter:`usuario_id=eq.${n}`},async()=>{const r=await Ym(n);e(r)}).subscribe();return()=>{he.removeChannel(s)}},qC=(n,e)=>{const s=he.channel(`panel_restaurante_${n}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`restaurante_id=eq.${n}`},async()=>{const r=await E1(n);e(r)}).subscribe();return()=>{he.removeChannel(s)}},$C=n=>{const e=he.channel("panel_operador").on("postgres_changes",{event:"*",schema:"public",table:"pedidos"},async()=>{const s=await Xm();n(s)}).on("postgres_changes",{event:"*",schema:"public",table:"repartidores"},async()=>{const s=await Xm();n(s)}).subscribe();return()=>{he.removeChannel(e)}},ZC=n=>{const e=he.channel("panel_admin").on("postgres_changes",{event:"*",schema:"public",table:"pedidos"},async()=>{const s=await N1();n(s)}).subscribe();return()=>{he.removeChannel(e)}};var C1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wx=Ui.createContext&&Ui.createContext(C1),GC=["attr","size","title"];function FC(n,e){if(n==null)return{};var s=KC(n,e),r,d;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(n);for(d=0;d<h.length;d++)r=h[d],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function KC(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function Sd(){return Sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Sd.apply(this,arguments)}function Yx(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable})),s.push.apply(s,r)}return s}function jd(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Yx(Object(s),!0).forEach(function(r){WC(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Yx(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function WC(n,e,s){return e=YC(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function YC(n){var e=XC(n,"string");return typeof e=="symbol"?e:e+""}function XC(n,e){if(typeof n!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function A1(n){return n&&n.map((e,s)=>Ui.createElement(e.tag,jd({key:s},e.attr),A1(e.child)))}function lt(n){return e=>Ui.createElement(JC,Sd({attr:jd({},n.attr)},e),A1(n.child))}function JC(n){var e=s=>{var{attr:r,size:d,title:h}=n,f=FC(n,GC),y=d||s.size||"1em",g;return s.className&&(g=s.className),n.className&&(g=(g?g+" ":"")+n.className),Ui.createElement("svg",Sd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,f,{className:g,style:jd(jd({color:n.color||s.color},s.style),n.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),h&&Ui.createElement("title",null,h),n.children)};return Wx!==void 0?Ui.createElement(Wx.Consumer,null,s=>e(s)):e(C1)}function Jp(n){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function QC(n){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(n)}function eA(n){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function Jm(n){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function gr(n){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function Xx(n){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(n)}function tA(n){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function nA(n){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function Jx(n){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function iA(n){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function sA(n){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Qm(n){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function Td(n){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function aA(n){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function rA(n){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function oA(n){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}function To(n){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(n)}function lA(n){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(n)}function R1(n){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function mc(n){return lt({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(n)}function cA(n){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Qx(n){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(n)}function pc(n){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(n)}function uA(n){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function dA(n){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function pr(n){return lt({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(n)}function hA(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState(!0);N.useEffect(()=>{if(!n||n.tipo_usuario!=="repartidor"){e("/");return}f();const y=HC(n.id,g=>{g&&r(g)});return()=>{y()}},[n,e]);const f=async()=>{if(!n)return;h(!0);const y=await Ym(n.id);r(y),h(!1)};return d?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]}):s?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 pb-20",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:s.nombre_completo.charAt(0)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s.nombre_completo}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx("span",{className:"text-sm text-gray-500",children:s.tipo_vehiculo}),l.jsx("span",{className:"text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(R1,{className:"text-yellow-400 mr-1"}),l.jsx("span",{className:"font-semibold",children:s.calificacion_promedio.toFixed(1)})]})]})]}),l.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${s.disponible?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:s.disponible?"Disponible":"No disponible"})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Entregas Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:s.entregas_hoy})]}),l.jsx(pc,{className:"text-5xl text-white opacity-20"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Ganancias Hoy"}),l.jsxs("p",{className:"text-4xl font-bold mt-2",children:["$",s.ganancias_hoy.toFixed(2)]})]}),l.jsx(Td,{className:"text-5xl text-white opacity-20"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Entregas"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:s.total_entregas})]}),l.jsx(QC,{className:"text-5xl text-white opacity-20"})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Entregas del Mes"}),l.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1",children:s.entregas_mes})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ganancias del Mes"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:["$",s.ganancias_mes.toFixed(2)]})]})]})]}),s.pedido_activo?l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg p-6 text-white mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:" Entrega Activa"}),l.jsx("span",{className:"bg-white text-orange-600 px-3 py-1 rounded-full text-sm font-semibold",children:s.pedido_activo.estado})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 mb-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Pedido"}),l.jsx("p",{className:"text-2xl font-bold",children:s.pedido_activo.numero_pedido})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qm,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Restaurante"}),l.jsx("p",{className:"font-semibold",children:s.pedido_activo.restaurante})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qm,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Entregar en"}),l.jsx("p",{className:"font-semibold",children:s.pedido_activo.direccion_entrega})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(gr,{className:"mr-3 text-xl"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Tiempo transcurrido"}),l.jsxs("p",{className:"font-semibold",children:[Math.round(s.pedido_activo.tiempo_transcurrido)," min"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Total"}),l.jsxs("p",{className:"text-2xl font-bold",children:["$",s.pedido_activo.total.toFixed(2)]})]})]})]}),l.jsx("button",{onClick:()=>e("/repartidor/entrega-activa"),className:"w-full bg-white text-orange-600 font-bold py-3 rounded-xl mt-4 hover:bg-orange-50 transition",children:"Ver Detalles de la Entrega"})]}):l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center mb-6",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sin entregas activas"}),l.jsx("p",{className:"text-gray-600",children:"Revisa los pedidos disponibles para empezar"}),l.jsx("button",{onClick:()=>e("/repartidor/pedidos-disponibles"),className:"mt-4 bg-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-indigo-700 transition",children:"Ver Pedidos Disponibles"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>e("/repartidor/pedidos-disponibles"),className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Pedidos Disponibles"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver pedidos por asignar"})]}),l.jsxs("button",{onClick:()=>e("/repartidor/mis-pedidos"),className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Mis Pedidos"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Historial de entregas"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]})}const fA=async n=>{try{const{data:e,error:s}=await he.from("restaurantes").select("*").eq("id",n).maybeSingle();return s?(console.error("Error al obtener restaurante:",s),null):e}catch(e){return console.error("Error al obtener restaurante:",e),null}},mA=async n=>{try{const{data:e,error:s}=await he.from("restaurantes").select("*").eq("usuario_id",n).maybeSingle();return s?(console.error("Error al obtener restaurante por usuario:",s),null):e}catch(e){return console.error("Error al obtener restaurante por usuario:",e),null}},pA=async(n,e)=>{try{const s={...n};e&&(s.usuario_id=e);const{data:r,error:d}=await he.from("restaurantes").insert([s]).select().maybeSingle();return d?(console.error("Error al crear restaurante:",d),null):r}catch(s){return console.error("Error al crear restaurante:",s),null}},gA=async(n,e)=>{try{const{data:s,error:r}=await he.from("restaurantes").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();return r?(console.error("Error al actualizar restaurante:",r),null):s}catch(s){return console.error("Error al actualizar restaurante:",s),null}},yA=async n=>{try{const{data:e,error:s}=await he.from("platillos").select("*").eq("restaurante_id",n).order("nombre");return s?(console.error("Error al obtener platillos:",s),[]):e}catch(e){return console.error("Error al obtener platillos:",e),[]}},vA=async n=>{try{const{data:e,error:s}=await he.from("platillos").insert([n]).select().single();return s?(console.error("Error al crear platillo:",s),null):e}catch(e){return console.error("Error al crear platillo:",e),null}},e_=async(n,e)=>{try{const{data:s,error:r}=await he.from("platillos").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();return r?(console.error("Error al actualizar platillo:",r),null):s}catch(s){return console.error("Error al actualizar platillo:",s),null}},xA=async n=>{try{const{error:e}=await he.from("platillos").delete().eq("id",n);return e?(console.error("Error al eliminar platillo:",e),!1):!0}catch(e){return console.error("Error al eliminar platillo:",e),!1}},O1=async(n,e)=>{try{let s=he.from("pedidos").select(`
        *,
        usuarios:usuario_id (
          nombre,
          telefono
        )
      `).eq("restaurante_id",n).order("creado_en",{ascending:!1});const{data:r,error:d}=await s;return d?(console.error("Error al obtener pedidos:",d),[]):r.map(h=>({...h,cliente_nombre:h.usuarios?.nombre,cliente_telefono:h.usuarios?.telefono}))}catch(s){return console.error("Error al obtener pedidos:",s),[]}},_A=async n=>{try{const{data:e,error:s}=await he.from("detalle_pedidos").select(`
        *,
        platillos (nombre),
        bebidas (nombre)
      `).eq("pedido_id",n);return s?(console.error("Error al obtener detalles del pedido:",s),[]):e.map(r=>({...r,platillo_nombre:r.platillos?.nombre,bebida_nombre:r.bebidas?.nombre}))}catch(e){return console.error("Error al obtener detalles del pedido:",e),[]}},bA=async(n,e)=>{try{const s={estado:e,actualizado_en:new Date().toISOString()};e==="confirmado"&&(s.confirmado_en=new Date().toISOString());const{error:r}=await he.from("pedidos").update(s).eq("id",n);return r?(console.error("Error al actualizar estado del pedido:",r),!1):!0}catch(s){return console.error("Error al actualizar estado del pedido:",s),!1}},wA=(n,e)=>{const s=he.channel(`pedidos_restaurante_${n}`).on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`restaurante_id=eq.${n}`},async()=>{const r=await O1(n);e(r)}).subscribe();return()=>{he.removeChannel(s)}};function SA(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState(!0),[f,y]=N.useState(""),[g,x]=N.useState(null);N.useEffect(()=>{if(!n||n.tipo_usuario!=="restaurante"){e("/");return}b()},[n,e]),N.useEffect(()=>{if(!f)return;S();const T=qC(f,A=>{A&&r(A)});return()=>{T()}},[f]);const b=async()=>{if(!n)return;const T=await mA(n.id);if(T){x(T),y(T.id);return}x(null),y("")},S=async()=>{h(!0);const T=await E1(f);r(T),h(!1)};return d?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]}):s?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("button",{onClick:()=>e("/restaurante/gestion"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:l.jsx(pr,{className:"text-orange-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gestionar Restaurante"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Edita informacin, horarios y configuracin de tu restaurante"})]}),l.jsxs("button",{onClick:()=>e("/restaurante/platillos"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:l.jsx(Xx,{className:"text-green-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Gestin de Platillos"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Administra tu men, precios e imgenes de platillos"})]}),l.jsxs("button",{onClick:()=>e("/restaurante/pedidos"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 text-left",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(To,{className:"text-blue-600 text-2xl"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Pedidos del Restaurante"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Visualiza y gestiona todos los pedidos entrantes"})]})]}),l.jsx("div",{className:"rounded-2xl shadow-lg p-6 mb-6 text-white",style:{backgroundColor:s.color_tema||"#ff6b6b"},children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-6xl",children:s.emoji||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-3xl font-bold",children:s.nombre}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsxs("div",{className:"flex items-center bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[l.jsx(R1,{className:"text-yellow-300 mr-1"}),l.jsx("span",{className:"font-semibold",children:s.calificacion.toFixed(1)})]}),l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full",children:[l.jsx(gr,{className:"inline mr-1"}),s.tiempo_entrega_min," min"]}),l.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${s.activo?"bg-green-500":"bg-gray-500"}`,children:s.activo?"Activo":"Cerrado"})]})]})]})}),s.pedidos_pendientes_hoy>0&&l.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6 rounded-r-xl",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Jx,{className:"text-yellow-600 text-2xl mr-3"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-yellow-800",children:["Tienes ",s.pedidos_pendientes_hoy," pedido(s) pendiente(s) por confirmar"]}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Revisa y confirma los pedidos nuevos"})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(To,{className:"text-blue-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"HOY"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.pedidos_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(gr,{className:"text-orange-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"EN PROCESO"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.pedidos_en_proceso_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(To,{className:"text-green-500 text-2xl"}),l.jsx("span",{className:"text-xs text-gray-500",children:"COMPLETADOS"})]}),l.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.pedidos_completados_hoy}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg p-4 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Td,{className:"text-2xl"}),l.jsx("span",{className:"text-xs text-green-100",children:"HOY"})]}),l.jsxs("p",{className:"text-3xl font-bold",children:["$",s.ingresos_hoy.toFixed(2)]}),l.jsx("p",{className:"text-sm text-green-100",children:"Ingresos"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Total Pedidos"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:s.pedidos_mes})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Completados"}),l.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:s.pedidos_completados_mes})]}),l.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos"}),l.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:["$",s.ingresos_mes.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Platillos"}),l.jsx(pr,{className:"text-orange-500 text-2xl"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:s.total_platillos})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Disponibles"}),l.jsx("span",{className:"text-xl font-semibold text-green-600",children:s.platillos_disponibles})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Bebidas"}),l.jsx(Xx,{className:"text-blue-500 text-2xl"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:s.total_bebidas})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Disponibles"}),l.jsx("span",{className:"text-xl font-semibold text-green-600",children:s.bebidas_disponibles})]})]})]})]}),s.platillo_mas_vendido&&l.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl shadow-lg p-6 text-white mb-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:" Platillo Ms Vendido del Mes"}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-2xl font-bold",children:s.platillo_mas_vendido.nombre}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsxs("span",{className:"text-lg",children:["$",s.platillo_mas_vendido.precio.toFixed(2)]}),l.jsxs("span",{className:"bg-white bg-opacity-30 px-3 py-1 rounded-full",children:[s.platillo_mas_vendido.veces_pedido," pedidos"]})]})]})]}),s.pedidos_pendientes&&s.pedidos_pendientes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:[" Pedidos Pendientes (",s.pedidos_pendientes.length,")"]}),l.jsx("div",{className:"space-y-3",children:s.pedidos_pendientes.map(T=>l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:T.numero_pedido}),l.jsx("p",{className:"text-sm text-gray-600",children:T.direccion_entrega}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(T.creado_en).toLocaleString()})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",T.total.toFixed(2)]}),l.jsx("button",{className:"mt-2 bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-orange-700 transition",children:"Confirmar"})]})]})},T.pedido_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Administrar Men"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Platillos y bebidas"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Historial"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver todos los pedidos"})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"max-w-3xl mx-auto",children:g?l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mb-4",children:l.jsx("span",{className:"text-white text-4xl",children:g.emoji||""})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:g.nombre}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.descripcion}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("button",{onClick:()=>e("/restaurante/gestion"),className:"bg-white border border-gray-200 px-4 py-2 rounded-lg shadow-sm hover:shadow-md",children:"Editar Restaurante"}),l.jsx("button",{onClick:()=>e("/restaurante/platillos"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-orange-600",children:"Agregar Platillo"}),l.jsx("button",{onClick:()=>e("/restaurante/pedidos"),className:"bg-blue-500 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-blue-600",children:"Ver Pedidos"})]})]}),l.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[l.jsxs("p",{children:["Tiempo entrega: ",g.tiempo_entrega_min," min"]}),l.jsxs("p",{children:["Costo envo: $",g.costo_envio]}),l.jsxs("p",{children:["Activo: ",g.activo?"S":"No"]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mb-4",children:l.jsx(mc,{className:"text-white text-4xl"})}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-3",children:"Bienvenido a Delibery! "}),l.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"An no tienes un restaurante registrado"}),l.jsx("p",{className:"text-gray-500",children:"Comienza creando tu restaurante para empezar a recibir pedidos"})]}),l.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 mb-8",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Qu podrs hacer despus de crear tu restaurante?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(pr,{className:"text-orange-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Gestionar tu men"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(To,{className:"text-green-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Recibir pedidos"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Td,{className:"text-blue-500 text-2xl mb-2"}),l.jsx("span",{className:"font-medium",children:"Generar ingresos"})]})]})]}),l.jsxs("button",{onClick:()=>e("/restaurante/gestion"),className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 inline-flex items-center gap-3",children:[l.jsx(mc,{className:"text-2xl"}),"Crear Mi Restaurante"]}),l.jsx("p",{className:"text-gray-500 text-sm mt-6",children:"Solo te tomar unos minutos configurar tu restaurante"})]}),l.jsxs("div",{className:"mt-8 bg-white/80 backdrop-blur rounded-xl p-6",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[l.jsx(Jx,{className:"text-yellow-500"}),"Informacin Importante"]}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Podrs editar toda la informacin de tu restaurante cuando quieras"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Necesitars agregar al menos un platillo para empezar a recibir pedidos"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500 font-bold",children:""}),l.jsx("span",{children:"Los clientes vern tu restaurante una vez que est activo"})]})]})]})]})})})]})}function jA(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState(!0);N.useEffect(()=>{if(!n||n.tipo_usuario!=="operador"){e("/");return}f();const g=$C(b=>{b&&r(b)}),x=setInterval(f,3e4);return()=>{g(),clearInterval(x)}},[n,e]);const f=async()=>{h(!0);const g=await Xm();r(g),h(!1)};if(d)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando panel..."})]})})]});if(!s)return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]});const y=s.pedidos_pendientes+s.pedidos_confirmados+s.pedidos_en_preparacion+s.pedidos_listos+s.pedidos_en_camino;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 pb-20",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-lg p-6 mb-6 text-white",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Panel de Operador"}),l.jsx("p",{className:"text-purple-100",children:"Control y monitoreo en tiempo real del sistema"}),l.jsxs("p",{className:"text-sm text-purple-200 mt-2",children:["ltima actualizacin:"," ",new Date(s.actualizado_en).toLocaleTimeString()]})]}),(s.pedidos_retrasados>0||s.pedidos_sin_repartidor>0)&&l.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-6 rounded-r-xl",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(nA,{className:"text-red-600 text-3xl mr-3 mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-red-800 text-lg",children:" Alertas Crticas"}),l.jsxs("div",{className:"mt-2 space-y-1",children:[s.pedidos_retrasados>0&&l.jsxs("p",{className:"text-red-700",children:[" ",s.pedidos_retrasados," pedido(s) retrasado(s) (+30 min)"]}),s.pedidos_sin_repartidor>0&&l.jsxs("p",{className:"text-red-700",children:[" ",s.pedidos_sin_repartidor," pedido(s) sin repartidor asignado"]})]})]})]})}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Pedidos en Tiempo Real"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 text-center",children:[l.jsx(gr,{className:"text-3xl text-yellow-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:s.pedidos_pendientes}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pendientes"})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 text-center",children:[l.jsx(Jm,{className:"text-3xl text-blue-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-blue-700",children:s.pedidos_confirmados}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Confirmados"})]}),l.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4 text-center",children:[l.jsx(lA,{className:"text-3xl text-orange-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-orange-700",children:s.pedidos_en_preparacion}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"En Preparacin"})]}),l.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-4 text-center",children:[l.jsx(To,{className:"text-3xl text-purple-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-purple-700",children:s.pedidos_listos}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Listos"})]}),l.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4 text-center",children:[l.jsx(pc,{className:"text-3xl text-green-600 mx-auto mb-2"}),l.jsx("p",{className:"text-3xl font-bold text-green-700",children:s.pedidos_en_camino}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"En Camino"})]})]}),l.jsx("div",{className:"mt-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-lg font-semibold",children:"Total Pedidos Activos"}),l.jsx("span",{className:"text-4xl font-bold",children:y})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Entregados Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:s.pedidos_entregados_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-red-100 text-sm font-medium",children:"Cancelados Hoy"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:s.pedidos_cancelados_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Ingresos Hoy"}),l.jsxs("p",{className:"text-3xl font-bold mt-2",children:["$",s.ingresos_hoy.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Tiempo Prom."}),l.jsxs("p",{className:"text-3xl font-bold mt-2",children:[Math.round(s.tiempo_promedio_entrega_hoy)," min"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" Repartidores"}),l.jsx(pc,{className:"text-3xl text-blue-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Disponibles"}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:s.repartidores_disponibles})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"En Entrega"}),l.jsx("span",{className:"text-2xl font-bold text-orange-600",children:s.repartidores_en_entrega})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Activos"}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:s.repartidores_activos})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Total"}),l.jsx("span",{className:"text-2xl font-bold text-gray-800",children:s.total_repartidores})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" Restaurantes"}),l.jsx(mc,{className:"text-3xl text-orange-500"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Activos"}),l.jsx("span",{className:"text-3xl font-bold text-green-600",children:s.restaurantes_activos})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-gray-700",children:"Total"}),l.jsx("span",{className:"text-3xl font-bold text-gray-800",children:s.total_restaurantes})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Pedidos Completados"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:s.pedidos_completados_mes})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos del Mes"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:["$",s.ingresos_mes.toFixed(2)]})]})]})]}),s.pedidos_urgentes&&s.pedidos_urgentes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:[" Pedidos Urgentes (",s.pedidos_urgentes.length,")"]}),l.jsx("div",{className:"space-y-3",children:s.pedidos_urgentes.map(g=>l.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-gray-800",children:g.numero_pedido}),l.jsx("p",{className:"text-sm text-gray-600",children:g.restaurante}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${g.estado==="pendiente"?"bg-yellow-100 text-yellow-700":g.estado==="confirmado"?"bg-blue-100 text-blue-700":g.estado==="en_preparacion"?"bg-orange-100 text-orange-700":"bg-purple-100 text-purple-700"}`,children:g.estado}),l.jsxs("span",{className:"text-xs text-gray-500",children:[" ",Math.round(g.tiempo_transcurrido)," min"]}),l.jsx("span",{className:`text-xs font-semibold ${g.tiene_repartidor?"text-green-600":"text-red-600"}`,children:g.tiene_repartidor?" Con repartidor":" Sin repartidor"})]})]}),l.jsx("button",{className:"ml-4 bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-700 transition",children:"Ver Detalles"})]})},g.pedido_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Todos los Pedidos"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver historial completo"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Gestionar Repartidores"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Estado y asignaciones"})]}),l.jsxs("button",{className:"bg-white rounded-xl shadow-lg p-6 text-left hover:shadow-xl transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Gestionar Restaurantes"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ver todos los restaurantes"})]})]})]})]})}function TA(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState(!0);N.useEffect(()=>{if(!n||n.tipo_usuario!=="admin"){e("/");return}f();const y=ZC(x=>{x&&r(x)}),g=setInterval(f,6e4);return()=>{y(),clearInterval(g)}},[n,e]);const f=async()=>{h(!0);const y=await N1();r(y),h(!1)};return d?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto"}),l.jsx("p",{className:"mt-4 text-white",children:"Cargando panel..."})]})})]}):s?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 pb-20",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl shadow-2xl p-8 mb-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Panel de Administracin"}),l.jsx("p",{className:"text-purple-100 text-lg",children:"Vista completa del sistema Delibery"}),l.jsxs("p",{className:"text-sm text-purple-200 mt-2",children:["Actualizado: ",new Date(s.actualizado_en).toLocaleString()]})]}),l.jsx("div",{className:"text-6xl",children:""})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(dA,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"Total Usuarios"}),l.jsx("p",{className:"text-4xl font-bold mt-1",children:s.total_usuarios}),l.jsxs("p",{className:"text-xs text-blue-200 mt-2",children:["+",s.usuarios_nuevos_hoy," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(To,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-green-100 text-sm",children:"Pedidos Totales"}),l.jsx("p",{className:"text-4xl font-bold mt-1",children:s.total_pedidos_historico}),l.jsxs("p",{className:"text-xs text-green-200 mt-2",children:[s.pedidos_hoy," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(Td,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-purple-100 text-sm",children:"Ingresos Totales"}),l.jsxs("p",{className:"text-3xl font-bold mt-1",children:["$",s.ingresos_totales.toFixed(0)]}),l.jsxs("p",{className:"text-xs text-purple-200 mt-2",children:["$",s.ingresos_hoy.toFixed(0)," hoy"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-700 rounded-xl shadow-lg p-6 text-white",children:[l.jsx(eA,{className:"text-3xl mb-2 opacity-80"}),l.jsx("p",{className:"text-orange-100 text-sm",children:"Tasa Completacin"}),l.jsxs("p",{className:"text-4xl font-bold mt-1",children:[s.tasa_completacion_porcentaje,"%"]}),l.jsx("p",{className:"text-xs text-orange-200 mt-2",children:"Global"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Mtricas de Hoy"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Pedidos Hoy"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.pedidos_hoy})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ingresos Hoy"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",s.ingresos_hoy.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Ticket Promedio"}),l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",s.ticket_promedio.toFixed(2)]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Tiempo Entrega"}),l.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[Math.round(s.tiempo_promedio_entrega_hoy),"m"]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Distribucin de Pedidos"}),l.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-3",children:[l.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:s.distribucion_estados.pendiente}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pendiente"})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:s.distribucion_estados.confirmado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Confirmado"})]}),l.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-700",children:s.distribucion_estados.en_preparacion}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Preparando"})]}),l.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:s.distribucion_estados.listo}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Listo"})]}),l.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:s.distribucion_estados.en_camino}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En Camino"})]}),l.jsxs("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:s.distribucion_estados.entregado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Entregado"})]}),l.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-red-700",children:s.distribucion_estados.cancelado}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Cancelado"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:" Restaurantes"}),l.jsx(mc,{className:"text-4xl opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Activos"}),l.jsx("p",{className:"text-4xl font-bold",children:s.restaurantes_activos})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Total"}),l.jsx("p",{className:"text-4xl font-bold",children:s.total_restaurantes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 col-span-2",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Productos"}),l.jsxs("p",{className:"text-2xl font-bold",children:[s.total_platillos," platillos  ",s.total_bebidas," bebidas"]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:" Repartidores"}),l.jsx(pc,{className:"text-4xl opacity-50"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Disponibles"}),l.jsx("p",{className:"text-4xl font-bold",children:s.repartidores_disponibles})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"En Entrega"}),l.jsx("p",{className:"text-4xl font-bold",children:s.repartidores_en_entrega})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Total"}),l.jsx("p",{className:"text-3xl font-bold",children:s.total_repartidores})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-blue-100 text-sm",children:" Calificacin"}),l.jsx("p",{className:"text-3xl font-bold",children:s.calificacion_promedio_repartidores.toFixed(1)})]})]})]})]}),s.top_restaurantes_mes&&s.top_restaurantes_mes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Qx,{className:"text-yellow-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Top 5 Restaurantes del Mes"})]}),l.jsx("div",{className:"space-y-3",children:s.top_restaurantes_mes.map((y,g)=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl ${g===0?"bg-gradient-to-r from-yellow-100 to-yellow-200 border-2 border-yellow-400":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-3xl font-bold text-gray-400",children:["#",g+1]}),l.jsx("span",{className:"text-3xl",children:y.emoji}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:y.nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:[y.total_pedidos," pedidos"]})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",y.ingresos.toFixed(2)]})})]},y.id))})]}),s.top_repartidores_mes&&s.top_repartidores_mes.length>0&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Qx,{className:"text-blue-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Top 5 Repartidores del Mes"})]}),l.jsx("div",{className:"space-y-3",children:s.top_repartidores_mes.map((y,g)=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl ${g===0?"bg-gradient-to-r from-blue-100 to-indigo-200 border-2 border-blue-400":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-3xl font-bold text-gray-400",children:["#",g+1]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:y.nombre_completo}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[y.entregas_mes," entregas"]}),l.jsxs("span",{className:"text-yellow-500",children:[" ",y.calificacion_promedio.toFixed(1)]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",y.ganancias_mes.toFixed(2)]}),l.jsx("p",{className:"text-xs text-gray-500",children:"ganancias"})]})]},y.id))})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-lg p-6 mb-6 text-white",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Resumen del Mes"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Nuevos Usuarios"}),l.jsx("p",{className:"text-3xl font-bold",children:s.usuarios_nuevos_mes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Pedidos"}),l.jsx("p",{className:"text-3xl font-bold",children:s.pedidos_mes})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Completados"}),l.jsx("p",{className:"text-3xl font-bold",children:s.total_pedidos_completados})]}),l.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4",children:[l.jsx("p",{className:"text-indigo-100 text-sm",children:"Ingresos"}),l.jsxs("p",{className:"text-2xl font-bold",children:["$",s.ingresos_mes.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(gr,{className:"text-blue-500 text-2xl mr-2"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Tiempos de Entrega"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Promedio Global"}),l.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[Math.round(s.tiempo_promedio_entrega_global)," min"]})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:"Promedio Hoy"}),l.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[Math.round(s.tiempo_promedio_entrega_hoy)," min"]})]})]})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900",children:[l.jsx(Ke,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"No se pudo cargar la informacin del panel"})})]})}function EA(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState(null),[d,h]=N.useState(!0),[f,y]=N.useState(!1),[g,x]=N.useState(""),[b,S]=N.useState(""),[T,A]=N.useState(""),[O,R]=N.useState(""),[M,z]=N.useState(""),[V,k]=N.useState("#ff6b6b"),[Y,ee]=N.useState(""),[I,Q]=N.useState(30),[oe,be]=N.useState(0),[ke,Me]=N.useState(!0);N.useEffect(()=>{if(!n||n.tipo_usuario!=="restaurante"){e("/");return}ze()},[n,e]);const ze=async()=>{if(!n)return;h(!0);const $=await fA(n.id);$&&(r($),A($.nombre),R($.descripcion||""),z($.imagen_url||""),k($.color_tema||"#ff6b6b"),ee($.emoji||""),Q($.tiempo_entrega_min),be($.costo_envio),Me($.activo)),h(!1)},sn=async $=>{$.preventDefault(),S(""),x(""),y(!0);try{if(!n)return;const ae={nombre:T,descripcion:O||void 0,imagen_url:M||void 0,color_tema:V,emoji:Y,tiempo_entrega_min:I,costo_envio:oe,activo:ke};if(s){const se=await gA(s.id,ae);se?(x("Restaurante actualizado correctamente"),r(se)):S("Error al actualizar el restaurante")}else{const se=await pA(ae,n.id);se?(x("Restaurante creado correctamente"),r(se)):S("Error al crear el restaurante. Revisa permisos RLS o token autenticado.")}}catch(ae){S("Error al guardar el restaurante"),console.error(ae)}finally{y(!1)}},rt=["","","","","","","","","","","",""],Ot=["#ff6b6b","#ee5a6f","#f06595","#cc5de8","#845ef7","#5c7cfa","#339af0","#22b8cf","#20c997","#51cf66","#94d82d","#ffd43b","#ffa94d","#ff922b"];return d?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("button",{onClick:()=>e("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(Jp,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:s?"Editar Restaurante":"Crear Restaurante"}),l.jsx("p",{className:"text-gray-600",children:"Configura la informacin de tu negocio"})]})]}),g&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:g}),b&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:b}),l.jsxs("form",{onSubmit:sn,className:"bg-white rounded-2xl shadow-lg p-6",children:[l.jsx("div",{className:"rounded-xl p-6 mb-6 text-white",style:{backgroundColor:V},children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-6xl",children:Y}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:T||"Nombre del Restaurante"}),l.jsx("p",{className:"text-sm opacity-90",children:O||"Descripcin del restaurante"}),l.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[l.jsx(gr,{className:"inline mr-1"}),I," min"]}),l.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[l.jsx(pc,{className:"inline mr-1"}),"$",oe]})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[l.jsx(mc,{className:"inline mr-2"}),"Nombre del Restaurante *"]}),l.jsx("input",{type:"text",value:T,onChange:$=>A($.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Ej: La Casa del Sabor"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:O,onChange:$=>R($.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Describe tu restaurante..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL de la Imagen"}),l.jsx("input",{type:"url",value:M,onChange:$=>z($.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"https://ejemplo.com/imagen.jpg"}),M&&l.jsx("img",{src:M,alt:"Preview",className:"mt-3 w-full h-48 object-cover rounded-xl",onError:$=>{$.target.style.display="none"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Emoji Representativo"}),l.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-2",children:rt.map($=>l.jsx("button",{type:"button",onClick:()=>ee($),className:`text-3xl p-3 rounded-xl hover:bg-gray-100 transition ${Y===$?"bg-orange-100 ring-2 ring-orange-500":"bg-gray-50"}`,children:$},$))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Color del Tema"}),l.jsx("div",{className:"grid grid-cols-7 md:grid-cols-14 gap-2",children:Ot.map($=>l.jsx("button",{type:"button",onClick:()=>k($),className:`w-12 h-12 rounded-xl transition ${V===$?"ring-4 ring-gray-400 scale-110":""}`,style:{backgroundColor:$}},$))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tiempo de Entrega (min)"}),l.jsx("input",{type:"number",value:I,onChange:$=>Q(Number($.target.value)),min:"10",max:"120",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Costo de Envo ($)"}),l.jsx("input",{type:"number",value:oe,onChange:$=>be(Number($.target.value)),min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Estado del Restaurante"}),l.jsx("p",{className:"text-sm text-gray-600",children:ke?"Abierto y aceptando pedidos":"Cerrado temporalmente"})]}),l.jsx("button",{type:"button",onClick:()=>Me(!ke),className:`relative inline-flex items-center h-8 rounded-full w-16 transition ${ke?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-6 h-6 transform bg-white rounded-full transition ${ke?"translate-x-9":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold py-4 rounded-xl hover:from-orange-600 hover:to-red-700 transition disabled:opacity-50 flex items-center justify-center",children:f?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Guardando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(oA,{className:"mr-2"}),s?"Actualizar Restaurante":"Crear Restaurante"]})}),l.jsx("button",{type:"button",onClick:()=>e("/restaurante/dashboard"),className:"px-6 py-4 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition",children:"Cancelar"})]})]})]})]})]})}function NA(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState([]),[d,h]=N.useState(!0),[f,y]=N.useState(!1),[g,x]=N.useState(null),[b,S]=N.useState(""),[T,A]=N.useState(""),[O,R]=N.useState(""),[M,z]=N.useState(""),[V,k]=N.useState("15"),[Y,ee]=N.useState(!0),[I,Q]=N.useState(!1),[oe,be]=N.useState(!1),[ke,Me]=N.useState(!1);N.useEffect(()=>{if(!n||n.tipo_usuario!=="restaurante"){e("/");return}ze()},[n,e]);const ze=async()=>{if(!n)return;h(!0);const ce=await yA(n.id);r(ce),h(!1)},sn=()=>{x(null),Ot(),y(!0)},rt=ce=>{x(ce),S(ce.nombre),A(ce.descripcion||""),R(ce.precio.toString()),z(ce.imagen_url||""),k(ce.tiempo_preparacion.toString()),ee(ce.disponible),Q(ce.es_vegetariano),be(ce.es_picante),y(!0)},Ot=()=>{S(""),A(""),R(""),z(""),k("15"),ee(!0),Q(!1),be(!1)},$=async ce=>{if(ce.preventDefault(),!!n){Me(!0);try{const le={restaurante_id:n.id,nombre:b,descripcion:T||void 0,precio:parseFloat(O),imagen_url:M||void 0,tiempo_preparacion:parseInt(V),disponible:Y,es_vegetariano:I,es_picante:oe};g?await e_(g.id,le)&&(await ze(),y(!1)):await vA(le)&&(await ze(),y(!1))}catch(le){console.error("Error al guardar platillo:",le)}finally{Me(!1)}}},ae=async ce=>{if(!confirm("Ests seguro de eliminar este platillo?"))return;await xA(ce)&&await ze()},se=async ce=>{await e_(ce.id,{disponible:!ce.disponible})&&await ze()};return d?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando platillos..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>e("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(Jp,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestin de Platillos"}),l.jsxs("p",{className:"text-gray-600",children:[s.length," platillos en total"]})]})]}),l.jsxs("button",{onClick:sn,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold px-6 py-3 rounded-xl hover:from-orange-600 hover:to-red-700 transition flex items-center shadow-lg",children:[l.jsx(rA,{className:"mr-2"}),"Nuevo Platillo"]})]}),s.length===0?l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[l.jsx(pr,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No hay platillos"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando platillos a tu men"}),l.jsx("button",{onClick:sn,className:"bg-orange-500 text-white px-6 py-3 rounded-xl font-semibold hover:bg-orange-600 transition",children:"Agregar Primer Platillo"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(ce=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition",children:[l.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-orange-100 to-red-100",children:[ce.imagen_url?l.jsx("img",{src:ce.imagen_url,alt:ce.nombre,className:"w-full h-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(pr,{className:"text-6xl text-orange-300"})}),l.jsx("div",{className:"absolute top-3 right-3",children:l.jsxs("button",{onClick:()=>se(ce),className:`px-3 py-1 rounded-full text-sm font-semibold ${ce.disponible?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:[ce.disponible?l.jsx(sA,{className:"inline mr-1"}):l.jsx(iA,{className:"inline mr-1"}),ce.disponible?"Disponible":"No disponible"]})}),l.jsxs("div",{className:"absolute bottom-3 left-3 flex space-x-2",children:[ce.es_vegetariano&&l.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold",children:" Vegetariano"}),ce.es_picante&&l.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:" Picante"})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:ce.nombre}),l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:ce.descripcion||"Sin descripcin"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",ce.precio.toFixed(2)]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[" ",ce.tiempo_preparacion," min"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>rt(ce),className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition font-semibold flex items-center justify-center",children:[l.jsx(tA,{className:"mr-2"}),"Editar"]}),l.jsx("button",{onClick:()=>ae(ce.id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition",children:l.jsx(cA,{})})]})]})]},ce.id))}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:g?"Editar Platillo":"Nuevo Platillo"}),l.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre *"}),l.jsx("input",{type:"text",value:b,onChange:ce=>S(ce.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Ej: Tacos al Pastor"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:T,onChange:ce=>A(ce.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"Describe el platillo..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Precio ($) *"}),l.jsx("input",{type:"number",value:O,onChange:ce=>R(ce.target.value),required:!0,min:"0",step:"0.01",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"0.00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tiempo Preparacin (min)"}),l.jsx("input",{type:"number",value:V,onChange:ce=>k(ce.target.value),min:"5",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL de la Imagen"}),l.jsx("input",{type:"url",value:M,onChange:ce=>z(ce.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",placeholder:"https://ejemplo.com/imagen.jpg"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:"Disponible"}),l.jsx("button",{type:"button",onClick:()=>ee(!Y),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${Y?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${Y?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:" Vegetariano"}),l.jsx("button",{type:"button",onClick:()=>Q(!I),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${I?"bg-green-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${I?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsx("label",{className:"font-semibold text-gray-700",children:" Picante"}),l.jsx("button",{type:"button",onClick:()=>be(!oe),className:`relative inline-flex items-center h-6 rounded-full w-11 transition ${oe?"bg-red-500":"bg-gray-300"}`,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition ${oe?"translate-x-6":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",disabled:ke,className:"flex-1 bg-orange-500 text-white font-bold py-3 rounded-xl hover:bg-orange-600 transition disabled:opacity-50",children:ke?"Guardando...":g?"Actualizar":"Crear"}),l.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-300 transition",children:"Cancelar"})]})]})]})})]})]})}function CA(){const{usuario:n}=Rt(),e=at(),[s,r]=N.useState([]),[d,h]=N.useState(!0),[f,y]=N.useState("todos"),[g,x]=N.useState(null),[b,S]=N.useState([]),[T,A]=N.useState(!1),[O,R]=N.useState(!1);N.useEffect(()=>{if(!n||n.tipo_usuario!=="restaurante"){e("/");return}M();const I=wA(n.id,Q=>{r(Q)});return()=>{I()}},[n,e]);const M=async()=>{if(!n)return;h(!0);const I=await O1(n.id);r(I),h(!1)},z=async I=>{x(I),A(!0);const Q=await _A(I.id);S(Q)},V=async(I,Q)=>{R(!0),await bA(I,Q)&&(await M(),A(!1)),R(!1)},k=s.filter(I=>f==="todos"?!0:f==="activos"?["pendiente","confirmado","en_preparacion","listo"].includes(I.estado):I.estado===f),Y=I=>{switch(I){case"pendiente":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"confirmado":return"bg-blue-100 text-blue-700 border-blue-300";case"en_preparacion":return"bg-orange-100 text-orange-700 border-orange-300";case"listo":return"bg-purple-100 text-purple-700 border-purple-300";case"en_camino":return"bg-indigo-100 text-indigo-700 border-indigo-300";case"entregado":return"bg-green-100 text-green-700 border-green-300";case"cancelado":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},ee=I=>{switch(I){case"pendiente":return" Pendiente";case"confirmado":return" Confirmado";case"en_preparacion":return" En Preparacin";case"listo":return" Listo";case"en_camino":return" En Camino";case"entregado":return" Entregado";case"cancelado":return" Cancelado";default:return I}};return d?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100",children:[l.jsx(Ke,{}),l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando pedidos..."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 pb-20",children:[l.jsx(Ke,{}),l.jsxs("div",{className:"container mx-auto px-4 py-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>e("/restaurante/dashboard"),className:"mr-4 bg-white p-3 rounded-full shadow-lg hover:shadow-xl transition",children:l.jsx(Jp,{className:"text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pedidos del Restaurante"}),l.jsxs("p",{className:"text-gray-600",children:[k.length," pedidos"]})]})]})}),l.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>y("todos"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="todos"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Todos (",s.length,")"]}),l.jsxs("button",{onClick:()=>y("activos"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="activos"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Activos (",s.filter(I=>["pendiente","confirmado","en_preparacion","listo"].includes(I.estado)).length,")"]}),l.jsxs("button",{onClick:()=>y("pendiente"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="pendiente"?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Pendientes (",s.filter(I=>I.estado==="pendiente").length,")"]}),l.jsxs("button",{onClick:()=>y("en_preparacion"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="en_preparacion"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["En Preparacin (",s.filter(I=>I.estado==="en_preparacion").length,")"]}),l.jsxs("button",{onClick:()=>y("listo"),className:`px-4 py-2 rounded-xl font-semibold transition ${f==="listo"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Listos (",s.filter(I=>I.estado==="listo").length,")"]})]})}),k.length===0?l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[l.jsx(pr,{className:"text-6xl text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No hay pedidos"}),l.jsx("p",{className:"text-gray-600",children:"No se encontraron pedidos con este filtro"})]}):l.jsx("div",{className:"space-y-4",children:k.map(I=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition cursor-pointer",onClick:()=>z(I),children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:I.numero_pedido}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[l.jsx(gr,{className:"mr-2"}),new Date(I.creado_en).toLocaleString()]})]}),l.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold border-2 ${Y(I.estado)}`,children:ee(I.estado)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(uA,{className:"mr-3 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Cliente"}),l.jsx("p",{className:"font-semibold",children:I.cliente_nombre||"N/A"})]})]}),l.jsxs("div",{className:"flex items-center text-gray-700",children:[l.jsx(aA,{className:"mr-3 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Telfono"}),l.jsx("p",{className:"font-semibold",children:I.cliente_telefono||"N/A"})]})]})]}),l.jsxs("div",{className:"flex items-start text-gray-700 mb-4",children:[l.jsx(Qm,{className:"mr-3 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Direccin de entrega"}),l.jsx("p",{className:"font-semibold",children:I.direccion_entrega})]})]}),I.notas_cliente&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-semibold",children:"Notas del cliente:"})," ",I.notas_cliente]})}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsxs("span",{className:"text-3xl font-bold text-orange-600",children:["$",I.total.toFixed(2)]}),I.estado==="pendiente"&&l.jsxs("button",{onClick:Q=>{Q.stopPropagation(),V(I.id,"confirmado")},className:"bg-blue-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-blue-600 transition",children:[l.jsx(Jm,{className:"inline mr-2"}),"Confirmar"]}),I.estado==="confirmado"&&l.jsxs("button",{onClick:Q=>{Q.stopPropagation(),V(I.id,"en_preparacion")},className:"bg-orange-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-orange-600 transition",children:[l.jsx(pr,{className:"inline mr-2"}),"Iniciar Preparacin"]}),I.estado==="en_preparacion"&&l.jsxs("button",{onClick:Q=>{Q.stopPropagation(),V(I.id,"listo")},className:"bg-purple-500 text-white px-6 py-2 rounded-xl font-semibold hover:bg-purple-600 transition",children:[l.jsx(Jm,{className:"inline mr-2"}),"Marcar como Listo"]})]})]},I.id))}),T&&g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Detalle del Pedido"}),l.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-2",children:g.numero_pedido}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",g.cliente_nombre]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Telfono:"})," ",g.cliente_telefono]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Direccin:"})," ",g.direccion_entrega]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estado:"})," ",l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Y(g.estado)}`,children:ee(g.estado)})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg mb-3",children:"Productos"}),l.jsx("div",{className:"space-y-2",children:b.map(I=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:I.platillo_nombre||I.bebida_nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",I.cantidad,"  $",I.precio_unitario.toFixed(2)]}),I.notas&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Nota: ",I.notas]})]}),l.jsxs("span",{className:"font-bold text-orange-600",children:["$",I.subtotal.toFixed(2)]})]},I.id))})]}),l.jsx("div",{className:"bg-orange-50 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total"}),l.jsxs("span",{className:"text-3xl font-bold text-orange-600",children:["$",g.total.toFixed(2)]})]})}),l.jsxs("div",{className:"space-y-2 pt-4",children:[g.estado==="pendiente"&&l.jsx("button",{onClick:()=>V(g.id,"confirmado"),disabled:O,className:"w-full bg-blue-500 text-white font-bold py-3 rounded-xl hover:bg-blue-600 transition disabled:opacity-50",children:O?"Procesando...":"Confirmar Pedido"}),g.estado==="confirmado"&&l.jsx("button",{onClick:()=>V(g.id,"en_preparacion"),disabled:O,className:"w-full bg-orange-500 text-white font-bold py-3 rounded-xl hover:bg-orange-600 transition disabled:opacity-50",children:O?"Procesando...":"Iniciar Preparacin"}),g.estado==="en_preparacion"&&l.jsx("button",{onClick:()=>V(g.id,"listo"),disabled:O,className:"w-full bg-purple-500 text-white font-bold py-3 rounded-xl hover:bg-purple-600 transition disabled:opacity-50",children:O?"Procesando...":"Marcar como Listo"}),l.jsx("button",{onClick:()=>A(!1),className:"w-full bg-gray-200 text-gray-700 font-semibold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cerrar"})]})]})]})})]})]})}function yi({children:n}){const{usuario:e}=Rt();return e?l.jsx(l.Fragment,{children:n}):l.jsx(Un,{to:"/",replace:!0})}function AA({children:n}){const{usuario:e}=Rt();if(!e)return l.jsx(l.Fragment,{children:n});switch(e.tipo_usuario){case"repartidor":return l.jsx(Un,{to:"/repartidor/dashboard",replace:!0});case"restaurante":return l.jsx(Un,{to:"/restaurante/dashboard",replace:!0});case"operador":return l.jsx(Un,{to:"/operador/dashboard",replace:!0});case"admin":return l.jsx(Un,{to:"/admin/dashboard",replace:!0});default:return l.jsx(Un,{to:"/home",replace:!0})}}function RA(){return l.jsxs(Q2,{children:[l.jsx(dt,{path:"/",element:l.jsx(AA,{children:l.jsx(vE,{})})}),l.jsx(dt,{path:"/home",element:l.jsx(yi,{children:l.jsx(Q3,{})})}),l.jsx(dt,{path:"/platillos/:categoriaId",element:l.jsx(yi,{children:l.jsx(eC,{})})}),l.jsx(dt,{path:"/categoria/:id",element:l.jsx(yi,{children:l.jsx(tC,{})})}),l.jsx(dt,{path:"/categorias",element:l.jsx(yi,{children:l.jsx(nC,{})})}),l.jsx(dt,{path:"/restaurantes",element:l.jsx(yi,{children:l.jsx(iC,{})})}),l.jsx(dt,{path:"/restaurante/:id",element:l.jsx(yi,{children:l.jsx(sC,{})})}),l.jsx(dt,{path:"/platillo/:id",element:l.jsx(yi,{children:l.jsx(aC,{})})}),l.jsx(dt,{path:"/mi-cuenta",element:l.jsx(yi,{children:l.jsx(rC,{})})}),l.jsx(dt,{path:"/carrito",element:l.jsx(yi,{children:l.jsx(oC,{})})}),l.jsx(dt,{path:"/pedidos",element:l.jsx(yi,{children:l.jsx(lC,{})})}),l.jsx(dt,{path:"/pedido/:pedidoId",element:l.jsx(yi,{children:l.jsx(RC,{})})}),l.jsx(dt,{path:"/repartidor/dashboard",element:l.jsx(pi,{allowedRoles:["repartidor"],children:l.jsx(hA,{})})}),l.jsx(dt,{path:"/repartidor/disponibles",element:l.jsx(pi,{allowedRoles:["repartidor"],children:l.jsx(BC,{})})}),l.jsx(dt,{path:"/repartidor/mis-pedidos",element:l.jsx(pi,{allowedRoles:["repartidor"],children:l.jsx(UC,{})})}),l.jsx(dt,{path:"/repartidor/entrega/:pedidoId",element:l.jsx(pi,{allowedRoles:["repartidor"],children:l.jsx(VC,{})})}),l.jsx(dt,{path:"/repartidor/perfil",element:l.jsx(pi,{allowedRoles:["repartidor"],children:l.jsx(IC,{})})}),l.jsx(dt,{path:"/restaurante/dashboard",element:l.jsx(pi,{allowedRoles:["restaurante"],children:l.jsx(SA,{})})}),l.jsx(dt,{path:"/restaurante/gestion",element:l.jsx(pi,{allowedRoles:["restaurante"],children:l.jsx(EA,{})})}),l.jsx(dt,{path:"/restaurante/platillos",element:l.jsx(pi,{allowedRoles:["restaurante"],children:l.jsx(NA,{})})}),l.jsx(dt,{path:"/restaurante/pedidos",element:l.jsx(pi,{allowedRoles:["restaurante"],children:l.jsx(CA,{})})}),l.jsx(dt,{path:"/operador/dashboard",element:l.jsx(pi,{allowedRoles:["operador"],children:l.jsx(jA,{})})}),l.jsx(dt,{path:"/admin/dashboard",element:l.jsx(pi,{allowedRoles:["admin"],children:l.jsx(TA,{})})}),l.jsx(dt,{path:"*",element:l.jsx(Un,{to:"/",replace:!0})})]})}function OA(){return l.jsx(SS,{children:l.jsx(PS,{children:l.jsx(zS,{children:l.jsx(RA,{})})})})}n2.createRoot(document.getElementById("root")).render(l.jsx(N.StrictMode,{children:l.jsx(OA,{})}));
