(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();function A0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bf={exports:{}},Dl={};var Av;function dS(){if(Av)return Dl;Av=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,c,h){var d=null;if(h!==void 0&&(d=""+h),c.key!==void 0&&(d=""+c.key),"key"in c){h={};for(var g in c)g!=="key"&&(h[g]=c[g])}else h=c;return c=h.ref,{$$typeof:n,type:r,key:d,ref:c!==void 0?c:null,props:h}}return Dl.Fragment=e,Dl.jsx=s,Dl.jsxs=s,Dl}var Cv;function fS(){return Cv||(Cv=1,bf.exports=dS()),bf.exports}var _=fS(),xf={exports:{}},Ct={};var jv;function mS(){if(jv)return Ct;jv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function j(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,D={};function B(z,Y,at){this.props=z,this.context=Y,this.refs=D,this.updater=at||k}B.prototype.isReactComponent={},B.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function I(){}I.prototype=B.prototype;function N(z,Y,at){this.props=z,this.context=Y,this.refs=D,this.updater=at||k}var J=N.prototype=new I;J.constructor=N,O(J,B.prototype),J.isPureReactComponent=!0;var et=Array.isArray;function st(){}var rt={H:null,A:null,T:null,S:null},dt=Object.prototype.hasOwnProperty;function Tt(z,Y,at){var ot=at.ref;return{$$typeof:n,type:z,key:Y,ref:ot!==void 0?ot:null,props:at}}function Wt(z,Y){return Tt(z.type,Y,z.props)}function Vt(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function $t(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(at){return Y[at]})}var Qn=/\/+/g;function pe(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?$t(""+z.key):Y.toString(36)}function Xe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(st,st):(z.status="pending",z.then(function(Y){z.status==="pending"&&(z.status="fulfilled",z.value=Y)},function(Y){z.status==="pending"&&(z.status="rejected",z.reason=Y)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function F(z,Y,at,ot,ht){var ct=typeof z;(ct==="undefined"||ct==="boolean")&&(z=null);var Lt=!1;if(z===null)Lt=!0;else switch(ct){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(z.$$typeof){case n:case e:Lt=!0;break;case x:return Lt=z._init,F(Lt(z._payload),Y,at,ot,ht)}}if(Lt)return ht=ht(z),Lt=ot===""?"."+pe(z,0):ot,et(ht)?(at="",Lt!=null&&(at=Lt.replace(Qn,"$&/")+"/"),F(ht,Y,at,"",function(zi){return zi})):ht!=null&&(Vt(ht)&&(ht=Wt(ht,at+(ht.key==null||z&&z.key===ht.key?"":(""+ht.key).replace(Qn,"$&/")+"/")+Lt)),Y.push(ht)),1;Lt=0;var re=ot===""?".":ot+":";if(et(z))for(var oe=0;oe<z.length;oe++)ot=z[oe],ct=re+pe(ot,oe),Lt+=F(ot,Y,at,ct,ht);else if(oe=j(z),typeof oe=="function")for(z=oe.call(z),oe=0;!(ot=z.next()).done;)ot=ot.value,ct=re+pe(ot,oe++),Lt+=F(ot,Y,at,ct,ht);else if(ct==="object"){if(typeof z.then=="function")return F(Xe(z),Y,at,ot,ht);throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function it(z,Y,at){if(z==null)return z;var ot=[],ht=0;return F(z,ot,"","",function(ct){return Y.call(at,ct,ht++)}),ot}function nt(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(at){(z._status===0||z._status===-1)&&(z._status=1,z._result=at)},function(at){(z._status===0||z._status===-1)&&(z._status=2,z._result=at)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var kt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ut={map:it,forEach:function(z,Y,at){it(z,function(){Y.apply(this,arguments)},at)},count:function(z){var Y=0;return it(z,function(){Y++}),Y},toArray:function(z){return it(z,function(Y){return Y})||[]},only:function(z){if(!Vt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ct.Activity=T,Ct.Children=ut,Ct.Component=B,Ct.Fragment=s,Ct.Profiler=c,Ct.PureComponent=N,Ct.StrictMode=r,Ct.Suspense=y,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(z){return rt.H.useMemoCache(z)}},Ct.cache=function(z){return function(){return z.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(z,Y,at){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ot=O({},z.props),ht=z.key;if(Y!=null)for(ct in Y.key!==void 0&&(ht=""+Y.key),Y)!dt.call(Y,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&Y.ref===void 0||(ot[ct]=Y[ct]);var ct=arguments.length-2;if(ct===1)ot.children=at;else if(1<ct){for(var Lt=Array(ct),re=0;re<ct;re++)Lt[re]=arguments[re+2];ot.children=Lt}return Tt(z.type,ht,ot)},Ct.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},Ct.createElement=function(z,Y,at){var ot,ht={},ct=null;if(Y!=null)for(ot in Y.key!==void 0&&(ct=""+Y.key),Y)dt.call(Y,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(ht[ot]=Y[ot]);var Lt=arguments.length-2;if(Lt===1)ht.children=at;else if(1<Lt){for(var re=Array(Lt),oe=0;oe<Lt;oe++)re[oe]=arguments[oe+2];ht.children=re}if(z&&z.defaultProps)for(ot in Lt=z.defaultProps,Lt)ht[ot]===void 0&&(ht[ot]=Lt[ot]);return Tt(z,ct,ht)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(z){return{$$typeof:g,render:z}},Ct.isValidElement=Vt,Ct.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:nt}},Ct.memo=function(z,Y){return{$$typeof:v,type:z,compare:Y===void 0?null:Y}},Ct.startTransition=function(z){var Y=rt.T,at={};rt.T=at;try{var ot=z(),ht=rt.S;ht!==null&&ht(at,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(st,kt)}catch(ct){kt(ct)}finally{Y!==null&&at.types!==null&&(Y.types=at.types),rt.T=Y}},Ct.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Ct.use=function(z){return rt.H.use(z)},Ct.useActionState=function(z,Y,at){return rt.H.useActionState(z,Y,at)},Ct.useCallback=function(z,Y){return rt.H.useCallback(z,Y)},Ct.useContext=function(z){return rt.H.useContext(z)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(z,Y){return rt.H.useDeferredValue(z,Y)},Ct.useEffect=function(z,Y){return rt.H.useEffect(z,Y)},Ct.useEffectEvent=function(z){return rt.H.useEffectEvent(z)},Ct.useId=function(){return rt.H.useId()},Ct.useImperativeHandle=function(z,Y,at){return rt.H.useImperativeHandle(z,Y,at)},Ct.useInsertionEffect=function(z,Y){return rt.H.useInsertionEffect(z,Y)},Ct.useLayoutEffect=function(z,Y){return rt.H.useLayoutEffect(z,Y)},Ct.useMemo=function(z,Y){return rt.H.useMemo(z,Y)},Ct.useOptimistic=function(z,Y){return rt.H.useOptimistic(z,Y)},Ct.useReducer=function(z,Y,at){return rt.H.useReducer(z,Y,at)},Ct.useRef=function(z){return rt.H.useRef(z)},Ct.useState=function(z){return rt.H.useState(z)},Ct.useSyncExternalStore=function(z,Y,at){return rt.H.useSyncExternalStore(z,Y,at)},Ct.useTransition=function(){return rt.H.useTransition()},Ct.version="19.2.3",Ct}var Rv;function Dm(){return Rv||(Rv=1,xf.exports=mS()),xf.exports}var R=Dm();const Qf=A0(R);var wf={exports:{}},Pl={},Sf={exports:{}},Tf={};var Ov;function pS(){return Ov||(Ov=1,(function(n){function e(F,it){var nt=F.length;F.push(it);t:for(;0<nt;){var kt=nt-1>>>1,ut=F[kt];if(0<c(ut,it))F[kt]=it,F[nt]=ut,nt=kt;else break t}}function s(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var it=F[0],nt=F.pop();if(nt!==it){F[0]=nt;t:for(var kt=0,ut=F.length,z=ut>>>1;kt<z;){var Y=2*(kt+1)-1,at=F[Y],ot=Y+1,ht=F[ot];if(0>c(at,nt))ot<ut&&0>c(ht,at)?(F[kt]=ht,F[ot]=nt,kt=ot):(F[kt]=at,F[Y]=nt,kt=Y);else if(ot<ut&&0>c(ht,nt))F[kt]=ht,F[ot]=nt,kt=ot;else break t}}return it}function c(F,it){var nt=F.sortIndex-it.sortIndex;return nt!==0?nt:F.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();n.unstable_now=function(){return d.now()-g}}var y=[],v=[],x=1,T=null,E=3,j=!1,k=!1,O=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function J(F){for(var it=s(v);it!==null;){if(it.callback===null)r(v);else if(it.startTime<=F)r(v),it.sortIndex=it.expirationTime,e(y,it);else break;it=s(v)}}function et(F){if(O=!1,J(F),!k)if(s(y)!==null)k=!0,st||(st=!0,$t());else{var it=s(v);it!==null&&Xe(et,it.startTime-F)}}var st=!1,rt=-1,dt=5,Tt=-1;function Wt(){return D?!0:!(n.unstable_now()-Tt<dt)}function Vt(){if(D=!1,st){var F=n.unstable_now();Tt=F;var it=!0;try{t:{k=!1,O&&(O=!1,I(rt),rt=-1),j=!0;var nt=E;try{e:{for(J(F),T=s(y);T!==null&&!(T.expirationTime>F&&Wt());){var kt=T.callback;if(typeof kt=="function"){T.callback=null,E=T.priorityLevel;var ut=kt(T.expirationTime<=F);if(F=n.unstable_now(),typeof ut=="function"){T.callback=ut,J(F),it=!0;break e}T===s(y)&&r(y),J(F)}else r(y);T=s(y)}if(T!==null)it=!0;else{var z=s(v);z!==null&&Xe(et,z.startTime-F),it=!1}}break t}finally{T=null,E=nt,j=!1}it=void 0}}finally{it?$t():st=!1}}}var $t;if(typeof N=="function")$t=function(){N(Vt)};else if(typeof MessageChannel<"u"){var Qn=new MessageChannel,pe=Qn.port2;Qn.port1.onmessage=Vt,$t=function(){pe.postMessage(null)}}else $t=function(){B(Vt,0)};function Xe(F,it){rt=B(function(){F(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):dt=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(F){switch(E){case 1:case 2:case 3:var it=3;break;default:it=E}var nt=E;E=it;try{return F()}finally{E=nt}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var nt=E;E=F;try{return it()}finally{E=nt}},n.unstable_scheduleCallback=function(F,it,nt){var kt=n.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?kt+nt:kt):nt=kt,F){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=nt+ut,F={id:x++,callback:it,priorityLevel:F,startTime:nt,expirationTime:ut,sortIndex:-1},nt>kt?(F.sortIndex=nt,e(v,F),s(y)===null&&F===s(v)&&(O?(I(rt),rt=-1):O=!0,Xe(et,nt-kt))):(F.sortIndex=ut,e(y,F),k||j||(k=!0,st||(st=!0,$t()))),F},n.unstable_shouldYield=Wt,n.unstable_wrapCallback=function(F){var it=E;return function(){var nt=E;E=it;try{return F.apply(this,arguments)}finally{E=nt}}}})(Tf)),Tf}var Lv;function gS(){return Lv||(Lv=1,Sf.exports=pS()),Sf.exports}var Ef={exports:{}},tn={};var kv;function yS(){if(kv)return tn;kv=1;var n=Dm();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(y,v,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:y,containerInfo:v,implementation:x}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(y,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(y,v,null,x)},tn.flushSync=function(y){var v=d.T,x=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=x,r.d.f()}},tn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},tn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},tn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var x=v.as,T=g(x,v.crossOrigin),E=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:j}):x==="script"&&r.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},tn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=g(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},tn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,T=g(x,v.crossOrigin);r.d.L(y,x,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},tn.preloadModule=function(y,v){if(typeof y=="string")if(v){var x=g(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},tn.requestFormReset=function(y){r.d.r(y)},tn.unstable_batchedUpdates=function(y,v){return y(v)},tn.useFormState=function(y,v,x){return d.H.useFormState(y,v,x)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var Mv;function C0(){if(Mv)return Ef.exports;Mv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ef.exports=yS(),Ef.exports}var Nv;function vS(){if(Nv)return Pl;Nv=1;var n=gS(),e=Dm(),s=C0();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(r(188))}function v(t){var i=t.alternate;if(!i){if(i=h(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,u=i;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return y(m),t;if(p===u)return y(m),i;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=p;else{for(var S=!1,C=m.child;C;){if(C===o){S=!0,o=m,u=p;break}if(C===u){S=!0,u=m,o=p;break}C=C.sibling}if(!S){for(C=p.child;C;){if(C===o){S=!0,o=p,u=m;break}if(C===u){S=!0,u=p,o=m;break}C=C.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Tt=Symbol.for("react.activity"),Wt=Symbol.for("react.memo_cache_sentinel"),Vt=Symbol.iterator;function $t(t){return t===null||typeof t!="object"?null:(t=Vt&&t[Vt]||t["@@iterator"],typeof t=="function"?t:null)}var Qn=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Qn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case B:return"Profiler";case D:return"StrictMode";case et:return"Suspense";case st:return"SuspenseList";case Tt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case N:return t.displayName||"Context";case I:return(t._context.displayName||"Context")+".Consumer";case J:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rt:return i=t.displayName||null,i!==null?i:pe(t.type)||"Memo";case dt:i=t._payload,t=t._init;try{return pe(t(i))}catch{}}return null}var Xe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},kt=[],ut=-1;function z(t){return{current:t}}function Y(t){0>ut||(t.current=kt[ut],kt[ut]=null,ut--)}function at(t,i){ut++,kt[ut]=t.current,t.current=i}var ot=z(null),ht=z(null),ct=z(null),Lt=z(null);function re(t,i){switch(at(ct,i),at(ht,t),at(ot,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Yy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Yy(i),t=Wy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ot),at(ot,t)}function oe(){Y(ot),Y(ht),Y(ct)}function zi(t){t.memoizedState!==null&&at(Lt,t);var i=ot.current,o=Wy(i,t.type);i!==o&&(at(ht,t),at(ot,o))}function vs(t){ht.current===t&&(Y(ot),Y(ht)),Lt.current===t&&(Y(Lt),Ll._currentValue=nt)}var Bi,cr;function Ui(t){if(Bi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Bi=i&&i[1]||"",cr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+t+cr}var hr=!1;function dr(t,i){if(!t||hr)return"";hr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var $=K}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(K){$=K}t.call(tt.prototype)}}else{try{throw Error()}catch(K){$=K}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],C=p[1];if(S&&C){var P=S.split(`
`),Z=C.split(`
`);for(m=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(u===P.length||m===Z.length)for(u=P.length-1,m=Z.length-1;1<=u&&0<=m&&P[u]!==Z[m];)m--;for(;1<=u&&0<=m;u--,m--)if(P[u]!==Z[m]){if(u!==1||m!==1)do if(u--,m--,0>m||P[u]!==Z[m]){var W=`
`+P[u].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=u&&0<=m);break}}}finally{hr=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Ui(o):""}function Ro(t,i){switch(t.tag){case 26:case 27:case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return t.child!==i&&i!==null?Ui("Suspense Fallback"):Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return Ui("Activity");default:return""}}function ua(t){try{var i="",o=null;do i+=Ro(t,o),o=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Oo=Object.prototype.hasOwnProperty,fr=n.unstable_scheduleCallback,ca=n.unstable_cancelCallback,mu=n.unstable_shouldYield,pu=n.unstable_requestPaint,nn=n.unstable_now,xh=n.unstable_getCurrentPriorityLevel,mr=n.unstable_ImmediatePriority,Lo=n.unstable_UserBlockingPriority,ha=n.unstable_NormalPriority,wh=n.unstable_LowPriority,ko=n.unstable_IdlePriority,gu=n.log,Sh=n.unstable_setDisableYieldValue,_s=null,qe=null;function ti(t){if(typeof gu=="function"&&Sh(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(_s,t)}catch{}}var sn=Math.clz32?Math.clz32:Eh,da=Math.log,Th=Math.LN2;function Eh(t){return t>>>=0,t===0?32:31-(da(t)/Th|0)|0}var fa=256,ma=262144,pa=4194304;function Vi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pr(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var m=0,p=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var C=u&134217727;return C!==0?(u=C&~p,u!==0?m=Vi(u):(S&=C,S!==0?m=Vi(S):o||(o=C&~t,o!==0&&(m=Vi(o))))):(C=u&~p,C!==0?m=Vi(C):S!==0?m=Vi(S):o||(o=u&~t,o!==0&&(m=Vi(o)))),m===0?0:i!==0&&i!==m&&(i&p)===0&&(p=m&-m,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:m}function ga(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ah(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=pa;return pa<<=1,(pa&62914560)===0&&(pa=4194304),t}function Mo(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function Ii(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ch(t,i,o,u,m,p){var S=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var C=t.entanglements,P=t.expirationTimes,Z=t.hiddenUpdates;for(o=S&~o;0<o;){var W=31-sn(o),tt=1<<W;C[W]=0,P[W]=-1;var $=Z[W];if($!==null)for(Z[W]=null,W=0;W<$.length;W++){var K=$[W];K!==null&&(K.lane&=-536870913)}o&=~tt}u!==0&&vu(t,u,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(S&~i))}function vu(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-sn(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function _u(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-sn(o),m=1<<u;m&i|t[u]&i&&(t[u]|=i),o&=~m}}function bu(t,i){var o=i&-i;return o=(o&42)!==0?1:cn(o),(o&(t.suspendedLanes|i))!==0?0:o}function cn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function No(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:_v(t.type))}function Do(t,i){var o=it.p;try{return it.p=t,i()}finally{it.p=o}}var ei=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ei,Be="__reactProps$"+ei,Hi="__reactContainer$"+ei,vi="__reactEvents$"+ei,xu="__reactListeners$"+ei,jh="__reactHandles$"+ei,wu="__reactResources$"+ei,ya="__reactMarker$"+ei;function Po(t){delete t[Ee],delete t[Be],delete t[vi],delete t[xu],delete t[jh]}function qi(t){var i=t[Ee];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Hi]||o[Ee]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=iv(t);t!==null;){if(o=t[Ee])return o;t=iv(t)}return i}t=o,o=t.parentNode}return null}function bs(t){if(t=t[Ee]||t[Hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _i(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function xs(t){var i=t[wu];return i||(i=t[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(t){t[ya]=!0}var Su=new Set,Tu={};function Zi(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Tu[t]=i,t=0;t<i.length;t++)Su.add(i[t])}var va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function _a(t){return Oo.call(Bo,t)?!0:Oo.call(zo,t)?!1:va.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function Mt(t,i,o){if(_a(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function Xt(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function hn(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function At(t){if(!t._valueTracker){var i=Gi(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function le(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Gi(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gr=/[\n"\\]/g;function se(t){return t.replace(gr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vo(t,i,o,u,m,p,S,C){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Me(i)):t.value!==""+Me(i)&&(t.value=""+Me(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?ni(t,S,Me(i)):o!=null?ni(t,S,Me(o)):u!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Me(C):t.removeAttribute("name")}function ba(t,i,o,u,m,p,S,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){At(t);return}o=o!=null?""+Me(o):"",i=i!=null?""+Me(i):o,C||i===t.value||(t.value=i),t.defaultValue=i}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=C?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),At(t)}function ni(t,i,o){i==="number"&&ws(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ee(t,i,o,u){if(t=t.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<t.length;o++)m=i.hasOwnProperty("$"+t[o].value),t[o].selected!==m&&(t[o].selected=m),m&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),i=null,m=0;m<t.length;m++){if(t[m].value===o){t[m].selected=!0,u&&(t[m].defaultSelected=!0);return}i!==null||t[m].disabled||(i=t[m])}i!==null&&(i.selected=!0)}}function xi(t,i,o){if(i!=null&&(i=""+Me(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Me(o):""}function Ss(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(Xe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Me(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),At(t)}function Bn(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ts(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||Io.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function yr(t,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var m in i)u=i[m],i.hasOwnProperty(m)&&o[m]!==u&&Ts(t,m,u)}else for(var p in i)i.hasOwnProperty(p)&&Ts(t,p,i[p])}function xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(t){return Ho.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function dn(){}var _r=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,wt=null;function Tn(t){var i=bs(t);if(i&&(t=i.stateNode)){var o=t[Be]||null;t:switch(t=i.stateNode,i.type){case"input":if(Vo(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+se(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var m=u[Be]||null;if(!m)throw Error(r(90));Vo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&le(u)}break t;case"textarea":xi(t,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ee(t,!!o.multiple,i,!1)}}}var Kt=!1;function qo(t,i,o){if(Kt)return t(i,o);Kt=!0;try{var u=t(i);return u}finally{if(Kt=!1,(As!==null||wt!==null)&&(bc(),As&&(i=As,t=wt,wt=As=null,Tn(i),t)))for(i=0;i<t.length;i++)Tn(t[i])}}function $i(t,i){var o=t.stateNode;if(o===null)return null;var u=o[Be]||null;if(u===null)return null;o=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=!1;if(En)try{var An={};Object.defineProperty(An,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{Sa=!1}var Un=null,Ki=null,ge=null;function wi(){if(ge)return ge;var t,i=Ki,o=i.length,u,m="value"in Un?Un.value:Un.textContent,p=m.length;for(t=0;t<o&&i[t]===m[t];t++);var S=o-t;for(u=1;u<=S&&i[o-u]===m[p-u];u++);return ge=m.slice(t,1<u?1-u:void 0)}function Ta(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ea(){return!0}function Eu(){return!1}function Ze(t){function i(o,u,m,p,S){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ea:Eu,this.isPropagationStopped=Eu,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Ze(ii),Cs=T({},ii,{view:0,detail:0}),zt=Ze(Cs),Zo,an,si,Aa=T({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(Zo=t.screenX-si.screenX,an=t.screenY-si.screenY):an=Zo=0,si=t),Zo)},movementY:function(t){return"movementY"in t?t.movementY:an}}),Au=Ze(Aa),Go=T({},Aa,{dataTransfer:0}),Rh=Ze(Go),Cu=T({},Cs,{relatedTarget:0}),$o=Ze(Cu),Oh=T({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Ze(Oh),Lh=T({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vn=Ze(Lh),kh=T({},ii,{data:0}),Fo=Ze(kh),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ru[t])?!!i[t]:!1}function Wo(){return Yo}var Ou=T({},Cs,{key:function(t){if(t.key){var i=Si[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Ze(Ou),Mh=T({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=Ze(Mh),Xo=T({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),Nh=Ze(Xo),Mu=T({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Ze(Mu),xr=T({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fi=Ze(xr),Dh=T({},ii,{newState:0,oldState:0}),Ca=Ze(Dh),fn=[9,13,27,32],wr=En&&"CompositionEvent"in window,js=null;En&&"documentMode"in document&&(js=document.documentMode);var Ph=En&&"TextEvent"in window&&!js,Sr=En&&(!wr||js&&8<js&&11>=js),Tr=" ",Du=!1;function Pu(t,i){switch(t){case"keyup":return fn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function Cn(t,i){switch(t){case"compositionend":return Jo(i);case"keypress":return i.which!==32?null:(Du=!0,Tr);case"textInput":return t=i.data,t===Tr&&Du?null:t;default:return null}}function Os(t,i){if(Rs)return t==="compositionend"||!wr&&Pu(t,i)?(t=wi(),ge=Ki=Un=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Sr&&i.locale!=="ko"?null:i.data;default:return null}}var zh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zh[t.type]:i==="textarea"}function zu(t,i,o,u){As?wt?wt.push(u):wt=[u]:As=u,i=Cc(i,"onChange"),0<i.length&&(o=new br("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var Hn=null,ja=null;function Ra(t){qy(t,0)}function Oa(t){var i=_i(t);if(le(i))return t}function La(t,i){if(t==="change")return i}var Bu=!1;if(En){var qn;if(En){var Ls="oninput"in document;if(!Ls){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),Ls=typeof Uu.oninput=="function"}qn=Ls}else qn=!1;Bu=qn&&(!document.documentMode||9<document.documentMode)}function Er(){Hn&&(Hn.detachEvent("onpropertychange",Vu),ja=Hn=null)}function Vu(t){if(t.propertyName==="value"&&Oa(ja)){var i=[];zu(i,ja,t,wa(t)),qo(Ra,i)}}function ai(t,i,o){t==="focusin"?(Er(),Hn=i,ja=o,Hn.attachEvent("onpropertychange",Vu)):t==="focusout"&&Er()}function Bh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oa(ja)}function ks(t,i){if(t==="click")return Oa(i)}function Uh(t,i){if(t==="input"||t==="change")return Oa(i)}function ri(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ue=typeof Object.is=="function"?Object.is:ri;function Ms(t,i){if(Ue(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Oo.call(i,m)||!Ue(t[m],i[m]))return!1}return!0}function Ar(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ka(t,i){var o=Ar(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Ar(o)}}function Cr(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cr(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ma(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ws(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=ws(t.document)}return i}function Ti(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var jr=En&&"documentMode"in document&&11>=document.documentMode,Ei=null,Rr=null,Na=null,Ns=!1;function Iu(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ns||Ei==null||Ei!==ws(u)||(u=Ei,"selectionStart"in u&&Ti(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Na&&Ms(Na,u)||(Na=u,u=Cc(Rr,"onSelect"),0<u.length&&(i=new br("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Ei)))}function Ai(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Ds={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionrun:Ai("Transition","TransitionRun"),transitionstart:Ai("Transition","TransitionStart"),transitioncancel:Ai("Transition","TransitionCancel"),transitionend:Ai("Transition","TransitionEnd")},Or={},Hu={};En&&(Hu=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ve(t){if(Or[t])return Or[t];if(!Ds[t])return t;var i=Ds[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Hu)return Or[t]=i[o];return t}var Da=Ve("animationend"),qu=Ve("animationiteration"),Pa=Ve("animationstart"),Vh=Ve("transitionrun"),Zu=Ve("transitionstart"),Ih=Ve("transitioncancel"),Ps=Ve("transitionend"),Gu=new Map,Ci="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ci.push("scrollEnd");function mn(t,i){Gu.set(t,i),Zi(i,[t])}var za=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pn=[],Je=0,Lr=0;function Ba(){for(var t=Je,i=Lr=Je=0;i<t;){var o=pn[i];pn[i++]=null;var u=pn[i];pn[i++]=null;var m=pn[i];pn[i++]=null;var p=pn[i];if(pn[i++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}p!==0&&zs(o,m,p)}}function ji(t,i,o,u){pn[Je++]=t,pn[Je++]=i,pn[Je++]=o,pn[Je++]=u,Lr|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Qo(t,i,o,u){return ji(t,i,o,u),Ua(t)}function Zn(t,i){return ji(t,null,null,i),Ua(t)}function zs(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var m=!1,p=t.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&i!==null&&(m=31-sn(o),t=p.hiddenUpdates,u=t[m],u===null?t[m]=[i]:u.push(i),i.lane=o|536870912),p):null}function Ua(t){if(50<Tl)throw Tl=0,qd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Yi={};function Hh(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,i,o,u){return new Hh(t,i,o,u)}function kr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gn(t,i){var o=t.alternate;return o===null?(o=Qe(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function tl(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Va(t,i,o,u,m,p){var S=0;if(u=t,typeof t=="function")kr(t)&&(S=1);else if(typeof t=="string")S=tS(t,o,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Tt:return t=Qe(31,o,i,m),t.elementType=Tt,t.lanes=p,t;case O:return Wi(o.children,m,p,i);case D:S=8,m|=24;break;case B:return t=Qe(12,o,i,m|2),t.elementType=B,t.lanes=p,t;case et:return t=Qe(13,o,i,m),t.elementType=et,t.lanes=p,t;case st:return t=Qe(19,o,i,m),t.elementType=st,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:S=10;break t;case I:S=9;break t;case J:S=11;break t;case rt:S=14;break t;case dt:S=16,u=null;break t}S=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return i=Qe(S,o,i,m),i.elementType=t,i.type=u,i.lanes=p,i}function Wi(t,i,o,u){return t=Qe(7,t,u,i),t.lanes=o,t}function Mr(t,i,o){return t=Qe(6,t,null,i),t.lanes=o,t}function el(t){var i=Qe(18,null,null,0);return i.stateNode=t,i}function nl(t,i,o){return i=Qe(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var a=new WeakMap;function l(t,i){if(typeof t=="object"&&t!==null){var o=a.get(t);return o!==void 0?o:(i={value:t,source:i,stack:ua(i)},a.set(t,i),i)}return{value:t,source:i,stack:ua(i)}}var f=[],b=0,w=null,A=0,M=[],H=0,G=null,Q=1,lt="";function gt(t,i){f[b++]=A,f[b++]=w,w=t,A=i}function Rt(t,i,o){M[H++]=Q,M[H++]=lt,M[H++]=G,G=t;var u=Q;t=lt;var m=32-sn(u)-1;u&=~(1<<m),o+=1;var p=32-sn(i)+m;if(30<p){var S=m-m%5;p=(u&(1<<S)-1).toString(32),u>>=S,m-=S,Q=1<<32-sn(i)+m|o<<m|u,lt=p+t}else Q=1<<p|o<<m|u,lt=t}function Ne(t){t.return!==null&&(gt(t,1),Rt(t,1,0))}function ye(t){for(;t===w;)w=f[--b],f[b]=null,A=f[--b],f[b]=null;for(;t===G;)G=M[--H],M[H]=null,lt=M[--H],M[H]=null,Q=M[--H],M[H]=null}function rn(t,i){M[H++]=Q,M[H++]=lt,M[H++]=G,Q=i.id,lt=i.overflow,G=t}var It=null,Ht=null,Nt=!1,Ri=null,gn=!1,Nr=Error(r(519));function Oi(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ia(l(i,t)),Nr}function il(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[Ee]=t,i[Be]=u,o){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(o=0;o<Al.length;o++)Pt(Al[o],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),ba(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),Ss(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Ky(i.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),u.onScroll!=null&&Pt("scroll",i),u.onScrollEnd!=null&&Pt("scrollend",i),u.onClick!=null&&(i.onclick=dn),i=!0):i=!1,i||Oi(t,!0)}function de(t){for(It=t.return;It;)switch(It.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:It=It.return}}function oi(t){if(t!==It)return!1;if(!Nt)return de(t),Nt=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||af(t.type,t.memoizedProps)),o=!o),o&&Ht&&Oi(t),de(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ht=nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ht=nv(t)}else i===27?(i=Ht,Xs(t.type)?(t=cf,cf=null,Ht=t):Ht=i):Ht=It?Kn(t.stateNode.nextSibling):null;return!0}function Xi(){Ht=It=null,Nt=!1}function sl(){var t=Ri;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Ri=null),t}function Ia(t){Ri===null?Ri=[t]:Ri.push(t)}var Ha=z(null),Li=null,li=null;function Bs(t,i,o){at(Ha,i._currentValue),i._currentValue=o}function Ji(t){t._currentValue=Ha.current,Y(Ha)}function qh(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function Zh(t,i,o,u){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;t:for(;p!==null;){var C=p;p=m;for(var P=0;P<i.length;P++)if(C.context===i[P]){p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),qh(p.return,o,t),u||(S=null);break t}p=C.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),qh(S,o,t),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===t){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Dr(t,i,o,u){t=null;for(var m=i,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var C=m.type;Ue(m.pendingProps.value,S.value)||(t!==null?t.push(C):t=[C])}}else if(m===Lt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}m=m.return}t!==null&&Zh(i,t,o,u),i.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!Ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qa(t){Li=t,li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return kp(Li,t)}function Ku(t,i){return Li===null&&qa(t),kp(t,i)}function kp(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},li===null){if(t===null)throw Error(r(308));li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else li=li.next=i;return o}var Wx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},Xx=n.unstable_scheduleCallback,Jx=n.unstable_NormalPriority,Ce={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new Wx,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&Xx(Jx,function(){t.controller.abort()})}var rl=null,$h=0,Pr=0,zr=null;function Qx(t,i){if(rl===null){var o=rl=[];$h=0,Pr=Yd(),zr={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $h++,i.then(Mp,Mp),i}function Mp(){if(--$h===0&&rl!==null){zr!==null&&(zr.status="fulfilled");var t=rl;rl=null,Pr=0,zr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tw(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Np=F.S;F.S=function(t,i){yy=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Qx(t,i),Np!==null&&Np(t,i)};var Za=z(null);function Kh(){var t=Za.current;return t!==null?t:ne.pooledCache}function Fu(t,i){i===null?at(Za,Za.current):at(Za,i.pool)}function Dp(){var t=Kh();return t===null?null:{parent:Ce._currentValue,pool:t}}var Br=Error(r(460)),Fh=Error(r(474)),Yu=Error(r(542)),Wu={then:function(){}};function Pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zp(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(dn,dn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Up(t),t;default:if(typeof i.status=="string")i.then(dn,dn);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=u}},function(u){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Up(t),t}throw $a=i,Br}}function Ga(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($a=o,Br):o}}var $a=null;function Bp(){if($a===null)throw Error(r(459));var t=$a;return $a=null,t}function Up(t){if(t===Br||t===Yu)throw Error(r(483))}var Ur=null,ol=0;function Xu(t){var i=ol;return ol+=1,Ur===null&&(Ur=[]),zp(Ur,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ju(t,i){throw i.$$typeof===E?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Vp(t){function i(V,U){if(t){var q=V.deletions;q===null?(V.deletions=[U],V.flags|=16):q.push(U)}}function o(V,U){if(!t)return null;for(;U!==null;)i(V,U),U=U.sibling;return null}function u(V){for(var U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function m(V,U){return V=Gn(V,U),V.index=0,V.sibling=null,V}function p(V,U,q){return V.index=q,t?(q=V.alternate,q!==null?(q=q.index,q<U?(V.flags|=67108866,U):q):(V.flags|=67108866,U)):(V.flags|=1048576,U)}function S(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function C(V,U,q,X){return U===null||U.tag!==6?(U=Mr(q,V.mode,X),U.return=V,U):(U=m(U,q),U.return=V,U)}function P(V,U,q,X){var vt=q.type;return vt===O?W(V,U,q.props.children,X,q.key):U!==null&&(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===dt&&Ga(vt)===U.type)?(U=m(U,q.props),ll(U,q),U.return=V,U):(U=Va(q.type,q.key,q.props,null,V.mode,X),ll(U,q),U.return=V,U)}function Z(V,U,q,X){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=nl(q,V.mode,X),U.return=V,U):(U=m(U,q.children||[]),U.return=V,U)}function W(V,U,q,X,vt){return U===null||U.tag!==7?(U=Wi(q,V.mode,X,vt),U.return=V,U):(U=m(U,q),U.return=V,U)}function tt(V,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Mr(""+U,V.mode,q),U.return=V,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return q=Va(U.type,U.key,U.props,null,V.mode,q),ll(q,U),q.return=V,q;case k:return U=nl(U,V.mode,q),U.return=V,U;case dt:return U=Ga(U),tt(V,U,q)}if(Xe(U)||$t(U))return U=Wi(U,V.mode,q,null),U.return=V,U;if(typeof U.then=="function")return tt(V,Xu(U),q);if(U.$$typeof===N)return tt(V,Ku(V,U),q);Ju(V,U)}return null}function $(V,U,q,X){var vt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return vt!==null?null:C(V,U,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===vt?P(V,U,q,X):null;case k:return q.key===vt?Z(V,U,q,X):null;case dt:return q=Ga(q),$(V,U,q,X)}if(Xe(q)||$t(q))return vt!==null?null:W(V,U,q,X,null);if(typeof q.then=="function")return $(V,U,Xu(q),X);if(q.$$typeof===N)return $(V,U,Ku(V,q),X);Ju(V,q)}return null}function K(V,U,q,X,vt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(q)||null,C(U,V,""+X,vt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return V=V.get(X.key===null?q:X.key)||null,P(U,V,X,vt);case k:return V=V.get(X.key===null?q:X.key)||null,Z(U,V,X,vt);case dt:return X=Ga(X),K(V,U,q,X,vt)}if(Xe(X)||$t(X))return V=V.get(q)||null,W(U,V,X,vt,null);if(typeof X.then=="function")return K(V,U,q,Xu(X),vt);if(X.$$typeof===N)return K(V,U,q,Ku(U,X),vt);Ju(U,X)}return null}function ft(V,U,q,X){for(var vt=null,qt=null,mt=U,Ot=U=0,Ut=null;mt!==null&&Ot<q.length;Ot++){mt.index>Ot?(Ut=mt,mt=null):Ut=mt.sibling;var Zt=$(V,mt,q[Ot],X);if(Zt===null){mt===null&&(mt=Ut);break}t&&mt&&Zt.alternate===null&&i(V,mt),U=p(Zt,U,Ot),qt===null?vt=Zt:qt.sibling=Zt,qt=Zt,mt=Ut}if(Ot===q.length)return o(V,mt),Nt&&gt(V,Ot),vt;if(mt===null){for(;Ot<q.length;Ot++)mt=tt(V,q[Ot],X),mt!==null&&(U=p(mt,U,Ot),qt===null?vt=mt:qt.sibling=mt,qt=mt);return Nt&&gt(V,Ot),vt}for(mt=u(mt);Ot<q.length;Ot++)Ut=K(mt,V,Ot,q[Ot],X),Ut!==null&&(t&&Ut.alternate!==null&&mt.delete(Ut.key===null?Ot:Ut.key),U=p(Ut,U,Ot),qt===null?vt=Ut:qt.sibling=Ut,qt=Ut);return t&&mt.forEach(function(na){return i(V,na)}),Nt&&gt(V,Ot),vt}function _t(V,U,q,X){if(q==null)throw Error(r(151));for(var vt=null,qt=null,mt=U,Ot=U=0,Ut=null,Zt=q.next();mt!==null&&!Zt.done;Ot++,Zt=q.next()){mt.index>Ot?(Ut=mt,mt=null):Ut=mt.sibling;var na=$(V,mt,Zt.value,X);if(na===null){mt===null&&(mt=Ut);break}t&&mt&&na.alternate===null&&i(V,mt),U=p(na,U,Ot),qt===null?vt=na:qt.sibling=na,qt=na,mt=Ut}if(Zt.done)return o(V,mt),Nt&&gt(V,Ot),vt;if(mt===null){for(;!Zt.done;Ot++,Zt=q.next())Zt=tt(V,Zt.value,X),Zt!==null&&(U=p(Zt,U,Ot),qt===null?vt=Zt:qt.sibling=Zt,qt=Zt);return Nt&&gt(V,Ot),vt}for(mt=u(mt);!Zt.done;Ot++,Zt=q.next())Zt=K(mt,V,Ot,Zt.value,X),Zt!==null&&(t&&Zt.alternate!==null&&mt.delete(Zt.key===null?Ot:Zt.key),U=p(Zt,U,Ot),qt===null?vt=Zt:qt.sibling=Zt,qt=Zt);return t&&mt.forEach(function(hS){return i(V,hS)}),Nt&&gt(V,Ot),vt}function te(V,U,q,X){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:t:{for(var vt=q.key;U!==null;){if(U.key===vt){if(vt=q.type,vt===O){if(U.tag===7){o(V,U.sibling),X=m(U,q.props.children),X.return=V,V=X;break t}}else if(U.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===dt&&Ga(vt)===U.type){o(V,U.sibling),X=m(U,q.props),ll(X,q),X.return=V,V=X;break t}o(V,U);break}else i(V,U);U=U.sibling}q.type===O?(X=Wi(q.props.children,V.mode,X,q.key),X.return=V,V=X):(X=Va(q.type,q.key,q.props,null,V.mode,X),ll(X,q),X.return=V,V=X)}return S(V);case k:t:{for(vt=q.key;U!==null;){if(U.key===vt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){o(V,U.sibling),X=m(U,q.children||[]),X.return=V,V=X;break t}else{o(V,U);break}else i(V,U);U=U.sibling}X=nl(q,V.mode,X),X.return=V,V=X}return S(V);case dt:return q=Ga(q),te(V,U,q,X)}if(Xe(q))return ft(V,U,q,X);if($t(q)){if(vt=$t(q),typeof vt!="function")throw Error(r(150));return q=vt.call(q),_t(V,U,q,X)}if(typeof q.then=="function")return te(V,U,Xu(q),X);if(q.$$typeof===N)return te(V,U,Ku(V,q),X);Ju(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(o(V,U.sibling),X=m(U,q),X.return=V,V=X):(o(V,U),X=Mr(q,V.mode,X),X.return=V,V=X),S(V)):o(V,U)}return function(V,U,q,X){try{ol=0;var vt=te(V,U,q,X);return Ur=null,vt}catch(mt){if(mt===Br||mt===Yu)throw mt;var qt=Qe(29,mt,null,V.mode);return qt.lanes=X,qt.return=V,qt}}}var Ka=Vp(!0),Ip=Vp(!1),Us=!1;function Yh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var m=u.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i,i=Ua(t),zs(t,null,o),i}return ji(t,u,i,o),Ua(t)}function ul(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,_u(t,o)}}function Xh(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?m=p=i:p=p.next=i}else m=p=i;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Jh=!1;function cl(){if(Jh){var t=zr;if(t!==null)throw t}}function hl(t,i,o,u){Jh=!1;var m=t.updateQueue;Us=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var P=C,Z=P.next;P.next=null,S===null?p=Z:S.next=Z,S=P;var W=t.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==S&&(C===null?W.firstBaseUpdate=Z:C.next=Z,W.lastBaseUpdate=P))}if(p!==null){var tt=m.baseState;S=0,W=Z=P=null,C=p;do{var $=C.lane&-536870913,K=$!==C.lane;if(K?(Bt&$)===$:(u&$)===$){$!==0&&$===Pr&&(Jh=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var ft=t,_t=C;$=i;var te=o;switch(_t.tag){case 1:if(ft=_t.payload,typeof ft=="function"){tt=ft.call(te,tt,$);break t}tt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=_t.payload,$=typeof ft=="function"?ft.call(te,tt,$):ft,$==null)break t;tt=T({},tt,$);break t;case 2:Us=!0}}$=C.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=m.callbacks,K===null?m.callbacks=[$]:K.push($))}else K={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(Z=W=K,P=tt):W=W.next=K,S|=$;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;K=C,C=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);W===null&&(P=tt),m.baseState=P,m.firstBaseUpdate=Z,m.lastBaseUpdate=W,p===null&&(m.shared.lanes=0),$s|=S,t.lanes=S,t.memoizedState=tt}}function Hp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function qp(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Hp(o[t],i)}var Vr=z(null),Qu=z(0);function Zp(t,i){t=os,at(Qu,t),at(Vr,i),os=t|i.baseLanes}function Qh(){at(Qu,os),at(Vr,Vr.current)}function td(){os=Qu.current,Y(Vr),Y(Qu)}var jn=z(null),$n=null;function Hs(t){var i=t.alternate;at(we,we.current&1),at(jn,t),$n===null&&(i===null||Vr.current!==null||i.memoizedState!==null)&&($n=t)}function ed(t){at(we,we.current),at(jn,t),$n===null&&($n=t)}function Gp(t){t.tag===22?(at(we,we.current),at(jn,t),$n===null&&($n=t)):qs()}function qs(){at(we,we.current),at(jn,jn.current)}function Rn(t){Y(jn),$n===t&&($n=null),Y(we)}var we=z(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lf(o)||uf(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,jt=null,Jt=null,je=null,ec=!1,Ir=!1,Fa=!1,nc=0,dl=0,Hr=null,ew=0;function ve(){throw Error(r(321))}function nd(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Ue(t[o],i[o]))return!1;return!0}function id(t,i,o,u,m,p){return Qi=p,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?jg:vd,Fa=!1,p=o(u,m),Fa=!1,Ir&&(p=Kp(i,o,u,m)),$p(t),p}function $p(t){F.H=pl;var i=Jt!==null&&Jt.next!==null;if(Qi=0,je=Jt=jt=null,ec=!1,dl=0,Hr=null,i)throw Error(r(300));t===null||Re||(t=t.dependencies,t!==null&&$u(t)&&(Re=!0))}function Kp(t,i,o,u){jt=t;var m=0;do{if(Ir&&(Hr=null),dl=0,Ir=!1,25<=m)throw Error(r(301));if(m+=1,je=Jt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}F.H=Rg,p=i(o,u)}while(Ir);return p}function nw(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(jt.flags|=1024),i}function sd(){var t=nc!==0;return nc=0,t}function ad(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function rd(t){if(ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ec=!1}Qi=0,je=Jt=jt=null,Ir=!1,dl=nc=0,Hr=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?jt.memoizedState=je=t:je=je.next=t,je}function Se(){if(Jt===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var i=je===null?jt.memoizedState:je.next;if(i!==null)je=i,Jt=t;else{if(t===null)throw jt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},je===null?jt.memoizedState=je=t:je=je.next=t}return je}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=dl;return dl+=1,Hr===null&&(Hr=[]),t=zp(Hr,t,i),i=jt,(je===null?i.memoizedState:je.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?jg:vd),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===N)return Ge(t)}throw Error(r(438,String(t)))}function od(t){var i=null,o=jt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=jt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ic(),jt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=Wt;return i.index++,o}function ts(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=Se();return ld(i,Jt,t)}function ld(t,i,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=t.baseQueue,p=u.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}i.baseQueue=m=p,u.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{i=m.next;var C=S=null,P=null,Z=i,W=!1;do{var tt=Z.lane&-536870913;if(tt!==Z.lane?(Bt&tt)===tt:(Qi&tt)===tt){var $=Z.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),tt===Pr&&(W=!0);else if((Qi&$)===$){Z=Z.next,$===Pr&&(W=!0);continue}else tt={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(C=P=tt,S=p):P=P.next=tt,jt.lanes|=$,$s|=$;tt=Z.action,Fa&&o(p,tt),p=Z.hasEagerState?Z.eagerState:o(p,tt)}else $={lane:tt,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(C=P=$,S=p):P=P.next=$,jt.lanes|=tt,$s|=tt;Z=Z.next}while(Z!==null&&Z!==i);if(P===null?S=p:P.next=C,!Ue(p,t.memoizedState)&&(Re=!0,W&&(o=zr,o!==null)))throw o;t.memoizedState=p,t.baseState=S,t.baseQueue=P,u.lastRenderedState=p}return m===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function ud(t){var i=Se(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,m=o.pending,p=i.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do p=t(p,S.action),S=S.next;while(S!==m);Ue(p,i.memoizedState)||(Re=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function Fp(t,i,o){var u=jt,m=Se(),p=Nt;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=i();var S=!Ue((Jt||m).memoizedState,o);if(S&&(m.memoizedState=o,Re=!0),m=m.queue,dd(Xp.bind(null,u,m,t),[t]),m.getSnapshot!==i||S||je!==null&&je.memoizedState.tag&1){if(u.flags|=2048,qr(9,{destroy:void 0},Wp.bind(null,u,m,o,i),null),ne===null)throw Error(r(349));p||(Qi&127)!==0||Yp(u,i,o)}return o}function Yp(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=jt.updateQueue,i===null?(i=ic(),jt.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Wp(t,i,o,u){i.value=o,i.getSnapshot=u,Jp(i)&&Qp(t)}function Xp(t,i,o){return o(function(){Jp(i)&&Qp(t)})}function Jp(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Ue(t,o)}catch{return!0}}function Qp(t){var i=Zn(t,2);i!==null&&xn(i,t,2)}function cd(t){var i=on();if(typeof t=="function"){var o=t;if(t=o(),Fa){ti(!0);try{o()}finally{ti(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},i}function tg(t,i,o,u){return t.baseState=o,ld(t,Jt,typeof u=="function"?u:ts)}function iw(t,i,o,u,m){if(lc(t))throw Error(r(485));if(t=i.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};F.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,eg(i,p)):(p.next=o.next,i.pending=o.next=p)}}function eg(t,i){var o=i.action,u=i.payload,m=t.state;if(i.isTransition){var p=F.T,S={};F.T=S;try{var C=o(m,u),P=F.S;P!==null&&P(S,C),ng(t,i,C)}catch(Z){hd(t,i,Z)}finally{p!==null&&S.types!==null&&(p.types=S.types),F.T=p}}else try{p=o(m,u),ng(t,i,p)}catch(Z){hd(t,i,Z)}}function ng(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ig(t,i,u)},function(u){return hd(t,i,u)}):ig(t,i,o)}function ig(t,i,o){i.status="fulfilled",i.value=o,sg(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,eg(t,o)))}function hd(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,sg(i),i=i.next;while(i!==u)}t.action=null}function sg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ag(t,i){return i}function rg(t,i){if(Nt){var o=ne.formState;if(o!==null){t:{var u=jt;if(Nt){if(Ht){e:{for(var m=Ht,p=gn;m.nodeType!==8;){if(!p){m=null;break e}if(m=Kn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Ht=Kn(m.nextSibling),u=m.data==="F!";break t}}Oi(u)}u=!1}u&&(i=o[0])}}return o=on(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:i},o.queue=u,o=Eg.bind(null,jt,u),u.dispatch=o,u=cd(!1),p=yd.bind(null,jt,!1,u.queue),u=on(),m={state:i,dispatch:null,action:t,pending:null},u.queue=m,o=iw.bind(null,jt,m,p,o),m.dispatch=o,u.memoizedState=t,[i,o,!1]}function og(t){var i=Se();return lg(i,Jt,t)}function lg(t,i,o){if(i=ld(t,i,ag)[0],t=ac(ts)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=fl(i)}catch(S){throw S===Br?Yu:S}else u=i;i=Se();var m=i.queue,p=m.dispatch;return o!==i.memoizedState&&(jt.flags|=2048,qr(9,{destroy:void 0},sw.bind(null,m,o),null)),[u,p,t]}function sw(t,i){t.action=i}function ug(t){var i=Se(),o=Jt;if(o!==null)return lg(i,o,t);Se(),i=i.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function qr(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=jt.updateQueue,i===null&&(i=ic(),jt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function cg(){return Se().memoizedState}function rc(t,i,o,u){var m=on();jt.flags|=t,m.memoizedState=qr(1|i,{destroy:void 0},o,u===void 0?null:u)}function oc(t,i,o,u){var m=Se();u=u===void 0?null:u;var p=m.memoizedState.inst;Jt!==null&&u!==null&&nd(u,Jt.memoizedState.deps)?m.memoizedState=qr(i,p,o,u):(jt.flags|=t,m.memoizedState=qr(1|i,p,o,u))}function hg(t,i){rc(8390656,8,t,i)}function dd(t,i){oc(2048,8,t,i)}function aw(t){jt.flags|=4;var i=jt.updateQueue;if(i===null)i=ic(),jt.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function dg(t){var i=Se().memoizedState;return aw({ref:i,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function fg(t,i){return oc(4,2,t,i)}function mg(t,i){return oc(4,4,t,i)}function pg(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gg(t,i,o){o=o!=null?o.concat([t]):null,oc(4,4,pg.bind(null,i,t),o)}function fd(){}function yg(t,i){var o=Se();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&nd(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function vg(t,i){var o=Se();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&nd(i,u[1]))return u[0];if(u=t(),Fa){ti(!0);try{t()}finally{ti(!1)}}return o.memoizedState=[u,i],u}function md(t,i,o){return o===void 0||(Qi&1073741824)!==0&&(Bt&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=_y(),jt.lanes|=t,$s|=t,o)}function _g(t,i,o,u){return Ue(o,i)?o:Vr.current!==null?(t=md(t,o,u),Ue(t,i)||(Re=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Bt&261930)===0?(Re=!0,t.memoizedState=o):(t=_y(),jt.lanes|=t,$s|=t,i)}function bg(t,i,o,u,m){var p=it.p;it.p=p!==0&&8>p?p:8;var S=F.T,C={};F.T=C,yd(t,!1,i,o);try{var P=m(),Z=F.S;if(Z!==null&&Z(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=tw(P,u);ml(t,i,W,kn(t))}else ml(t,i,u,kn(t))}catch(tt){ml(t,i,{then:function(){},status:"rejected",reason:tt},kn())}finally{it.p=p,S!==null&&C.types!==null&&(S.types=C.types),F.T=S}}function rw(){}function pd(t,i,o,u){if(t.tag!==5)throw Error(r(476));var m=xg(t).queue;bg(t,m,i,nt,o===null?rw:function(){return wg(t),o(u)})}function xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:nt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wg(t){var i=xg(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},kn())}function gd(){return Ge(Ll)}function Sg(){return Se().memoizedState}function Tg(){return Se().memoizedState}function ow(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=kn();t=Vs(o);var u=Is(i,t,o);u!==null&&(xn(u,i,o),ul(u,i,o)),i={cache:Gh()},t.payload=i;return}i=i.return}}function lw(t,i,o){var u=kn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)?Ag(i,o):(o=Qo(t,i,o,u),o!==null&&(xn(o,t,u),Cg(o,i,u)))}function Eg(t,i,o){var u=kn();ml(t,i,o,u)}function ml(t,i,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(lc(t))Ag(i,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var S=i.lastRenderedState,C=p(S,o);if(m.hasEagerState=!0,m.eagerState=C,Ue(C,S))return ji(t,i,m,0),ne===null&&Ba(),!1}catch{}if(o=Qo(t,i,m,u),o!==null)return xn(o,t,u),Cg(o,i,u),!0}return!1}function yd(t,i,o,u){if(u={lane:2,revertLane:Yd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(r(479))}else i=Qo(t,o,u,2),i!==null&&xn(i,t,2)}function lc(t){var i=t.alternate;return t===jt||i!==null&&i===jt}function Ag(t,i){Ir=ec=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Cg(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,_u(t,o)}}var pl={readContext:Ge,use:sc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};pl.useEffectEvent=ve;var jg={readContext:Ge,use:sc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Ge,useEffect:hg,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,rc(4194308,4,pg.bind(null,i,t),o)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var o=on();i=i===void 0?null:i;var u=t();if(Fa){ti(!0);try{t()}finally{ti(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=on();if(o!==void 0){var m=o(i);if(Fa){ti(!0);try{o(i)}finally{ti(!1)}}}else m=i;return u.memoizedState=u.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},u.queue=t,t=t.dispatch=lw.bind(null,jt,t),[u.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=cd(t);var i=t.queue,o=Eg.bind(null,jt,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:fd,useDeferredValue:function(t,i){var o=on();return md(o,t,i)},useTransition:function(){var t=cd(!1);return t=bg.bind(null,jt,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=jt,m=on();if(Nt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),ne===null)throw Error(r(349));(Bt&127)!==0||Yp(u,i,o)}m.memoizedState=o;var p={value:o,getSnapshot:i};return m.queue=p,hg(Xp.bind(null,u,p,t),[t]),u.flags|=2048,qr(9,{destroy:void 0},Wp.bind(null,u,p,o,i),null),o},useId:function(){var t=on(),i=ne.identifierPrefix;if(Nt){var o=lt,u=Q;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=nc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=ew++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:gd,useFormState:rg,useActionState:rg,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=yd.bind(null,jt,!0,o),o.dispatch=i,[t,i]},useMemoCache:od,useCacheRefresh:function(){return on().memoizedState=ow.bind(null,jt)},useEffectEvent:function(t){var i=on(),o={impl:t};return i.memoizedState=o,function(){if((Gt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},vd={readContext:Ge,use:sc,useCallback:yg,useContext:Ge,useEffect:dd,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:mg,useMemo:vg,useReducer:ac,useRef:cg,useState:function(){return ac(ts)},useDebugValue:fd,useDeferredValue:function(t,i){var o=Se();return _g(o,Jt.memoizedState,t,i)},useTransition:function(){var t=ac(ts)[0],i=Se().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Fp,useId:Sg,useHostTransitionStatus:gd,useFormState:og,useActionState:og,useOptimistic:function(t,i){var o=Se();return tg(o,Jt,t,i)},useMemoCache:od,useCacheRefresh:Tg};vd.useEffectEvent=dg;var Rg={readContext:Ge,use:sc,useCallback:yg,useContext:Ge,useEffect:dd,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:mg,useMemo:vg,useReducer:ud,useRef:cg,useState:function(){return ud(ts)},useDebugValue:fd,useDeferredValue:function(t,i){var o=Se();return Jt===null?md(o,t,i):_g(o,Jt.memoizedState,t,i)},useTransition:function(){var t=ud(ts)[0],i=Se().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Fp,useId:Sg,useHostTransitionStatus:gd,useFormState:ug,useActionState:ug,useOptimistic:function(t,i){var o=Se();return Jt!==null?tg(o,Jt,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:od,useCacheRefresh:Tg};Rg.useEffectEvent=dg;function _d(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:T({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var bd={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=kn(),m=Vs(u);m.payload=i,o!=null&&(m.callback=o),i=Is(t,m,u),i!==null&&(xn(i,t,u),ul(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=kn(),m=Vs(u);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Is(t,m,u),i!==null&&(xn(i,t,u),ul(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=kn(),u=Vs(o);u.tag=2,i!=null&&(u.callback=i),i=Is(t,u,o),i!==null&&(xn(i,t,o),ul(i,t,o))}};function Og(t,i,o,u,m,p,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,S):i.prototype&&i.prototype.isPureReactComponent?!Ms(o,u)||!Ms(m,p):!0}function Lg(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&bd.enqueueReplaceState(i,i.state,null)}function Ya(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=T({},o));for(var m in t)o[m]===void 0&&(o[m]=t[m])}return o}function kg(t){za(t)}function Mg(t){console.error(t)}function Ng(t){za(t)}function uc(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Dg(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function xd(t,i,o){return o=Vs(o),o.tag=3,o.payload={element:null},o.callback=function(){uc(t,i)},o}function Pg(t){return t=Vs(t),t.tag=3,t}function zg(t,i,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;t.payload=function(){return m(p)},t.callback=function(){Dg(i,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){Dg(i,o,u),typeof m!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function uw(t,i,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Dr(i,o,m,!0),o=jn.current,o!==null){switch(o.tag){case 31:case 13:return $n===null?xc():o.alternate===null&&_e===0&&(_e=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Wu?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),$d(t,u,m)),!1;case 22:return o.flags|=65536,u===Wu?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),$d(t,u,m)),!1}throw Error(r(435,o.tag))}return $d(t,u,m),xc(),!1}if(Nt)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,u!==Nr&&(t=Error(r(422),{cause:u}),Ia(l(t,o)))):(u!==Nr&&(i=Error(r(423),{cause:u}),Ia(l(i,o))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,u=l(u,o),m=xd(t.stateNode,u,m),Xh(t,m),_e!==4&&(_e=2)),!1;var p=Error(r(520),{cause:u});if(p=l(p,o),Sl===null?Sl=[p]:Sl.push(p),_e!==4&&(_e=2),i===null)return!0;u=l(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=m&-m,o.lanes|=t,t=xd(o.stateNode,u,t),Xh(o,t),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ks===null||!Ks.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Pg(m),zg(m,t,o,u),Xh(o,m),!1}o=o.return}while(o!==null);return!1}var wd=Error(r(461)),Re=!1;function $e(t,i,o,u){i.child=t===null?Ip(i,null,o,u):Ka(i,t.child,o,u)}function Bg(t,i,o,u,m){o=o.render;var p=i.ref;if("ref"in u){var S={};for(var C in u)C!=="ref"&&(S[C]=u[C])}else S=u;return qa(i),u=id(t,i,o,S,p,m),C=sd(),t!==null&&!Re?(ad(t,i,m),es(t,i,m)):(Nt&&C&&Ne(i),i.flags|=1,$e(t,i,u,m),i.child)}function Ug(t,i,o,u,m){if(t===null){var p=o.type;return typeof p=="function"&&!kr(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,Vg(t,i,p,u,m)):(t=Va(o.type,null,u,i,i.mode,m),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Od(t,m)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ms,o(S,u)&&t.ref===i.ref)return es(t,i,m)}return i.flags|=1,t=Gn(p,u),t.ref=i.ref,t.return=i,i.child=t}function Vg(t,i,o,u,m){if(t!==null){var p=t.memoizedProps;if(Ms(p,u)&&t.ref===i.ref)if(Re=!1,i.pendingProps=u=p,Od(t,m))(t.flags&131072)!==0&&(Re=!0);else return i.lanes=t.lanes,es(t,i,m)}return Sd(t,i,o,u,m)}function Ig(t,i,o,u){var m=u.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,t!==null){for(u=i.child=t.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,i.child=null;return Hg(t,i,p,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,p!==null?p.cachePool:null),p!==null?Zp(i,p):Qh(),Gp(i);else return u=i.lanes=536870912,Hg(t,i,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Fu(i,p.cachePool),Zp(i,p),qs(),i.memoizedState=null):(t!==null&&Fu(i,null),Qh(),qs());return $e(t,i,m,o),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hg(t,i,o,u,m){var p=Kh();return p=p===null?null:{parent:Ce._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},t!==null&&Fu(i,null),Qh(),Gp(i),t!==null&&Dr(t,i,u,!0),i.childLanes=m,null}function cc(t,i){return i=dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qg(t,i,o){return Ka(i,t.child,null,o),t=cc(i,i.pendingProps),t.flags|=2,Rn(i),i.memoizedState=null,t}function cw(t,i,o){var u=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Nt){if(u.mode==="hidden")return t=cc(i,u),i.lanes=536870912,gl(null,t);if(ed(i),(t=Ht)?(t=ev(t,gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:G!==null?{id:Q,overflow:lt}:null,retryLane:536870912,hydrationErrors:null},o=el(t),o.return=i,i.child=o,It=i,Ht=null)):t=null,t===null)throw Oi(i);return i.lanes=536870912,null}return cc(i,u)}var p=t.memoizedState;if(p!==null){var S=p.dehydrated;if(ed(i),m)if(i.flags&256)i.flags&=-257,i=qg(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Re||Dr(t,i,o,!1),m=(o&t.childLanes)!==0,Re||m){if(u=ne,u!==null&&(S=bu(u,o),S!==0&&S!==p.retryLane))throw p.retryLane=S,Zn(t,S),xn(u,t,S),wd;xc(),i=qg(t,i,o)}else t=p.treeContext,Ht=Kn(S.nextSibling),It=i,Nt=!0,Ri=null,gn=!1,t!==null&&rn(i,t),i=cc(i,u),i.flags|=4096;return i}return t=Gn(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function hc(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function Sd(t,i,o,u,m){return qa(i),o=id(t,i,o,u,void 0,m),u=sd(),t!==null&&!Re?(ad(t,i,m),es(t,i,m)):(Nt&&u&&Ne(i),i.flags|=1,$e(t,i,o,m),i.child)}function Zg(t,i,o,u,m,p){return qa(i),i.updateQueue=null,o=Kp(i,u,o,m),$p(t),u=sd(),t!==null&&!Re?(ad(t,i,p),es(t,i,p)):(Nt&&u&&Ne(i),i.flags|=1,$e(t,i,o,p),i.child)}function Gg(t,i,o,u,m){if(qa(i),i.stateNode===null){var p=Yi,S=o.contextType;typeof S=="object"&&S!==null&&(p=Ge(S)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=bd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Yh(i),S=o.contextType,p.context=typeof S=="object"&&S!==null?Ge(S):Yi,p.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(_d(i,o,S,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&bd.enqueueReplaceState(p,p.state,null),hl(i,u,p,m),cl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){p=i.stateNode;var C=i.memoizedProps,P=Ya(o,C);p.props=P;var Z=p.context,W=o.contextType;S=Yi,typeof W=="object"&&W!==null&&(S=Ge(W));var tt=o.getDerivedStateFromProps;W=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||Z!==S)&&Lg(i,p,u,S),Us=!1;var $=i.memoizedState;p.state=$,hl(i,u,p,m),cl(),Z=i.memoizedState,C||$!==Z||Us?(typeof tt=="function"&&(_d(i,o,tt,u),Z=i.memoizedState),(P=Us||Og(i,o,P,u,$,Z,S))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Z),p.props=u,p.state=Z,p.context=S,u=P):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Wh(t,i),S=i.memoizedProps,W=Ya(o,S),p.props=W,tt=i.pendingProps,$=p.context,Z=o.contextType,P=Yi,typeof Z=="object"&&Z!==null&&(P=Ge(Z)),C=o.getDerivedStateFromProps,(Z=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==tt||$!==P)&&Lg(i,p,u,P),Us=!1,$=i.memoizedState,p.state=$,hl(i,u,p,m),cl();var K=i.memoizedState;S!==tt||$!==K||Us||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof C=="function"&&(_d(i,o,C,u),K=i.memoizedState),(W=Us||Og(i,o,W,u,$,K,P)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(Z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,P)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),p.props=u,p.state=K,p.context=P,u=W):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),u=!1)}return p=u,hc(t,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&u?(i.child=Ka(i,t.child,null,m),i.child=Ka(i,null,o,m)):$e(t,i,o,m),i.memoizedState=p.state,t=i.child):t=es(t,i,m),t}function $g(t,i,o,u){return Xi(),i.flags|=256,$e(t,i,o,u),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:Dp()}}function Ad(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=Ln),t}function Kg(t,i,o){var u=i.pendingProps,m=!1,p=(i.flags&128)!==0,S;if((S=p)||(S=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),S&&(m=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(Nt){if(m?Hs(i):qs(),(t=Ht)?(t=ev(t,gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:G!==null?{id:Q,overflow:lt}:null,retryLane:536870912,hydrationErrors:null},o=el(t),o.return=i,i.child=o,It=i,Ht=null)):t=null,t===null)throw Oi(i);return uf(t)?i.lanes=32:i.lanes=536870912,null}var C=u.children;return u=u.fallback,m?(qs(),m=i.mode,C=dc({mode:"hidden",children:C},m),u=Wi(u,m,o,null),C.return=i,u.return=i,C.sibling=u,i.child=C,u=i.child,u.memoizedState=Ed(o),u.childLanes=Ad(t,S,o),i.memoizedState=Td,gl(null,u)):(Hs(i),Cd(i,C))}var P=t.memoizedState;if(P!==null&&(C=P.dehydrated,C!==null)){if(p)i.flags&256?(Hs(i),i.flags&=-257,i=jd(t,i,o)):i.memoizedState!==null?(qs(),i.child=t.child,i.flags|=128,i=null):(qs(),C=u.fallback,m=i.mode,u=dc({mode:"visible",children:u.children},m),C=Wi(C,m,o,null),C.flags|=2,u.return=i,C.return=i,u.sibling=C,i.child=u,Ka(i,t.child,null,o),u=i.child,u.memoizedState=Ed(o),u.childLanes=Ad(t,S,o),i.memoizedState=Td,i=gl(null,u));else if(Hs(i),uf(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var Z=S.dgst;S=Z,u=Error(r(419)),u.stack="",u.digest=S,Ia({value:u,source:null,stack:null}),i=jd(t,i,o)}else if(Re||Dr(t,i,o,!1),S=(o&t.childLanes)!==0,Re||S){if(S=ne,S!==null&&(u=bu(S,o),u!==0&&u!==P.retryLane))throw P.retryLane=u,Zn(t,u),xn(S,t,u),wd;lf(C)||xc(),i=jd(t,i,o)}else lf(C)?(i.flags|=192,i.child=t.child,i=null):(t=P.treeContext,Ht=Kn(C.nextSibling),It=i,Nt=!0,Ri=null,gn=!1,t!==null&&rn(i,t),i=Cd(i,u.children),i.flags|=4096);return i}return m?(qs(),C=u.fallback,m=i.mode,P=t.child,Z=P.sibling,u=Gn(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Z!==null?C=Gn(Z,C):(C=Wi(C,m,o,null),C.flags|=2),C.return=i,u.return=i,u.sibling=C,i.child=u,gl(null,u),u=i.child,C=t.child.memoizedState,C===null?C=Ed(o):(m=C.cachePool,m!==null?(P=Ce._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=Dp(),C={baseLanes:C.baseLanes|o,cachePool:m}),u.memoizedState=C,u.childLanes=Ad(t,S,o),i.memoizedState=Td,gl(t.child,u)):(Hs(i),o=t.child,t=o.sibling,o=Gn(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=o,i.memoizedState=null,o)}function Cd(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=Qe(22,t,null,i),t.lanes=0,t}function jd(t,i,o){return Ka(i,t.child,null,o),t=Cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Fg(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),qh(t.return,i,o)}function Rd(t,i,o,u,m,p){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:p}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=m,S.treeForkCount=p)}function Yg(t,i,o){var u=i.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var S=we.current,C=(S&2)!==0;if(C?(S=S&1|2,i.flags|=128):S&=1,at(we,S),$e(t,i,u,o),u=Nt?A:0,!C&&t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,o,i);else if(t.tag===19)Fg(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)t=o.alternate,t!==null&&tc(t)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Rd(i,!1,m,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(t=m.alternate,t!==null&&tc(t)===null){i.child=m;break}t=m.sibling,m.sibling=o,o=m,m=t}Rd(i,!0,o,null,p,u);break;case"together":Rd(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function es(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),$s|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Dr(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=Gn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Gn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function hw(t,i,o){switch(i.tag){case 3:re(i,i.stateNode.containerInfo),Bs(i,Ce,t.memoizedState.cache),Xi();break;case 27:case 5:zi(i);break;case 4:re(i,i.stateNode.containerInfo);break;case 10:Bs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Hs(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Kg(t,i,o):(Hs(i),t=es(t,i,o),t!==null?t.sibling:null);Hs(i);break;case 19:var m=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Dr(t,i,o,!1),u=(o&i.childLanes)!==0),m){if(u)return Yg(t,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(we,we.current),u)break;return null;case 22:return i.lanes=0,Ig(t,i,o,i.pendingProps);case 24:Bs(i,Ce,t.memoizedState.cache)}return es(t,i,o)}function Wg(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)Re=!0;else{if(!Od(t,o)&&(i.flags&128)===0)return Re=!1,hw(t,i,o);Re=(t.flags&131072)!==0}else Re=!1,Nt&&(i.flags&1048576)!==0&&Rt(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(t=Ga(i.elementType),i.type=t,typeof t=="function")kr(t)?(u=Ya(t,u),i.tag=1,i=Gg(null,i,t,u,o)):(i.tag=0,i=Sd(null,i,t,u,o));else{if(t!=null){var m=t.$$typeof;if(m===J){i.tag=11,i=Bg(null,i,t,u,o);break t}else if(m===rt){i.tag=14,i=Ug(null,i,t,u,o);break t}}throw i=pe(t)||t,Error(r(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,m=Ya(u,i.pendingProps),Gg(t,i,u,m,o);case 3:t:{if(re(i,i.stateNode.containerInfo),t===null)throw Error(r(387));u=i.pendingProps;var p=i.memoizedState;m=p.element,Wh(t,i),hl(i,u,null,o);var S=i.memoizedState;if(u=S.cache,Bs(i,Ce,u),u!==p.cache&&Zh(i,[Ce],o,!0),cl(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=$g(t,i,u,o);break t}else if(u!==m){m=l(Error(r(424)),i),Ia(m),i=$g(t,i,u,o);break t}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ht=Kn(t.firstChild),It=i,Nt=!0,Ri=null,gn=!0,o=Ip(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Xi(),u===m){i=es(t,i,o);break t}$e(t,i,u,o)}i=i.child}return i;case 26:return hc(t,i),t===null?(o=ov(i.type,null,i.pendingProps,null))?i.memoizedState=o:Nt||(o=i.type,t=i.pendingProps,u=jc(ct.current).createElement(o),u[Ee]=i,u[Be]=t,Ke(u,o,t),Ae(u),i.stateNode=u):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return zi(i),t===null&&Nt&&(u=i.stateNode=sv(i.type,i.pendingProps,ct.current),It=i,gn=!0,m=Ht,Xs(i.type)?(cf=m,Ht=Kn(u.firstChild)):Ht=m),$e(t,i,i.pendingProps.children,o),hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Nt&&((m=u=Ht)&&(u=Iw(u,i.type,i.pendingProps,gn),u!==null?(i.stateNode=u,It=i,Ht=Kn(u.firstChild),gn=!1,m=!0):m=!1),m||Oi(i)),zi(i),m=i.type,p=i.pendingProps,S=t!==null?t.memoizedProps:null,u=p.children,af(m,p)?u=null:S!==null&&af(m,S)&&(i.flags|=32),i.memoizedState!==null&&(m=id(t,i,nw,null,null,o),Ll._currentValue=m),hc(t,i),$e(t,i,u,o),i.child;case 6:return t===null&&Nt&&((t=o=Ht)&&(o=Hw(o,i.pendingProps,gn),o!==null?(i.stateNode=o,It=i,Ht=null,t=!0):t=!1),t||Oi(i)),null;case 13:return Kg(t,i,o);case 4:return re(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ka(i,null,u,o):$e(t,i,u,o),i.child;case 11:return Bg(t,i,i.type,i.pendingProps,o);case 7:return $e(t,i,i.pendingProps,o),i.child;case 8:return $e(t,i,i.pendingProps.children,o),i.child;case 12:return $e(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Bs(i,i.type,u.value),$e(t,i,u.children,o),i.child;case 9:return m=i.type._context,u=i.pendingProps.children,qa(i),m=Ge(m),u=u(m),i.flags|=1,$e(t,i,u,o),i.child;case 14:return Ug(t,i,i.type,i.pendingProps,o);case 15:return Vg(t,i,i.type,i.pendingProps,o);case 19:return Yg(t,i,o);case 31:return cw(t,i,o);case 22:return Ig(t,i,o,i.pendingProps);case 24:return qa(i),u=Ge(Ce),t===null?(m=Kh(),m===null&&(m=ne,p=Gh(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),i.memoizedState={parent:u,cache:m},Yh(i),Bs(i,Ce,m)):((t.lanes&o)!==0&&(Wh(t,i),hl(i,null,null,o),cl()),m=t.memoizedState,p=i.memoizedState,m.parent!==u?(m={parent:u,cache:u},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Bs(i,Ce,u)):(u=p.cache,Bs(i,Ce,u),u!==m.cache&&Zh(i,[Ce],o,!0))),$e(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ns(t){t.flags|=4}function Ld(t,i,o,u,m){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Sy())t.flags|=8192;else throw $a=Wu,Fh}else t.flags&=-16777217}function Xg(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dv(i))if(Sy())t.flags|=8192;else throw $a=Wu,Fh}function fc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,Kr|=i)}function yl(t,i){if(!Nt)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ae(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var m=t.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function dw(t,i,o){var u=i.pendingProps;switch(ye(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ji(Ce),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(oi(i)?ns(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sl())),ae(i),null;case 26:var m=i.type,p=i.memoizedState;return t===null?(ns(i),p!==null?(ae(i),Xg(i,p)):(ae(i),Ld(i,m,null,u,o))):p?p!==t.memoizedState?(ns(i),ae(i),Xg(i,p)):(ae(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&ns(i),ae(i),Ld(i,m,t,u,o)),null;case 27:if(vs(i),o=ct.current,m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ns(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return ae(i),null}t=ot.current,oi(i)?il(i):(t=sv(m,u,o),i.stateNode=t,ns(i))}return ae(i),null;case 5:if(vs(i),m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ns(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return ae(i),null}if(p=ot.current,oi(i))il(i);else{var S=jc(ct.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?S.createElement(m,{is:u.is}):S.createElement(m)}}p[Ee]=i,p[Be]=u;t:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break t;for(;S.sibling===null;){if(S.return===null||S.return===i)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=p;t:switch(Ke(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ns(i)}}return ae(i),Ld(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&ns(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(t=ct.current,oi(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,m=It,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}t[Ee]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ky(t.nodeValue,o)),t||Oi(i,!0)}else t=jc(t).createTextNode(u),t[Ee]=i,i.stateNode=t}return ae(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(u=oi(i),o!==null){if(t===null){if(!u)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ee]=i}else Xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),t=!1}else o=sl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ae(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=oi(i),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ee]=i}else Xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),m=!1}else m=sl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=i.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),fc(i,i.updateQueue),ae(i),null);case 4:return oe(),t===null&&Qd(i.stateNode.containerInfo),ae(i),null;case 10:return Ji(i.type),ae(i),null;case 19:if(Y(we),u=i.memoizedState,u===null)return ae(i),null;if(m=(i.flags&128)!==0,p=u.rendering,p===null)if(m)yl(u,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=tc(t),p!==null){for(i.flags|=128,yl(u,!1),t=p.updateQueue,i.updateQueue=t,fc(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)tl(o,t),o=o.sibling;return at(we,we.current&1|2),Nt&&gt(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&nn()>vc&&(i.flags|=128,m=!0,yl(u,!1),i.lanes=4194304)}else{if(!m)if(t=tc(p),t!==null){if(i.flags|=128,m=!0,t=t.updateQueue,i.updateQueue=t,fc(i,t),yl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Nt)return ae(i),null}else 2*nn()-u.renderingStartTime>vc&&o!==536870912&&(i.flags|=128,m=!0,yl(u,!1),i.lanes=4194304);u.isBackwards?(p.sibling=i.child,i.child=p):(t=u.last,t!==null?t.sibling=p:i.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=nn(),t.sibling=null,o=we.current,at(we,m?o&1|2:o&1),Nt&&gt(i,u.treeForkCount),t):(ae(i),null);case 22:case 23:return Rn(i),td(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),o=i.updateQueue,o!==null&&fc(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&Y(Za),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ji(Ce),ae(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function fw(t,i){switch(ye(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(Ce),oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vs(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(r(340));Xi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Xi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(we),null;case 4:return oe(),null;case 10:return Ji(i.type),null;case 22:case 23:return Rn(i),td(),t!==null&&Y(Za),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(Ce),null;case 25:return null;default:return null}}function Jg(t,i){switch(ye(i),i.tag){case 3:Ji(Ce),oe();break;case 26:case 27:case 5:vs(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:Y(we);break;case 10:Ji(i.type);break;case 22:case 23:Rn(i),td(),t!==null&&Y(Za);break;case 24:Ji(Ce)}}function vl(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&t)===t){u=void 0;var p=o.create,S=o.inst;u=p(),S.destroy=u}o=o.next}while(o!==m)}}catch(C){Yt(i,i.return,C)}}function Zs(t,i,o){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&t)===t){var S=u.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,m=i;var P=o,Z=C;try{Z()}catch(W){Yt(m,P,W)}}}u=u.next}while(u!==p)}}catch(W){Yt(i,i.return,W)}}function Qg(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{qp(i,o)}catch(u){Yt(t,t.return,u)}}}function ty(t,i,o){o.props=Ya(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Yt(t,i,u)}}function _l(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(m){Yt(t,i,m)}}function ki(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Yt(t,i,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Yt(t,i,m)}else o.current=null}function ey(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Yt(t,t.return,m)}}function kd(t,i,o){try{var u=t.stateNode;Dw(u,t.type,o,i),u[Be]=i}catch(m){Yt(t,t.return,m)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Md(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=dn));else if(u!==4&&(u===27&&Xs(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,o),t=t.sibling;t!==null;)Nd(t,i,o),t=t.sibling}function mc(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&Xs(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(mc(t,i,o),t=t.sibling;t!==null;)mc(t,i,o),t=t.sibling}function iy(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Ke(i,u,o),i[Ee]=t,i[Be]=o}catch(p){Yt(t,t.return,p)}}var is=!1,Oe=!1,Dd=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function mw(t,i){if(t=t.containerInfo,nf=Dc,t=Ma(t),Ti(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var S=0,C=-1,P=-1,Z=0,W=0,tt=t,$=null;e:for(;;){for(var K;tt!==o||m!==0&&tt.nodeType!==3||(C=S+m),tt!==p||u!==0&&tt.nodeType!==3||(P=S+u),tt.nodeType===3&&(S+=tt.nodeValue.length),(K=tt.firstChild)!==null;)$=tt,tt=K;for(;;){if(tt===t)break e;if($===o&&++Z===m&&(C=S),$===p&&++W===u&&(P=S),(K=tt.nextSibling)!==null)break;tt=$,$=tt.parentNode}tt=K}o=C===-1||P===-1?null:{start:C,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(sf={focusedElem:t,selectionRange:o},Dc=!1,Ie=i;Ie!==null;)if(i=Ie,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ie=t;else for(;Ie!==null;){switch(i=Ie,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)m=t[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,o=i,m=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ft=Ya(o.type,m);t=u.getSnapshotBeforeUpdate(ft,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Yt(o,o.return,_t)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)of(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ie=t;break}Ie=i.return}}function ay(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:as(t,o),u&4&&vl(5,o);break;case 1:if(as(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(S){Yt(o,o.return,S)}else{var m=Ya(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(m,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Yt(o,o.return,S)}}u&64&&Qg(o),u&512&&_l(o,o.return);break;case 3:if(as(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{qp(t,i)}catch(S){Yt(o,o.return,S)}}break;case 27:i===null&&u&4&&iy(o);case 26:case 5:as(t,o),i===null&&u&4&&ey(o),u&512&&_l(o,o.return);break;case 12:as(t,o);break;case 31:as(t,o),u&4&&ly(t,o);break;case 13:as(t,o),u&4&&uy(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Sw.bind(null,o),qw(t,o))));break;case 22:if(u=o.memoizedState!==null||is,!u){i=i!==null&&i.memoizedState!==null||Oe,m=is;var p=Oe;is=u,(Oe=i)&&!p?rs(t,o,(o.subtreeFlags&8772)!==0):as(t,o),is=m,Oe=p}break;case 30:break;default:as(t,o)}}function ry(t){var i=t.alternate;i!==null&&(t.alternate=null,ry(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Po(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,yn=!1;function ss(t,i,o){for(o=o.child;o!==null;)oy(t,i,o),o=o.sibling}function oy(t,i,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(_s,o)}catch{}switch(o.tag){case 26:Oe||ki(o,i),ss(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||ki(o,i);var u=ue,m=yn;Xs(o.type)&&(ue=o.stateNode,yn=!1),ss(t,i,o),jl(o.stateNode),ue=u,yn=m;break;case 5:Oe||ki(o,i);case 6:if(u=ue,m=yn,ue=null,ss(t,i,o),ue=u,yn=m,ue!==null)if(yn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(p){Yt(o,i,p)}else try{ue.removeChild(o.stateNode)}catch(p){Yt(o,i,p)}break;case 18:ue!==null&&(yn?(t=ue,Qy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),eo(t)):Qy(ue,o.stateNode));break;case 4:u=ue,m=yn,ue=o.stateNode.containerInfo,yn=!0,ss(t,i,o),ue=u,yn=m;break;case 0:case 11:case 14:case 15:Zs(2,o,i),Oe||Zs(4,o,i),ss(t,i,o);break;case 1:Oe||(ki(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ty(o,i,u)),ss(t,i,o);break;case 21:ss(t,i,o);break;case 22:Oe=(u=Oe)||o.memoizedState!==null,ss(t,i,o),Oe=u;break;default:ss(t,i,o)}}function ly(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(o){Yt(i,i.return,o)}}}function uy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(o){Yt(i,i.return,o)}}function pw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new sy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new sy),i;default:throw Error(r(435,t.tag))}}function pc(t,i){var o=pw(t);i.forEach(function(u){if(!o.has(u)){o.add(u);var m=Tw.bind(null,t,u);u.then(m,m)}})}function vn(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],p=t,S=i,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(Xs(C.type)){ue=C.stateNode,yn=!1;break t}break;case 5:ue=C.stateNode,yn=!1;break t;case 3:case 4:ue=C.stateNode.containerInfo,yn=!0;break t}C=C.return}if(ue===null)throw Error(r(160));oy(p,S,m),ue=null,yn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)cy(i,t),i=i.sibling}var ui=null;function cy(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(i,t),_n(t),u&4&&(Zs(3,t,t.return),vl(3,t),Zs(5,t,t.return));break;case 1:vn(i,t),_n(t),u&512&&(Oe||o===null||ki(o,o.return)),u&64&&is&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=ui;if(vn(i,t),_n(t),u&512&&(Oe||o===null||ki(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){t:{u=t.type,o=t.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ya]||p[Ee]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),Ke(p,u,o),p[Ee]=t,Ae(p),u=p;break t;case"link":var S=cv("link","href",m).get(u+(o.href||""));if(S){for(var C=0;C<S.length;C++)if(p=S[C],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(C,1);break e}}p=m.createElement(u),Ke(p,u,o),m.head.appendChild(p);break;case"meta":if(S=cv("meta","content",m).get(u+(o.content||""))){for(C=0;C<S.length;C++)if(p=S[C],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(C,1);break e}}p=m.createElement(u),Ke(p,u,o),m.head.appendChild(p);break;default:throw Error(r(468,u))}p[Ee]=t,Ae(p),u=p}t.stateNode=u}else hv(m,t.type,t.stateNode);else t.stateNode=uv(m,u,t.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?hv(m,t.type,t.stateNode):uv(m,u,t.memoizedProps)):u===null&&t.stateNode!==null&&kd(t,t.memoizedProps,o.memoizedProps)}break;case 27:vn(i,t),_n(t),u&512&&(Oe||o===null||ki(o,o.return)),o!==null&&u&4&&kd(t,t.memoizedProps,o.memoizedProps);break;case 5:if(vn(i,t),_n(t),u&512&&(Oe||o===null||ki(o,o.return)),t.flags&32){m=t.stateNode;try{Bn(m,"")}catch(ft){Yt(t,t.return,ft)}}u&4&&t.stateNode!=null&&(m=t.memoizedProps,kd(t,m,o!==null?o.memoizedProps:m)),u&1024&&(Dd=!0);break;case 6:if(vn(i,t),_n(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(ft){Yt(t,t.return,ft)}}break;case 3:if(Lc=null,m=ui,ui=Rc(i.containerInfo),vn(i,t),ui=m,_n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(ft){Yt(t,t.return,ft)}Dd&&(Dd=!1,hy(t));break;case 4:u=ui,ui=Rc(t.stateNode.containerInfo),vn(i,t),_n(t),ui=u;break;case 12:vn(i,t),_n(t);break;case 31:vn(i,t),_n(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,pc(t,u)));break;case 13:vn(i,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(yc=nn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,pc(t,u)));break;case 22:m=t.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,Z=is,W=Oe;if(is=Z||m,Oe=W||P,vn(i,t),Oe=W,is=Z,_n(t),u&8192)t:for(i=t.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||P||is||Oe||Wa(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){P=o=i;try{if(p=P.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=P.stateNode;var tt=P.memoizedProps.style,$=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ft){Yt(P,P.return,ft)}}}else if(i.tag===6){if(o===null){P=i;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(ft){Yt(P,P.return,ft)}}}else if(i.tag===18){if(o===null){P=i;try{var K=P.stateNode;m?tv(K,!0):tv(P.stateNode,!1)}catch(ft){Yt(P,P.return,ft)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,pc(t,o))));break;case 19:vn(i,t),_n(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,pc(t,u)));break;case 30:break;case 21:break;default:vn(i,t),_n(t)}}function _n(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(ny(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,p=Md(t);mc(t,p,m);break;case 5:var S=o.stateNode;o.flags&32&&(Bn(S,""),o.flags&=-33);var C=Md(t);mc(t,C,S);break;case 3:case 4:var P=o.stateNode.containerInfo,Z=Md(t);Nd(t,Z,P);break;default:throw Error(r(161))}}catch(W){Yt(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function as(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ay(t,i.alternate,i),i=i.sibling}function Wa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Zs(4,i,i.return),Wa(i);break;case 1:ki(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ty(i,i.return,o),Wa(i);break;case 27:jl(i.stateNode);case 26:case 5:ki(i,i.return),Wa(i);break;case 22:i.memoizedState===null&&Wa(i);break;case 30:Wa(i);break;default:Wa(i)}t=t.sibling}}function rs(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,m=t,p=i,S=p.flags;switch(p.tag){case 0:case 11:case 15:rs(m,p,o),vl(4,p);break;case 1:if(rs(m,p,o),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Yt(u,u.return,Z)}if(u=p,m=u.updateQueue,m!==null){var C=u.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Hp(P[m],C)}catch(Z){Yt(u,u.return,Z)}}o&&S&64&&Qg(p),_l(p,p.return);break;case 27:iy(p);case 26:case 5:rs(m,p,o),o&&u===null&&S&4&&ey(p),_l(p,p.return);break;case 12:rs(m,p,o);break;case 31:rs(m,p,o),o&&S&4&&ly(m,p);break;case 13:rs(m,p,o),o&&S&4&&uy(m,p);break;case 22:p.memoizedState===null&&rs(m,p,o),_l(p,p.return);break;case 30:break;default:rs(m,p,o)}i=i.sibling}}function Pd(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&al(o))}function zd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function ci(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dy(t,i,o,u),i=i.sibling}function dy(t,i,o,u){var m=i.flags;switch(i.tag){case 0:case 11:case 15:ci(t,i,o,u),m&2048&&vl(9,i);break;case 1:ci(t,i,o,u);break;case 3:ci(t,i,o,u),m&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(m&2048){ci(t,i,o,u),t=i.stateNode;try{var p=i.memoizedProps,S=p.id,C=p.onPostCommit;typeof C=="function"&&C(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){Yt(i,i.return,P)}}else ci(t,i,o,u);break;case 31:ci(t,i,o,u);break;case 13:ci(t,i,o,u);break;case 23:break;case 22:p=i.stateNode,S=i.alternate,i.memoizedState!==null?p._visibility&2?ci(t,i,o,u):bl(t,i):p._visibility&2?ci(t,i,o,u):(p._visibility|=2,Zr(t,i,o,u,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Pd(S,i);break;case 24:ci(t,i,o,u),m&2048&&zd(i.alternate,i);break;default:ci(t,i,o,u)}}function Zr(t,i,o,u,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,S=i,C=o,P=u,Z=S.flags;switch(S.tag){case 0:case 11:case 15:Zr(p,S,C,P,m),vl(8,S);break;case 23:break;case 22:var W=S.stateNode;S.memoizedState!==null?W._visibility&2?Zr(p,S,C,P,m):bl(p,S):(W._visibility|=2,Zr(p,S,C,P,m)),m&&Z&2048&&Pd(S.alternate,S);break;case 24:Zr(p,S,C,P,m),m&&Z&2048&&zd(S.alternate,S);break;default:Zr(p,S,C,P,m)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,m=u.flags;switch(u.tag){case 22:bl(o,u),m&2048&&Pd(u.alternate,u);break;case 24:bl(o,u),m&2048&&zd(u.alternate,u);break;default:bl(o,u)}i=i.sibling}}var xl=8192;function Gr(t,i,o){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)fy(t,i,o),t=t.sibling}function fy(t,i,o){switch(t.tag){case 26:Gr(t,i,o),t.flags&xl&&t.memoizedState!==null&&eS(o,ui,t.memoizedState,t.memoizedProps);break;case 5:Gr(t,i,o);break;case 3:case 4:var u=ui;ui=Rc(t.stateNode.containerInfo),Gr(t,i,o),ui=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=xl,xl=16777216,Gr(t,i,o),xl=u):Gr(t,i,o));break;default:Gr(t,i,o)}}function my(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ie=u,gy(u,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Zs(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):wl(t);break;default:wl(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ie=u,gy(u,t)}my(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Zs(8,i,i.return),gc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function gy(t,i){for(;Ie!==null;){var o=Ie;switch(o.tag){case 0:case 11:case 15:Zs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:al(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ie=u;else t:for(o=t;Ie!==null;){u=Ie;var m=u.sibling,p=u.return;if(ry(u),u===o){Ie=null;break t}if(m!==null){m.return=p,Ie=m;break t}Ie=p}}}var gw={getCacheForType:function(t){var i=Ge(Ce),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return Ge(Ce).controller.signal}},yw=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Dt=null,Bt=0,Ft=0,On=null,Gs=!1,$r=!1,Bd=!1,os=0,_e=0,$s=0,Xa=0,Ud=0,Ln=0,Kr=0,Sl=null,bn=null,Vd=!1,yc=0,yy=0,vc=1/0,_c=null,Ks=null,De=0,Fs=null,Fr=null,ls=0,Id=0,Hd=null,vy=null,Tl=0,qd=null;function kn(){return(Gt&2)!==0&&Bt!==0?Bt&-Bt:F.T!==null?Yd():No()}function _y(){if(Ln===0)if((Bt&536870912)===0||Nt){var t=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),Ln=t}else Ln=536870912;return t=jn.current,t!==null&&(t.flags|=32),Ln}function xn(t,i,o){(t===ne&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(Yr(t,0),Ys(t,Bt,Ln,!1)),Ii(t,o),((Gt&2)===0||t!==ne)&&(t===ne&&((Gt&2)===0&&(Xa|=o),_e===4&&Ys(t,Bt,Ln,!1)),Mi(t))}function by(t,i,o){if((Gt&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&t.expiredLanes)===0||ga(t,i),m=u?bw(t,i):Gd(t,i,!0),p=u;do{if(m===0){$r&&!u&&Ys(t,i,0,!1);break}else{if(o=t.current.alternate,p&&!vw(o)){m=Gd(t,i,!1),p=!1;continue}if(m===2){if(p=i,t.errorRecoveryDisabledLanes&p)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;t:{var C=t;m=Sl;var P=C.current.memoizedState.isDehydrated;if(P&&(Yr(C,S).flags|=256),S=Gd(C,S,!1),S!==2){if(Bd&&!P){C.errorRecoveryDisabledLanes|=p,Xa|=p,m=4;break t}p=bn,bn=m,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){Yr(t,0),Ys(t,i,0,!0);break}t:{switch(u=t,p=m,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ys(u,i,Ln,!Gs);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=yc+300-nn(),10<m)){if(Ys(u,i,Ln,!Gs),pr(u,0,!0)!==0)break t;ls=i,u.timeoutHandle=Xy(xy.bind(null,u,o,bn,_c,Vd,i,Ln,Xa,Kr,Gs,p,"Throttled",-0,0),m);break t}xy(u,o,bn,_c,Vd,i,Ln,Xa,Kr,Gs,p,null,-0,0)}}break}while(!0);Mi(t)}function xy(t,i,o,u,m,p,S,C,P,Z,W,tt,$,K){if(t.timeoutHandle=-1,tt=i.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},fy(i,p,tt);var ft=(p&62914560)===p?yc-nn():(p&4194048)===p?yy-nn():0;if(ft=nS(tt,ft),ft!==null){ls=p,t.cancelPendingCommit=ft(Ry.bind(null,t,i,p,o,u,m,S,C,P,W,tt,null,$,K)),Ys(t,p,S,!Z);return}}Ry(t,i,p,o,u,m,S,C,P)}function vw(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],p=m.getSnapshot;m=m.value;try{if(!Ue(p(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ys(t,i,o,u){i&=~Ud,i&=~Xa,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var m=i;0<m;){var p=31-sn(m),S=1<<p;u[p]=-1,m&=~S}o!==0&&vu(t,o,i)}function bc(){return(Gt&6)===0?(El(0),!1):!0}function Zd(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,li=Li=null,rd(t),Ur=null,ol=0,t=Dt;for(;t!==null;)Jg(t.alternate,t),t=t.return;Dt=null}}function Yr(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Bw(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),ls=0,Zd(),ne=t,Dt=o=Gn(t.current,null),Bt=i,Ft=0,On=null,Gs=!1,$r=ga(t,i),Bd=!1,Kr=Ln=Ud=Xa=$s=_e=0,bn=Sl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var m=31-sn(u),p=1<<m;i|=t[m],u&=~p}return os=i,Ba(),o}function wy(t,i){jt=null,F.H=pl,i===Br||i===Yu?(i=Bp(),Ft=3):i===Fh?(i=Bp(),Ft=4):Ft=i===wd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Dt===null&&(_e=1,uc(t,l(i,t.current)))}function Sy(){var t=jn.current;return t===null?!0:(Bt&4194048)===Bt?$n===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?t===$n:!1}function Ty(){var t=F.H;return F.H=pl,t===null?pl:t}function Ey(){var t=F.A;return F.A=gw,t}function xc(){_e=4,Gs||(Bt&4194048)!==Bt&&jn.current!==null||($r=!0),($s&134217727)===0&&(Xa&134217727)===0||ne===null||Ys(ne,Bt,Ln,!1)}function Gd(t,i,o){var u=Gt;Gt|=2;var m=Ty(),p=Ey();(ne!==t||Bt!==i)&&(_c=null,Yr(t,i)),i=!1;var S=_e;t:do try{if(Ft!==0&&Dt!==null){var C=Dt,P=On;switch(Ft){case 8:Zd(),S=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var Z=Ft;if(Ft=0,On=null,Wr(t,C,P,Z),o&&$r){S=0;break t}break;default:Z=Ft,Ft=0,On=null,Wr(t,C,P,Z)}}_w(),S=_e;break}catch(W){wy(t,W)}while(!0);return i&&t.shellSuspendCounter++,li=Li=null,Gt=u,F.H=m,F.A=p,Dt===null&&(ne=null,Bt=0,Ba()),S}function _w(){for(;Dt!==null;)Ay(Dt)}function bw(t,i){var o=Gt;Gt|=2;var u=Ty(),m=Ey();ne!==t||Bt!==i?(_c=null,vc=nn()+500,Yr(t,i)):$r=ga(t,i);t:do try{if(Ft!==0&&Dt!==null){i=Dt;var p=On;e:switch(Ft){case 1:Ft=0,On=null,Wr(t,i,p,1);break;case 2:case 9:if(Pp(p)){Ft=0,On=null,Cy(i);break}i=function(){Ft!==2&&Ft!==9||ne!==t||(Ft=7),Mi(t)},p.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Pp(p)?(Ft=0,On=null,Cy(i)):(Ft=0,On=null,Wr(t,i,p,7));break;case 5:var S=null;switch(Dt.tag){case 26:S=Dt.memoizedState;case 5:case 27:var C=Dt;if(S?dv(S):C.stateNode.complete){Ft=0,On=null;var P=C.sibling;if(P!==null)Dt=P;else{var Z=C.return;Z!==null?(Dt=Z,wc(Z)):Dt=null}break e}}Ft=0,On=null,Wr(t,i,p,5);break;case 6:Ft=0,On=null,Wr(t,i,p,6);break;case 8:Zd(),_e=6;break t;default:throw Error(r(462))}}xw();break}catch(W){wy(t,W)}while(!0);return li=Li=null,F.H=u,F.A=m,Gt=o,Dt!==null?0:(ne=null,Bt=0,Ba(),_e)}function xw(){for(;Dt!==null&&!mu();)Ay(Dt)}function Ay(t){var i=Wg(t.alternate,t,os);t.memoizedProps=t.pendingProps,i===null?wc(t):Dt=i}function Cy(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Zg(o,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=Zg(o,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:rd(i);default:Jg(o,i),i=Dt=tl(i,os),i=Wg(o,i,os)}t.memoizedProps=t.pendingProps,i===null?wc(t):Dt=i}function Wr(t,i,o,u){li=Li=null,rd(i),Ur=null,ol=0;var m=i.return;try{if(uw(t,m,i,o,Bt)){_e=1,uc(t,l(o,t.current)),Dt=null;return}}catch(p){if(m!==null)throw Dt=m,p;_e=1,uc(t,l(o,t.current)),Dt=null;return}i.flags&32768?(Nt||u===1?t=!0:$r||(Bt&536870912)!==0?t=!1:(Gs=t=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),jy(i,t)):wc(i)}function wc(t){var i=t;do{if((i.flags&32768)!==0){jy(i,Gs);return}t=i.return;var o=dw(i.alternate,i,os);if(o!==null){Dt=o;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=t}while(i!==null);_e===0&&(_e=5)}function jy(t,i){do{var o=fw(t.alternate,t);if(o!==null){o.flags&=32767,Dt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=o}while(t!==null);_e=6,Dt=null}function Ry(t,i,o,u,m,p,S,C,P){t.cancelPendingCommit=null;do Sc();while(De!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(p=i.lanes|i.childLanes,p|=Lr,Ch(t,o,p,S,C,P),t===ne&&(Dt=ne=null,Bt=0),Fr=i,Fs=t,ls=o,Id=p,Hd=m,vy=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ew(ha,function(){return Ny(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,m=it.p,it.p=2,S=Gt,Gt|=4;try{mw(t,i,o)}finally{Gt=S,it.p=m,F.T=u}}De=1,Oy(),Ly(),ky()}}function Oy(){if(De===1){De=0;var t=Fs,i=Fr,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var u=it.p;it.p=2;var m=Gt;Gt|=4;try{cy(i,t);var p=sf,S=Ma(t.containerInfo),C=p.focusedElem,P=p.selectionRange;if(S!==C&&C&&C.ownerDocument&&Cr(C.ownerDocument.documentElement,C)){if(P!==null&&Ti(C)){var Z=P.start,W=P.end;if(W===void 0&&(W=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(W,C.value.length);else{var tt=C.ownerDocument||document,$=tt&&tt.defaultView||window;if($.getSelection){var K=$.getSelection(),ft=C.textContent.length,_t=Math.min(P.start,ft),te=P.end===void 0?_t:Math.min(P.end,ft);!K.extend&&_t>te&&(S=te,te=_t,_t=S);var V=ka(C,_t),U=ka(C,te);if(V&&U&&(K.rangeCount!==1||K.anchorNode!==V.node||K.anchorOffset!==V.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var q=tt.createRange();q.setStart(V.node,V.offset),K.removeAllRanges(),_t>te?(K.addRange(q),K.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),K.addRange(q))}}}}for(tt=[],K=C;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<tt.length;C++){var X=tt[C];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Dc=!!nf,sf=nf=null}finally{Gt=m,it.p=u,F.T=o}}t.current=i,De=2}}function Ly(){if(De===2){De=0;var t=Fs,i=Fr,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var u=it.p;it.p=2;var m=Gt;Gt|=4;try{ay(t,i.alternate,i)}finally{Gt=m,it.p=u,F.T=o}}De=3}}function ky(){if(De===4||De===3){De=0,pu();var t=Fs,i=Fr,o=ls,u=vy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?De=5:(De=0,Fr=Fs=null,My(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Ks=null),pt(o),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(_s,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=F.T,m=it.p,it.p=2,F.T=null;try{for(var p=t.onRecoverableError,S=0;S<u.length;S++){var C=u[S];p(C.value,{componentStack:C.stack})}}finally{F.T=i,it.p=m}}(ls&3)!==0&&Sc(),Mi(t),m=t.pendingLanes,(o&261930)!==0&&(m&42)!==0?t===qd?Tl++:(Tl=0,qd=t):Tl=0,El(0)}}function My(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Sc(){return Oy(),Ly(),ky(),Ny()}function Ny(){if(De!==5)return!1;var t=Fs,i=Id;Id=0;var o=pt(ls),u=F.T,m=it.p;try{it.p=32>o?32:o,F.T=null,o=Hd,Hd=null;var p=Fs,S=ls;if(De=0,Fr=Fs=null,ls=0,(Gt&6)!==0)throw Error(r(331));var C=Gt;if(Gt|=4,py(p.current),dy(p,p.current,S,o),Gt=C,El(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(_s,p)}catch{}return!0}finally{it.p=m,F.T=u,My(t,i)}}function Dy(t,i,o){i=l(o,i),i=xd(t.stateNode,i,2),t=Is(t,i,2),t!==null&&(Ii(t,2),Mi(t))}function Yt(t,i,o){if(t.tag===3)Dy(t,t,o);else for(;i!==null;){if(i.tag===3){Dy(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ks===null||!Ks.has(u))){t=l(o,t),o=Pg(2),u=Is(i,o,2),u!==null&&(zg(o,u,i,t),Ii(u,2),Mi(u));break}}i=i.return}}function $d(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new yw;var m=new Set;u.set(i,m)}else m=u.get(i),m===void 0&&(m=new Set,u.set(i,m));m.has(o)||(Bd=!0,m.add(o),t=ww.bind(null,t,i,o),i.then(t,t))}function ww(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,ne===t&&(Bt&o)===o&&(_e===4||_e===3&&(Bt&62914560)===Bt&&300>nn()-yc?(Gt&2)===0&&Yr(t,0):Ud|=o,Kr===Bt&&(Kr=0)),Mi(t)}function Py(t,i){i===0&&(i=yu()),t=Zn(t,i),t!==null&&(Ii(t,i),Mi(t))}function Sw(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Py(t,o)}function Tw(t,i){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,m=t.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),Py(t,o)}function Ew(t,i){return fr(t,i)}var Tc=null,Xr=null,Kd=!1,Ec=!1,Fd=!1,Ws=0;function Mi(t){t!==Xr&&t.next===null&&(Xr===null?Tc=Xr=t:Xr=Xr.next=t),Ec=!0,Kd||(Kd=!0,Cw())}function El(t,i){if(!Fd&&Ec){Fd=!0;do for(var o=!1,u=Tc;u!==null;){if(t!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var S=u.suspendedLanes,C=u.pingedLanes;p=(1<<31-sn(42|t)+1)-1,p&=m&~(S&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Vy(u,p))}else p=Bt,p=pr(u,u===ne?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ga(u,p)||(o=!0,Vy(u,p));u=u.next}while(o);Fd=!1}}function Aw(){zy()}function zy(){Ec=Kd=!1;var t=0;Ws!==0&&zw()&&(t=Ws);for(var i=nn(),o=null,u=Tc;u!==null;){var m=u.next,p=By(u,i);p===0?(u.next=null,o===null?Tc=m:o.next=m,m===null&&(Xr=o)):(o=u,(t!==0||(p&3)!==0)&&(Ec=!0)),u=m}De!==0&&De!==5||El(t),Ws!==0&&(Ws=0)}function By(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var S=31-sn(p),C=1<<S,P=m[S];P===-1?((C&o)===0||(C&u)!==0)&&(m[S]=Ah(C,i)):P<=i&&(t.expiredLanes|=C),p&=~C}if(i=ne,o=Bt,o=pr(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&ca(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||ga(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&ca(u),pt(o)){case 2:case 8:o=Lo;break;case 32:o=ha;break;case 268435456:o=ko;break;default:o=ha}return u=Uy.bind(null,t),o=fr(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&ca(u),t.callbackPriority=2,t.callbackNode=null,2}function Uy(t,i){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Sc()&&t.callbackNode!==o)return null;var u=Bt;return u=pr(t,t===ne?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(by(t,u,i),By(t,nn()),t.callbackNode!=null&&t.callbackNode===o?Uy.bind(null,t):null)}function Vy(t,i){if(Sc())return null;by(t,i,!0)}function Cw(){Uw(function(){(Gt&6)!==0?fr(mr,Aw):zy()})}function Yd(){if(Ws===0){var t=Pr;t===0&&(t=fa,fa<<=1,(fa&261888)===0&&(fa=256)),Ws=t}return Ws}function Iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Es(""+t)}function Hy(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function jw(t,i,o,u,m){if(i==="submit"&&o&&o.stateNode===m){var p=Iy((m[Be]||null).action),S=u.submitter;S&&(i=(i=S[Be]||null)?Iy(i.formAction):S.getAttribute("formAction"),i!==null&&(p=i,S=null));var C=new br("action","action",null,u,m);t.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var P=S?Hy(m,S):new FormData(m);pd(o,{pending:!0,data:P,method:m.method,action:p},null,P)}}else typeof p=="function"&&(C.preventDefault(),P=S?Hy(m,S):new FormData(m),pd(o,{pending:!0,data:P,method:m.method,action:p},p,P))},currentTarget:m}]})}}for(var Wd=0;Wd<Ci.length;Wd++){var Xd=Ci[Wd],Rw=Xd.toLowerCase(),Ow=Xd[0].toUpperCase()+Xd.slice(1);mn(Rw,"on"+Ow)}mn(Da,"onAnimationEnd"),mn(qu,"onAnimationIteration"),mn(Pa,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Vh,"onTransitionRun"),mn(Zu,"onTransitionStart"),mn(Ih,"onTransitionCancel"),mn(Ps,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function qy(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],m=u.event;u=u.listeners;t:{var p=void 0;if(i)for(var S=u.length-1;0<=S;S--){var C=u[S],P=C.instance,Z=C.currentTarget;if(C=C.listener,P!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=Z;try{p(m)}catch(W){za(W)}m.currentTarget=null,p=P}else for(S=0;S<u.length;S++){if(C=u[S],P=C.instance,Z=C.currentTarget,C=C.listener,P!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=Z;try{p(m)}catch(W){za(W)}m.currentTarget=null,p=P}}}}function Pt(t,i){var o=i[vi];o===void 0&&(o=i[vi]=new Set);var u=t+"__bubble";o.has(u)||(Zy(i,t,2,!1),o.add(u))}function Jd(t,i,o){var u=0;i&&(u|=4),Zy(o,t,u,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Ac]){t[Ac]=!0,Su.forEach(function(o){o!=="selectionchange"&&(Lw.has(o)||Jd(o,!1,t),Jd(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Jd("selectionchange",!1,i))}}function Zy(t,i,o,u){switch(_v(i)){case 2:var m=aS;break;case 8:m=rS;break;default:m=pf}o=m.bind(null,i,o,t),m=void 0,!Sa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),u?m!==void 0?t.addEventListener(i,o,{capture:!0,passive:m}):t.addEventListener(i,o,!0):m!==void 0?t.addEventListener(i,o,{passive:m}):t.addEventListener(i,o,!1)}function tf(t,i,o,u,m){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var C=u.stateNode.containerInfo;if(C===m)break;if(S===4)for(S=u.return;S!==null;){var P=S.tag;if((P===3||P===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;C!==null;){if(S=qi(C),S===null)return;if(P=S.tag,P===5||P===6||P===26||P===27){u=p=S;continue t}C=C.parentNode}}u=u.return}qo(function(){var Z=p,W=wa(o),tt=[];t:{var $=Gu.get(t);if($!==void 0){var K=br,ft=t;switch(t){case"keypress":if(Ta(o)===0)break t;case"keydown":case"keyup":K=Lu;break;case"focusin":ft="focus",K=$o;break;case"focusout":ft="blur",K=$o;break;case"beforeblur":case"afterblur":K=$o;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Nh;break;case Da:case qu:case Pa:K=Ko;break;case Ps:K=Nu;break;case"scroll":case"scrollend":K=zt;break;case"wheel":K=Fi;break;case"copy":case"cut":case"paste":K=Vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ku;break;case"toggle":case"beforetoggle":K=Ca}var _t=(i&4)!==0,te=!_t&&(t==="scroll"||t==="scrollend"),V=_t?$!==null?$+"Capture":null:$;_t=[];for(var U=Z,q;U!==null;){var X=U;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||V===null||(X=$i(U,V),X!=null&&_t.push(Cl(U,X,q))),te)break;U=U.return}0<_t.length&&($=new K($,ft,null,o,W),tt.push({event:$,listeners:_t}))}}if((i&7)===0){t:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&o!==_r&&(ft=o.relatedTarget||o.fromElement)&&(qi(ft)||ft[Hi]))break t;if((K||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,K?(ft=o.relatedTarget||o.toElement,K=Z,ft=ft?qi(ft):null,ft!==null&&(te=h(ft),_t=ft.tag,ft!==te||_t!==5&&_t!==27&&_t!==6)&&(ft=null)):(K=null,ft=Z),K!==ft)){if(_t=Au,X="onMouseLeave",V="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(_t=ku,X="onPointerLeave",V="onPointerEnter",U="pointer"),te=K==null?$:_i(K),q=ft==null?$:_i(ft),$=new _t(X,U+"leave",K,o,W),$.target=te,$.relatedTarget=q,X=null,qi(W)===Z&&(_t=new _t(V,U+"enter",ft,o,W),_t.target=q,_t.relatedTarget=te,X=_t),te=X,K&&ft)e:{for(_t=kw,V=K,U=ft,q=0,X=V;X;X=_t(X))q++;X=0;for(var vt=U;vt;vt=_t(vt))X++;for(;0<q-X;)V=_t(V),q--;for(;0<X-q;)U=_t(U),X--;for(;q--;){if(V===U||U!==null&&V===U.alternate){_t=V;break e}V=_t(V),U=_t(U)}_t=null}else _t=null;K!==null&&Gy(tt,$,K,_t,!1),ft!==null&&te!==null&&Gy(tt,te,ft,_t,!0)}}t:{if($=Z?_i(Z):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var qt=La;else if(In($))if(Bu)qt=Uh;else{qt=Bh;var mt=ai}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Z&&xa(Z.elementType)&&(qt=La):qt=ks;if(qt&&(qt=qt(t,Z))){zu(tt,qt,o,W);break t}mt&&mt(t,$,Z),t==="focusout"&&Z&&$.type==="number"&&Z.memoizedProps.value!=null&&ni($,"number",$.value)}switch(mt=Z?_i(Z):window,t){case"focusin":(In(mt)||mt.contentEditable==="true")&&(Ei=mt,Rr=Z,Na=null);break;case"focusout":Na=Rr=Ei=null;break;case"mousedown":Ns=!0;break;case"contextmenu":case"mouseup":case"dragend":Ns=!1,Iu(tt,o,W);break;case"selectionchange":if(jr)break;case"keydown":case"keyup":Iu(tt,o,W)}var Ot;if(wr)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Rs?Pu(t,o)&&(Ut="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Sr&&o.locale!=="ko"&&(Rs||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Rs&&(Ot=wi()):(Un=W,Ki="value"in Un?Un.value:Un.textContent,Rs=!0)),mt=Cc(Z,Ut),0<mt.length&&(Ut=new Fo(Ut,t,null,o,W),tt.push({event:Ut,listeners:mt}),Ot?Ut.data=Ot:(Ot=Jo(o),Ot!==null&&(Ut.data=Ot)))),(Ot=Ph?Cn(t,o):Os(t,o))&&(Ut=Cc(Z,"onBeforeInput"),0<Ut.length&&(mt=new Fo("onBeforeInput","beforeinput",null,o,W),tt.push({event:mt,listeners:Ut}),mt.data=Ot)),jw(tt,t,Z,o,W)}qy(tt,i)})}function Cl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Cc(t,i){for(var o=i+"Capture",u=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=$i(t,o),m!=null&&u.unshift(Cl(t,m,p)),m=$i(t,i),m!=null&&u.push(Cl(t,m,p))),t.tag===3)return u;t=t.return}return[]}function kw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gy(t,i,o,u,m){for(var p=i._reactName,S=[];o!==null&&o!==u;){var C=o,P=C.alternate,Z=C.stateNode;if(C=C.tag,P!==null&&P===u)break;C!==5&&C!==26&&C!==27||Z===null||(P=Z,m?(Z=$i(o,p),Z!=null&&S.unshift(Cl(o,Z,P))):m||(Z=$i(o,p),Z!=null&&S.push(Cl(o,Z,P)))),o=o.return}S.length!==0&&t.push({event:i,listeners:S})}var Mw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(Mw,`
`).replace(Nw,"")}function Ky(t,i){return i=$y(i),$y(t)===i}function Qt(t,i,o,u,m,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Bn(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Bn(t,""+u);break;case"className":Xt(t,"class",u);break;case"tabIndex":Xt(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(t,o,u);break;case"style":yr(t,u,p);break;case"data":if(i!=="object"){Xt(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Es(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&Qt(t,i,"name",m.name,m,null),Qt(t,i,"formEncType",m.formEncType,m,null),Qt(t,i,"formMethod",m.formMethod,m,null),Qt(t,i,"formTarget",m.formTarget,m,null)):(Qt(t,i,"encType",m.encType,m,null),Qt(t,i,"method",m.method,m,null),Qt(t,i,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Es(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=dn);break;case"onScroll":u!=null&&Pt("scroll",t);break;case"onScrollEnd":u!=null&&Pt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Es(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Pt("beforetoggle",t),Pt("toggle",t),Mt(t,"popover",u);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Mt(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vr.get(o)||o,Mt(t,o,u))}}function ef(t,i,o,u,m,p){switch(o){case"style":yr(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Bn(t,u):(typeof u=="number"||typeof u=="bigint")&&Bn(t,""+u);break;case"onScroll":u!=null&&Pt("scroll",t);break;case"onScrollEnd":u!=null&&Pt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),p=t[Be]||null,p=p!=null?p[o]:null,typeof p=="function"&&t.removeEventListener(i,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,m);break t}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Mt(t,o,u)}}}function Ke(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",t),Pt("load",t);var u=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Qt(t,i,p,S,o,null)}}m&&Qt(t,i,"srcSet",o.srcSet,o,null),u&&Qt(t,i,"src",o.src,o,null);return;case"input":Pt("invalid",t);var C=p=S=m=null,P=null,Z=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":m=W;break;case"type":S=W;break;case"checked":P=W;break;case"defaultChecked":Z=W;break;case"value":p=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:Qt(t,i,u,W,o,null)}}ba(t,p,C,P,Z,S,m,!1);return;case"select":Pt("invalid",t),u=S=p=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":p=C;break;case"defaultValue":S=C;break;case"multiple":u=C;default:Qt(t,i,m,C,o,null)}i=p,o=S,t.multiple=!!u,i!=null?ee(t,!!u,i,!1):o!=null&&ee(t,!!u,o,!0);return;case"textarea":Pt("invalid",t),p=m=u=null;for(S in o)if(o.hasOwnProperty(S)&&(C=o[S],C!=null))switch(S){case"value":u=C;break;case"defaultValue":m=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:Qt(t,i,S,C,o,null)}Ss(t,u,m,p);return;case"option":for(P in o)o.hasOwnProperty(P)&&(u=o[P],u!=null)&&(P==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":Qt(t,i,P,u,o,null));return;case"dialog":Pt("beforetoggle",t),Pt("toggle",t),Pt("cancel",t),Pt("close",t);break;case"iframe":case"object":Pt("load",t);break;case"video":case"audio":for(u=0;u<Al.length;u++)Pt(Al[u],t);break;case"image":Pt("error",t),Pt("load",t);break;case"details":Pt("toggle",t);break;case"embed":case"source":case"link":Pt("error",t),Pt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(u=o[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Qt(t,i,Z,u,o,null)}return;default:if(xa(i)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&ef(t,i,W,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&Qt(t,i,C,u,o,null))}function Dw(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,C=null,P=null,Z=null,W=null;for(K in o){var tt=o[K];if(o.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=tt;default:u.hasOwnProperty(K)||Qt(t,i,K,null,u,tt)}}for(var $ in u){var K=u[$];if(tt=o[$],u.hasOwnProperty($)&&(K!=null||tt!=null))switch($){case"type":p=K;break;case"name":m=K;break;case"checked":Z=K;break;case"defaultChecked":W=K;break;case"value":S=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:K!==tt&&Qt(t,i,$,K,u,tt)}}Vo(t,S,C,P,Z,W,p,m);return;case"select":K=S=C=$=null;for(p in o)if(P=o[p],o.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":K=P;default:u.hasOwnProperty(p)||Qt(t,i,p,null,u,P)}for(m in u)if(p=u[m],P=o[m],u.hasOwnProperty(m)&&(p!=null||P!=null))switch(m){case"value":$=p;break;case"defaultValue":C=p;break;case"multiple":S=p;default:p!==P&&Qt(t,i,m,p,u,P)}i=C,o=S,u=K,$!=null?ee(t,!!o,$,!1):!!u!=!!o&&(i!=null?ee(t,!!o,i,!0):ee(t,!!o,o?[]:"",!1));return;case"textarea":K=$=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Qt(t,i,C,null,u,m)}for(S in u)if(m=u[S],p=o[S],u.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":$=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==p&&Qt(t,i,S,m,u,p)}xi(t,$,K);return;case"option":for(var ft in o)$=o[ft],o.hasOwnProperty(ft)&&$!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?t.selected=!1:Qt(t,i,ft,null,u,$));for(P in u)$=u[P],K=o[P],u.hasOwnProperty(P)&&$!==K&&($!=null||K!=null)&&(P==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":Qt(t,i,P,$,u,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)$=o[_t],o.hasOwnProperty(_t)&&$!=null&&!u.hasOwnProperty(_t)&&Qt(t,i,_t,null,u,$);for(Z in u)if($=u[Z],K=o[Z],u.hasOwnProperty(Z)&&$!==K&&($!=null||K!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:Qt(t,i,Z,$,u,K)}return;default:if(xa(i)){for(var te in o)$=o[te],o.hasOwnProperty(te)&&$!==void 0&&!u.hasOwnProperty(te)&&ef(t,i,te,void 0,u,$);for(W in u)$=u[W],K=o[W],!u.hasOwnProperty(W)||$===K||$===void 0&&K===void 0||ef(t,i,W,$,u,K);return}}for(var V in o)$=o[V],o.hasOwnProperty(V)&&$!=null&&!u.hasOwnProperty(V)&&Qt(t,i,V,null,u,$);for(tt in u)$=u[tt],K=o[tt],!u.hasOwnProperty(tt)||$===K||$==null&&K==null||Qt(t,i,tt,$,u,K)}function Fy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],p=m.transferSize,S=m.initiatorType,C=m.duration;if(p&&C&&Fy(S)){for(S=0,C=m.responseEnd,u+=1;u<o.length;u++){var P=o[u],Z=P.startTime;if(Z>C)break;var W=P.transferSize,tt=P.initiatorType;W&&Fy(tt)&&(P=P.responseEnd,S+=W*(P<C?1:(C-Z)/(P-Z)))}if(--u,i+=8*(p+S)/(m.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nf=null,sf=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function Yy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function af(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rf=null;function zw(){var t=window.event;return t&&t.type==="popstate"?t===rf?!1:(rf=t,!0):(rf=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(Vw)}:Xy;function Vw(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function Qy(t,i){var o=i,u=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(m),eo(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")jl(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,jl(o);for(var p=o.firstChild;p;){var S=p.nextSibling,C=p.nodeName;p[ya]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=S}}else o==="body"&&jl(t.ownerDocument.body);o=m}while(o);eo(i)}function tv(t,i){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function of(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":of(o),Po(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function Iw(t,i,o,u){for(;t.nodeType===1;){var m=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ya])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Hw(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Kn(t.nextSibling),t===null))return null;return t}function ev(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function lf(t){return t.data==="$?"||t.data==="$~"}function uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qw(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var cf=null;function nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return Kn(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function sv(t,i,o){switch(i=jc(o),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Po(t)}var Fn=new Map,av=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=it.d;it.d={f:Zw,r:Gw,D:$w,C:Kw,L:Fw,m:Yw,X:Xw,S:Ww,M:Jw};function Zw(){var t=us.f(),i=bc();return t||i}function Gw(t){var i=bs(t);i!==null&&i.tag===5&&i.type==="form"?wg(i):us.r(t)}var Jr=typeof document>"u"?null:document;function rv(t,i,o){var u=Jr;if(u&&typeof i=="string"&&i){var m=se(i);m='link[rel="'+t+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),av.has(m)||(av.add(m),t={rel:t,crossOrigin:o,href:i},u.querySelector(m)===null&&(i=u.createElement("link"),Ke(i,"link",t),Ae(i),u.head.appendChild(i)))}}function $w(t){us.D(t),rv("dns-prefetch",t,null)}function Kw(t,i){us.C(t,i),rv("preconnect",t,i)}function Fw(t,i,o){us.L(t,i,o);var u=Jr;if(u&&t&&i){var m='link[rel="preload"][as="'+se(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+se(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+se(o.imageSizes)+'"]')):m+='[href="'+se(t)+'"]';var p=m;switch(i){case"style":p=Qr(t);break;case"script":p=to(t)}Fn.has(p)||(t=T({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Fn.set(p,t),u.querySelector(m)!==null||i==="style"&&u.querySelector(Rl(p))||i==="script"&&u.querySelector(Ol(p))||(i=u.createElement("link"),Ke(i,"link",t),Ae(i),u.head.appendChild(i)))}}function Yw(t,i){us.m(t,i);var o=Jr;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+se(u)+'"][href="'+se(t)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=to(t)}if(!Fn.has(p)&&(t=T({rel:"modulepreload",href:t},i),Fn.set(p,t),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ol(p)))return}u=o.createElement("link"),Ke(u,"link",t),Ae(u),o.head.appendChild(u)}}}function Ww(t,i,o){us.S(t,i,o);var u=Jr;if(u&&t){var m=xs(u).hoistableStyles,p=Qr(t);i=i||"default";var S=m.get(p);if(!S){var C={loading:0,preload:null};if(S=u.querySelector(Rl(p)))C.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Fn.get(p))&&hf(t,o);var P=S=u.createElement("link");Ae(P),Ke(P,"link",t),P._p=new Promise(function(Z,W){P.onload=Z,P.onerror=W}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Oc(S,i,u)}S={type:"stylesheet",instance:S,count:1,state:C},m.set(p,S)}}}function Xw(t,i){us.X(t,i);var o=Jr;if(o&&t){var u=xs(o).hoistableScripts,m=to(t),p=u.get(m);p||(p=o.querySelector(Ol(m)),p||(t=T({src:t,async:!0},i),(i=Fn.get(m))&&df(t,i),p=o.createElement("script"),Ae(p),Ke(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function Jw(t,i){us.M(t,i);var o=Jr;if(o&&t){var u=xs(o).hoistableScripts,m=to(t),p=u.get(m);p||(p=o.querySelector(Ol(m)),p||(t=T({src:t,async:!0,type:"module"},i),(i=Fn.get(m))&&df(t,i),p=o.createElement("script"),Ae(p),Ke(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function ov(t,i,o,u){var m=(m=ct.current)?Rc(m):null;if(!m)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Qr(o.href),o=xs(m).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Qr(o.href);var p=xs(m).hoistableStyles,S=p.get(t);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,S),(p=m.querySelector(Rl(t)))&&!p._p&&(S.instance=p,S.state.loading=5),Fn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(t,o),p||Qw(m,t,o,S.state))),i&&u===null)throw Error(r(528,""));return S}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(o),o=xs(m).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Qr(t){return'href="'+se(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Qw(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ke(i,"link",o),Ae(i),t.head.appendChild(i))}function to(t){return'[src="'+se(t)+'"]'}function Ol(t){return"script[async]"+t}function uv(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+se(o.href)+'"]');if(u)return i.instance=u,Ae(u),u;var m=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ae(u),Ke(u,"style",m),Oc(u,o.precedence,t),i.instance=u;case"stylesheet":m=Qr(o.href);var p=t.querySelector(Rl(m));if(p)return i.state.loading|=4,i.instance=p,Ae(p),p;u=lv(o),(m=Fn.get(m))&&hf(u,m),p=(t.ownerDocument||t).createElement("link"),Ae(p);var S=p;return S._p=new Promise(function(C,P){S.onload=C,S.onerror=P}),Ke(p,"link",u),i.state.loading|=4,Oc(p,o.precedence,t),i.instance=p;case"script":return p=to(o.src),(m=t.querySelector(Ol(p)))?(i.instance=m,Ae(m),m):(u=o,(m=Fn.get(p))&&(u=T({},o),df(u,m)),t=t.ownerDocument||t,m=t.createElement("script"),Ae(m),Ke(m,"link",u),t.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Oc(u,o.precedence,t));return i.instance}function Oc(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,S=0;S<u.length;S++){var C=u[S];if(C.dataset.precedence===i)p=C;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function hf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function df(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function cv(t,i,o){if(Lc===null){var u=new Map,m=Lc=new Map;m.set(o,u)}else m=Lc,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),m=0;m<o.length;m++){var p=o[m];if(!(p[ya]||p[Ee]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(i)||"";S=t+S;var C=u.get(S);C?C.push(p):u.set(S,[p])}}return u}function hv(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function tS(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eS(t,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Qr(u.href),p=i.querySelector(Rl(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=kc.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=p,Ae(p);return}p=i.ownerDocument||i,u=lv(u),(m=Fn.get(m))&&hf(u,m),p=p.createElement("link"),Ae(p);var S=p;S._p=new Promise(function(C,P){S.onload=C,S.onerror=P}),Ke(p,"link",u),o.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=kc.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var ff=0;function nS(t,i){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&ff===0&&(ff=62500*Pw());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>ff?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Nc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,i.forEach(iS,t),Mc=null,kc.call(t))}function iS(t,i){if(!(i.state.loading&4)){var o=Mc.get(t);if(o)var u=o.get(null);else{o=new Map,Mc.set(t,o);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}m=i.instance,S=m.getAttribute("data-precedence"),p=o.get(S)||u,p===u&&o.set(null,m),o.set(S,m),this.count++,u=kc.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:N,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function sS(t,i,o,u,m,p,S,C,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.hiddenUpdates=Mo(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function fv(t,i,o,u,m,p,S,C,P,Z,W,tt){return t=new sS(t,i,o,S,P,Z,W,tt,C),i=1,p===!0&&(i|=24),p=Qe(3,null,null,i),t.current=p,p.stateNode=t,i=Gh(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},Yh(p),t}function mv(t){return t?(t=Yi,t):Yi}function pv(t,i,o,u,m,p){m=mv(m),u.context===null?u.context=m:u.pendingContext=m,u=Vs(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Is(t,u,i),o!==null&&(xn(o,t,i),ul(o,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function mf(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function yv(t){if(t.tag===13||t.tag===31){var i=Zn(t,67108864);i!==null&&xn(i,t,67108864),mf(t,67108864)}}function vv(t){if(t.tag===13||t.tag===31){var i=kn();i=cn(i);var o=Zn(t,i);o!==null&&xn(o,t,i),mf(t,i)}}var Dc=!0;function aS(t,i,o,u){var m=F.T;F.T=null;var p=it.p;try{it.p=2,pf(t,i,o,u)}finally{it.p=p,F.T=m}}function rS(t,i,o,u){var m=F.T;F.T=null;var p=it.p;try{it.p=8,pf(t,i,o,u)}finally{it.p=p,F.T=m}}function pf(t,i,o,u){if(Dc){var m=gf(u);if(m===null)tf(t,i,u,Pc,o),bv(t,u);else if(lS(m,t,i,o,u))u.stopPropagation();else if(bv(t,u),i&4&&-1<oS.indexOf(t)){for(;m!==null;){var p=bs(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Vi(p.pendingLanes);if(S!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var P=1<<31-sn(S);C.entanglements[1]|=P,S&=~P}Mi(p),(Gt&6)===0&&(vc=nn()+500,El(0))}}break;case 31:case 13:C=Zn(p,2),C!==null&&xn(C,p,2),bc(),mf(p,2)}if(p=gf(u),p===null&&tf(t,i,u,Pc,o),p===m)break;m=p}m!==null&&u.stopPropagation()}else tf(t,i,u,null,o)}}function gf(t){return t=wa(t),yf(t)}var Pc=null;function yf(t){if(Pc=null,t=qi(t),t!==null){var i=h(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=d(i),t!==null)return t;t=null}else if(o===31){if(t=g(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pc=t,null}function _v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xh()){case mr:return 2;case Lo:return 8;case ha:case wh:return 32;case ko:return 268435456;default:return 32}default:return 32}}var vf=!1,Js=null,Qs=null,ta=null,kl=new Map,Ml=new Map,ea=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(t,i){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Nl(t,i,o,u,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},i!==null&&(i=bs(i),i!==null&&yv(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),t)}function lS(t,i,o,u,m){switch(i){case"focusin":return Js=Nl(Js,t,i,o,u,m),!0;case"dragenter":return Qs=Nl(Qs,t,i,o,u,m),!0;case"mouseover":return ta=Nl(ta,t,i,o,u,m),!0;case"pointerover":var p=m.pointerId;return kl.set(p,Nl(kl.get(p)||null,t,i,o,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Ml.set(p,Nl(Ml.get(p)||null,t,i,o,u,m)),!0}return!1}function xv(t){var i=qi(t.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){t.blockedOn=i,Do(t.priority,function(){vv(o)});return}}else if(i===31){if(i=g(o),i!==null){t.blockedOn=i,Do(t.priority,function(){vv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=gf(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);_r=u,o.target.dispatchEvent(u),_r=null}else return i=bs(o),i!==null&&yv(i),t.blockedOn=o,!1;i.shift()}return!0}function wv(t,i,o){zc(t)&&o.delete(i)}function uS(){vf=!1,Js!==null&&zc(Js)&&(Js=null),Qs!==null&&zc(Qs)&&(Qs=null),ta!==null&&zc(ta)&&(ta=null),kl.forEach(wv),Ml.forEach(wv)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,vf||(vf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uS)))}var Uc=null;function Sv(t){Uc!==t&&(Uc=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],m=t[i+2];if(typeof u!="function"){if(yf(u||o)===null)continue;break}var p=bs(o);p!==null&&(t.splice(i,3),i-=3,pd(p,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function eo(t){function i(P){return Bc(P,t)}Js!==null&&Bc(Js,t),Qs!==null&&Bc(Qs,t),ta!==null&&Bc(ta,t),kl.forEach(i),Ml.forEach(i);for(var o=0;o<ea.length;o++){var u=ea[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ea.length&&(o=ea[0],o.blockedOn===null);)xv(o),o.blockedOn===null&&ea.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],p=o[u+1],S=m[Be]||null;if(typeof p=="function")S||Sv(o);else if(S){var C=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[Be]||null)C=S.formAction;else if(yf(m)!==null)continue}else C=S.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),Sv(o)}}}function Tv(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function _f(t){this._internalRoot=t}Vc.prototype.render=_f.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=kn();pv(o,u,t,i,null,null)},Vc.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),bc(),i[Hi]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var i=No();t={blockedOn:null,target:t,priority:i};for(var o=0;o<ea.length&&i!==0&&i<ea[o].priority;o++);ea.splice(o,0,t),o===0&&xv(t)}};var Ev=e.version;if(Ev!=="19.2.3")throw Error(r(527,Ev,"19.2.3"));it.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var cS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{_s=Ic.inject(cS),qe=Ic}catch{}}return Pl.createRoot=function(t,i){if(!c(t))throw Error(r(299));var o=!1,u="",m=kg,p=Mg,S=Ng;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=fv(t,1,!1,null,null,o,u,null,m,p,S,Tv),t[Hi]=i.current,Qd(t),new _f(i)},Pl.hydrateRoot=function(t,i,o){if(!c(t))throw Error(r(299));var u=!1,m="",p=kg,S=Mg,C=Ng,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),i=fv(t,1,!0,i,o??null,u,m,P,p,S,C,Tv),i.context=mv(null),o=i.current,u=kn(),u=cn(u),m=Vs(u),m.callback=null,Is(o,m,u),o=u,i.current.lanes=o,Ii(i,o),Mi(i),t[Hi]=i.current,Qd(t),new Vc(i)},Pl.version="19.2.3",Pl}var Dv;function _S(){if(Dv)return wf.exports;Dv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wf.exports=vS(),wf.exports}var bS=_S();var Pv="popstate";function xS(n={}){function e(r,c){let{pathname:h,search:d,hash:g}=r.location;return tm("",{pathname:h,search:d,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(r,c){return typeof c=="string"?c:Fl(c)}return SS(e,s,null,n)}function he(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wS(){return Math.random().toString(36).substring(2,10)}function zv(n,e){return{usr:n.state,key:n.key,idx:e}}function tm(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:s,key:e&&e.key||r||wS()}}function Fl({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function wo(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function SS(n,e,s,r={}){let{window:c=document.defaultView,v5Compat:h=!1}=r,d=c.history,g="POP",y=null,v=x();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function x(){return(d.state||{idx:null}).idx}function T(){g="POP";let D=x(),B=D==null?null:D-v;v=D,y&&y({action:g,location:O.location,delta:B})}function E(D,B){g="PUSH";let I=tm(O.location,D,B);v=x()+1;let N=zv(I,v),J=O.createHref(I);try{d.pushState(N,"",J)}catch(et){if(et instanceof DOMException&&et.name==="DataCloneError")throw et;c.location.assign(J)}h&&y&&y({action:g,location:O.location,delta:1})}function j(D,B){g="REPLACE";let I=tm(O.location,D,B);v=x();let N=zv(I,v),J=O.createHref(I);d.replaceState(N,"",J),h&&y&&y({action:g,location:O.location,delta:0})}function k(D){return TS(D)}let O={get action(){return g},get location(){return n(c,d)},listen(D){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(Pv,T),y=D,()=>{c.removeEventListener(Pv,T),y=null}},createHref(D){return e(c,D)},createURL:k,encodeLocation(D){let B=k(D);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:j,go(D){return d.go(D)}};return O}function TS(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),he(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Fl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function j0(n,e,s="/"){return ES(n,e,s,!1)}function ES(n,e,s,r){let c=typeof e=="string"?wo(e):e,h=fs(c.pathname||"/",s);if(h==null)return null;let d=R0(n);AS(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let v=zS(h);g=DS(d[y],v,r)}return g}function R0(n,e=[],s=[],r="",c=!1){let h=(d,g,y=c,v)=>{let x={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&y)return;he(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let T=ds([r,x.relativePath]),E=s.concat(x);d.children&&d.children.length>0&&(he(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),R0(d.children,e,E,T,y)),!(d.path==null&&!d.index)&&e.push({path:T,score:MS(T,d.index),routesMeta:E})};return n.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))h(d,g);else for(let y of O0(d.path))h(d,g,!0,y)}),e}function O0(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,c=s.endsWith("?"),h=s.replace(/\?$/,"");if(r.length===0)return c?[h,""]:[h];let d=O0(r.join("/")),g=[];return g.push(...d.map(y=>y===""?h:[h,y].join("/"))),c&&g.push(...d),g.map(y=>n.startsWith("/")&&y===""?"/":y)}function AS(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:NS(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var CS=/^:[\w-]+$/,jS=3,RS=2,OS=1,LS=10,kS=-2,Bv=n=>n==="*";function MS(n,e){let s=n.split("/"),r=s.length;return s.some(Bv)&&(r+=kS),e&&(r+=RS),s.filter(c=>!Bv(c)).reduce((c,h)=>c+(CS.test(h)?jS:h===""?OS:LS),r)}function NS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,c)=>r===e[c])?n[n.length-1]-e[e.length-1]:0}function DS(n,e,s=!1){let{routesMeta:r}=n,c={},h="/",d=[];for(let g=0;g<r.length;++g){let y=r[g],v=g===r.length-1,x=h==="/"?e:e.slice(h.length)||"/",T=nh({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},x),E=y.route;if(!T&&v&&s&&!r[r.length-1].route.index&&(T=nh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},x)),!T)return null;Object.assign(c,T.params),d.push({params:c,pathname:ds([h,T.pathname]),pathnameBase:IS(ds([h,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(h=ds([h,T.pathnameBase]))}return d}function nh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=PS(n.path,n.caseSensitive,n.end),c=e.match(s);if(!c)return null;let h=c[0],d=h.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:r.reduce((v,{paramName:x,isOptional:T},E)=>{if(x==="*"){let k=g[E]||"";d=h.slice(0,h.length-k.length).replace(/(.)\/+$/,"$1")}const j=g[E];return T&&!j?v[x]=void 0:v[x]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:h,pathnameBase:d,pattern:n}}function PS(n,e=!1,s=!0){Jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),r]}function zS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BS=n=>L0.test(n);function US(n,e="/"){let{pathname:s,search:r="",hash:c=""}=typeof n=="string"?wo(n):n,h;if(s)if(BS(s))h=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?h=Uv(s.substring(1),"/"):h=Uv(s,e)}else h=e;return{pathname:h,search:HS(r),hash:qS(c)}}function Uv(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Af(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VS(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Pm(n){let e=VS(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function zm(n,e,s,r=!1){let c;typeof n=="string"?c=wo(n):(c={...n},he(!c.pathname||!c.pathname.includes("?"),Af("?","pathname","search",c)),he(!c.pathname||!c.pathname.includes("#"),Af("#","pathname","hash",c)),he(!c.search||!c.search.includes("#"),Af("#","search","hash",c)));let h=n===""||c.pathname==="",d=h?"/":c.pathname,g;if(d==null)g=s;else{let T=e.length-1;if(!r&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),T-=1;c.pathname=E.join("/")}g=T>=0?e[T]:"/"}let y=US(c,g),v=d&&d!=="/"&&d.endsWith("/"),x=(h||d===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(v||x)&&(y.pathname+="/"),y}var ds=n=>n.join("/").replace(/\/\/+/g,"/"),IS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,ZS=class{constructor(n,e,s,r=!1){this.status=n,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function GS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function $S(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var k0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function M0(n,e){let s=n;if(typeof s!="string"||!L0.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,c=!1;if(k0)try{let h=new URL(window.location.href),d=s.startsWith("//")?new URL(h.protocol+s):new URL(s),g=fs(d.pathname,e);d.origin===h.origin&&g!=null?s=g+d.search+d.hash:c=!0}catch{Jn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:c,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var KS=["GET",...N0];new Set(KS);var So=R.createContext(null);So.displayName="DataRouter";var dh=R.createContext(null);dh.displayName="DataRouterState";var FS=R.createContext(!1),D0=R.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var YS=R.createContext(new Map);YS.displayName="Fetchers";var WS=R.createContext(null);WS.displayName="Await";var Pn=R.createContext(null);Pn.displayName="Navigation";var ru=R.createContext(null);ru.displayName="Location";var yi=R.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var Bm=R.createContext(null);Bm.displayName="RouteError";var P0="REACT_ROUTER_ERROR",XS="REDIRECT",JS="ROUTE_ERROR_RESPONSE";function QS(n){if(n.startsWith(`${P0}:${XS}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function t1(n){if(n.startsWith(`${P0}:${JS}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ZS(e.status,e.statusText,e.data)}catch{}}function e1(n,{relative:e}={}){he(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=R.useContext(Pn),{hash:c,pathname:h,search:d}=ou(n,{relative:e}),g=h;return s!=="/"&&(g=h==="/"?s:ds([s,h])),r.createHref({pathname:g,search:d,hash:c})}function To(){return R.useContext(ru)!=null}function gs(){return he(To(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ru).location}var z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B0(n){R.useContext(Pn).static||R.useLayoutEffect(n)}function Te(){let{isDataRoute:n}=R.useContext(yi);return n?m1():n1()}function n1(){he(To(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(So),{basename:e,navigator:s}=R.useContext(Pn),{matches:r}=R.useContext(yi),{pathname:c}=gs(),h=JSON.stringify(Pm(r)),d=R.useRef(!1);return B0(()=>{d.current=!0}),R.useCallback((y,v={})=>{if(Jn(d.current,z0),!d.current)return;if(typeof y=="number"){s.go(y);return}let x=zm(y,JSON.parse(h),c,v.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ds([e,x.pathname])),(v.replace?s.replace:s.push)(x,v.state,v)},[e,s,h,c,n])}R.createContext(null);function Eo(){let{matches:n}=R.useContext(yi),e=n[n.length-1];return e?e.params:{}}function ou(n,{relative:e}={}){let{matches:s}=R.useContext(yi),{pathname:r}=gs(),c=JSON.stringify(Pm(s));return R.useMemo(()=>zm(n,JSON.parse(c),r,e==="path"),[n,c,r,e])}function i1(n,e){return U0(n,e)}function U0(n,e,s,r,c){he(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=R.useContext(Pn),{matches:d}=R.useContext(yi),g=d[d.length-1],y=g?g.params:{},v=g?g.pathname:"/",x=g?g.pathnameBase:"/",T=g&&g.route;{let I=T&&T.path||"";I0(v,!T||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let E=gs(),j;if(e){let I=typeof e=="string"?wo(e):e;he(x==="/"||I.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${I.pathname}" was given in the \`location\` prop.`),j=I}else j=E;let k=j.pathname||"/",O=k;if(x!=="/"){let I=x.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(I.length).join("/")}let D=j0(n,{pathname:O});Jn(T||D!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Jn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=l1(D&&D.map(I=>Object.assign({},I,{params:Object.assign({},y,I.params),pathname:ds([x,h.encodeLocation?h.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?x:ds([x,h.encodeLocation?h.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),d,s,r,c);return e&&B?R.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},B):B}function s1(){let n=f1(),e=GS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:r},h={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:h},"ErrorBoundary")," or"," ",R.createElement("code",{style:h},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),s?R.createElement("pre",{style:c},s):null,d)}var a1=R.createElement(s1,null),V0=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=t1(n.digest);s&&(n=s)}let e=n!==void 0?R.createElement(yi.Provider,{value:this.props.routeContext},R.createElement(Bm.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?R.createElement(r1,{error:n},e):e}};V0.contextType=FS;var Cf=new WeakMap;function r1({children:n,error:e}){let{basename:s}=R.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=QS(e.digest);if(r){let c=Cf.get(e);if(c)throw c;let h=M0(r.location,s);if(k0&&!Cf.get(e))if(h.isExternal||r.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:r.replace}));throw Cf.set(e,d),d}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return n}function o1({routeContext:n,match:e,children:s}){let r=R.useContext(So);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(yi.Provider,{value:n},s)}function l1(n,e=[],s=null,r=null,c=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,d=s?.errors;if(d!=null){let x=h.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);he(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,x+1))}let g=!1,y=-1;if(s)for(let x=0;x<h.length;x++){let T=h[x];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=x),T.route.id){let{loaderData:E,errors:j}=s,k=T.route.loader&&!E.hasOwnProperty(T.route.id)&&(!j||j[T.route.id]===void 0);if(T.route.lazy||k){g=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let v=s&&r?(x,T)=>{r(x,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:$S(s.matches),errorInfo:T})}:void 0;return h.reduceRight((x,T,E)=>{let j,k=!1,O=null,D=null;s&&(j=d&&T.route.id?d[T.route.id]:void 0,O=T.route.errorElement||a1,g&&(y<0&&E===0?(I0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,D=null):y===E&&(k=!0,D=T.route.hydrateFallbackElement||null)));let B=e.concat(h.slice(0,E+1)),I=()=>{let N;return j?N=O:k?N=D:T.route.Component?N=R.createElement(T.route.Component,null):T.route.element?N=T.route.element:N=x,R.createElement(o1,{match:T,routeContext:{outlet:x,matches:B,isDataRoute:s!=null},children:N})};return s&&(T.route.ErrorBoundary||T.route.errorElement||E===0)?R.createElement(V0,{location:s.location,revalidation:s.revalidation,component:O,error:j,children:I(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:v}):I()},null)}function Um(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(n){let e=R.useContext(So);return he(e,Um(n)),e}function c1(n){let e=R.useContext(dh);return he(e,Um(n)),e}function h1(n){let e=R.useContext(yi);return he(e,Um(n)),e}function Vm(n){let e=h1(n),s=e.matches[e.matches.length-1];return he(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function d1(){return Vm("useRouteId")}function f1(){let n=R.useContext(Bm),e=c1("useRouteError"),s=Vm("useRouteError");return n!==void 0?n:e.errors?.[s]}function m1(){let{router:n}=u1("useNavigate"),e=Vm("useNavigate"),s=R.useRef(!1);return B0(()=>{s.current=!0}),R.useCallback(async(c,h={})=>{Jn(s.current,z0),s.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:e,...h}))},[n,e])}var Vv={};function I0(n,e,s){!e&&!Vv[n]&&(Vv[n]=!0,Jn(!1,s))}R.memo(p1);function p1({routes:n,future:e,state:s,onError:r}){return U0(n,void 0,s,r,e)}function Im({to:n,replace:e,state:s,relative:r}){he(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=R.useContext(Pn);Jn(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=R.useContext(yi),{pathname:d}=gs(),g=Te(),y=zm(n,Pm(h),d,r==="path"),v=JSON.stringify(y);return R.useEffect(()=>{g(JSON.parse(v),{replace:e,state:s,relative:r})},[g,v,r,e,s]),null}function He(n){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g1({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:c,static:h=!1,unstable_useTransitions:d}){he(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),y=R.useMemo(()=>({basename:g,navigator:c,static:h,unstable_useTransitions:d,future:{}}),[g,c,h,d]);typeof s=="string"&&(s=wo(s));let{pathname:v="/",search:x="",hash:T="",state:E=null,key:j="default"}=s,k=R.useMemo(()=>{let O=fs(v,g);return O==null?null:{location:{pathname:O,search:x,hash:T,state:E,key:j},navigationType:r}},[g,v,x,T,E,j,r]);return Jn(k!=null,`<Router basename="${g}"> is not able to match the URL "${v}${x}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:R.createElement(Pn.Provider,{value:y},R.createElement(ru.Provider,{children:e,value:k}))}function y1({children:n,location:e}){return i1(em(n),e)}function em(n,e=[]){let s=[];return R.Children.forEach(n,(r,c)=>{if(!R.isValidElement(r))return;let h=[...e,c];if(r.type===R.Fragment){s.push.apply(s,em(r.props.children,h));return}he(r.type===He,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||h.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=em(r.props.children,h)),s.push(d)}),s}var Wc="get",Xc="application/x-www-form-urlencoded";function fh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function v1(n){return fh(n)&&n.tagName.toLowerCase()==="button"}function _1(n){return fh(n)&&n.tagName.toLowerCase()==="form"}function b1(n){return fh(n)&&n.tagName.toLowerCase()==="input"}function x1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function w1(n,e){return n.button===0&&(!e||e==="_self")&&!x1(n)}var Hc=null;function S1(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var T1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(n){return n!=null&&!T1.has(n)?(Jn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):n}function E1(n,e){let s,r,c,h,d;if(_1(n)){let g=n.getAttribute("action");r=g?fs(g,e):null,s=n.getAttribute("method")||Wc,c=jf(n.getAttribute("enctype"))||Xc,h=new FormData(n)}else if(v1(n)||b1(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||g.getAttribute("action");if(r=y?fs(y,e):null,s=n.getAttribute("formmethod")||g.getAttribute("method")||Wc,c=jf(n.getAttribute("formenctype"))||jf(g.getAttribute("enctype"))||Xc,h=new FormData(g,n),!S1()){let{name:v,type:x,value:T}=n;if(x==="image"){let E=v?`${v}.`:"";h.append(`${E}x`,"0"),h.append(`${E}y`,"0")}else v&&h.append(v,T)}}else{if(fh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Wc,r=null,c=Xc,d=n}return h&&c==="text/plain"&&(d=h,h=void 0),{action:r,method:s.toLowerCase(),encType:c,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function A1(n,e,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&fs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function C1(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function R1(n,e,s){let r=await Promise.all(n.map(async c=>{let h=e.routes[c.route.id];if(h){let d=await C1(h,s);return d.links?d.links():[]}return[]}));return M1(r.flat(1).filter(j1).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Iv(n,e,s,r,c,h){let d=(y,v)=>s[v]?y.route.id!==s[v].route.id:!0,g=(y,v)=>s[v].pathname!==y.pathname||s[v].route.path?.endsWith("*")&&s[v].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,v)=>d(y,v)||g(y,v)):h==="data"?e.filter((y,v)=>{let x=r.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(d(y,v)||g(y,v))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function O1(n,e,{includeHydrateFallback:s}={}){return L1(n.map(r=>{let c=e.routes[r.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function L1(n){return[...new Set(n)]}function k1(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function M1(n,e){let s=new Set;return new Set(e),n.reduce((r,c)=>{let h=JSON.stringify(k1(c));return s.has(h)||(s.add(h),r.push({key:h,link:c})),r},[])}function H0(){let n=R.useContext(So);return Hm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function N1(){let n=R.useContext(dh);return Hm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qm=R.createContext(void 0);qm.displayName="FrameworkContext";function q0(){let n=R.useContext(qm);return Hm(n,"You must render this element inside a <HydratedRouter> element"),n}function D1(n,e){let s=R.useContext(qm),[r,c]=R.useState(!1),[h,d]=R.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:v,onMouseLeave:x,onTouchStart:T}=e,E=R.useRef(null);R.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let O=B=>{B.forEach(I=>{d(I.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[n]),R.useEffect(()=>{if(r){let O=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(O)}}},[r]);let j=()=>{c(!0)},k=()=>{c(!1),d(!1)};return s?n!=="intent"?[h,E,{}]:[h,E,{onFocus:zl(g,j),onBlur:zl(y,k),onMouseEnter:zl(v,j),onMouseLeave:zl(x,k),onTouchStart:zl(T,j)}]:[!1,E,{}]}function zl(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function P1({page:n,...e}){let{router:s}=H0(),r=R.useMemo(()=>j0(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?R.createElement(B1,{page:n,matches:r,...e}):null}function z1(n){let{manifest:e,routeModules:s}=q0(),[r,c]=R.useState([]);return R.useEffect(()=>{let h=!1;return R1(n,e,s).then(d=>{h||c(d)}),()=>{h=!0}},[n,e,s]),r}function B1({page:n,matches:e,...s}){let r=gs(),{manifest:c,routeModules:h}=q0(),{basename:d}=H0(),{loaderData:g,matches:y}=N1(),v=R.useMemo(()=>Iv(n,e,y,c,r,"data"),[n,e,y,c,r]),x=R.useMemo(()=>Iv(n,e,y,c,r,"assets"),[n,e,y,c,r]),T=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,O=!1;if(e.forEach(B=>{let I=c.routes[B.route.id];!I||!I.hasLoader||(!v.some(N=>N.route.id===B.route.id)&&B.route.id in g&&h[B.route.id]?.shouldRevalidate||I.hasClientLoader?O=!0:k.add(B.route.id))}),k.size===0)return[];let D=A1(n,d,"data");return O&&k.size>0&&D.searchParams.set("_routes",e.filter(B=>k.has(B.route.id)).map(B=>B.route.id).join(",")),[D.pathname+D.search]},[d,g,r,c,v,e,n,h]),E=R.useMemo(()=>O1(x,c),[x,c]),j=z1(x);return R.createElement(R.Fragment,null,T.map(k=>R.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...s})),E.map(k=>R.createElement("link",{key:k,rel:"modulepreload",href:k,...s})),j.map(({key:k,link:O})=>R.createElement("link",{key:k,nonce:s.nonce,...O})))}function U1(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.11.0")}catch{}function I1({basename:n,children:e,unstable_useTransitions:s,window:r}){let c=R.useRef();c.current==null&&(c.current=xS({window:r,v5Compat:!0}));let h=c.current,[d,g]=R.useState({action:h.action,location:h.location}),y=R.useCallback(v=>{s===!1?g(v):R.startTransition(()=>g(v))},[s]);return R.useLayoutEffect(()=>h.listen(y),[h,y]),R.createElement(g1,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:h,unstable_useTransitions:s})}var Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G0=R.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:c,reloadDocument:h,replace:d,state:g,target:y,to:v,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:E,...j},k){let{basename:O,unstable_useTransitions:D}=R.useContext(Pn),B=typeof v=="string"&&Z0.test(v),I=M0(v,O);v=I.to;let N=e1(v,{relative:c}),[J,et,st]=D1(r,j),rt=G1(v,{replace:d,state:g,target:y,preventScrollReset:x,relative:c,viewTransition:T,unstable_defaultShouldRevalidate:E,unstable_useTransitions:D});function dt(Wt){e&&e(Wt),Wt.defaultPrevented||rt(Wt)}let Tt=R.createElement("a",{...j,...st,href:I.absoluteURL||N,onClick:I.isExternal||h?e:dt,ref:U1(k,et),target:y,"data-discover":!B&&s==="render"?"true":void 0});return J&&!B?R.createElement(R.Fragment,null,Tt,R.createElement(P1,{page:N})):Tt});G0.displayName="Link";var H1=R.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:c=!1,style:h,to:d,viewTransition:g,children:y,...v},x){let T=ou(d,{relative:v.relative}),E=gs(),j=R.useContext(dh),{navigator:k,basename:O}=R.useContext(Pn),D=j!=null&&W1(T)&&g===!0,B=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,I=E.pathname,N=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(I=I.toLowerCase(),N=N?N.toLowerCase():null,B=B.toLowerCase()),N&&O&&(N=fs(N,O)||N);const J=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let et=I===B||!c&&I.startsWith(B)&&I.charAt(J)==="/",st=N!=null&&(N===B||!c&&N.startsWith(B)&&N.charAt(B.length)==="/"),rt={isActive:et,isPending:st,isTransitioning:D},dt=et?e:void 0,Tt;typeof r=="function"?Tt=r(rt):Tt=[r,et?"active":null,st?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Wt=typeof h=="function"?h(rt):h;return R.createElement(G0,{...v,"aria-current":dt,className:Tt,ref:x,style:Wt,to:d,viewTransition:g},typeof y=="function"?y(rt):y)});H1.displayName="NavLink";var q1=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:c,state:h,method:d=Wc,action:g,onSubmit:y,relative:v,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:E,...j},k)=>{let{unstable_useTransitions:O}=R.useContext(Pn),D=F1(),B=Y1(g,{relative:v}),I=d.toLowerCase()==="get"?"get":"post",N=typeof g=="string"&&Z0.test(g),J=et=>{if(y&&y(et),et.defaultPrevented)return;et.preventDefault();let st=et.nativeEvent.submitter,rt=st?.getAttribute("formmethod")||d,dt=()=>D(st||et.currentTarget,{fetcherKey:e,method:rt,navigate:s,replace:c,state:h,relative:v,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:E});O&&s!==!1?R.startTransition(()=>dt()):dt()};return R.createElement("form",{ref:k,method:I,action:B,onSubmit:r?y:J,...j,"data-discover":!N&&n==="render"?"true":void 0})});q1.displayName="Form";function Z1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(n){let e=R.useContext(So);return he(e,Z1(n)),e}function G1(n,{target:e,replace:s,state:r,preventScrollReset:c,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let v=Te(),x=gs(),T=ou(n,{relative:h});return R.useCallback(E=>{if(w1(E,e)){E.preventDefault();let j=s!==void 0?s:Fl(x)===Fl(T),k=()=>v(n,{replace:j,state:r,preventScrollReset:c,relative:h,viewTransition:d,unstable_defaultShouldRevalidate:g});y?R.startTransition(()=>k()):k()}},[x,v,T,s,r,e,n,c,h,d,g,y])}var $1=0,K1=()=>`__${String(++$1)}__`;function F1(){let{router:n}=$0("useSubmit"),{basename:e}=R.useContext(Pn),s=d1(),r=n.fetch,c=n.navigate;return R.useCallback(async(h,d={})=>{let{action:g,method:y,encType:v,formData:x,body:T}=E1(h,e);if(d.navigate===!1){let E=d.fetcherKey||K1();await r(E,s,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:T,formMethod:d.method||y,formEncType:d.encType||v,flushSync:d.flushSync})}else await c(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:T,formMethod:d.method||y,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,c,e,s])}function Y1(n,{relative:e}={}){let{basename:s}=R.useContext(Pn),r=R.useContext(yi);he(r,"useFormAction must be used inside a RouteContext");let[c]=r.matches.slice(-1),h={...ou(n||".",{relative:e})},d=gs();if(n==null){h.search=d.search;let g=new URLSearchParams(h.search),y=g.getAll("index");if(y.some(x=>x==="")){g.delete("index"),y.filter(T=>T).forEach(T=>g.append("index",T));let x=g.toString();h.search=x?`?${x}`:""}}return(!n||n===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(h.pathname=h.pathname==="/"?s:ds([s,h.pathname])),Fl(h)}function W1(n,{relative:e}={}){let s=R.useContext(D0);he(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$0("useViewTransitionState"),c=ou(n,{relative:e});if(!s.isTransitioning)return!1;let h=fs(s.currentLocation.pathname,r)||s.currentLocation.pathname,d=fs(s.nextLocation.pathname,r)||s.nextLocation.pathname;return nh(c.pathname,d)!=null||nh(c.pathname,h)!=null}var X1=C0();const K0=R.createContext(void 0),J1=()=>{const n=R.useContext(K0);if(!n)throw new Error("useTheme debe usarse dentro de ThemeProvider");return n},Q1=({children:n})=>{const[e,s]=R.useState(()=>{const c=localStorage.getItem("theme");return c?c==="dark":!0});R.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>s(!e);return _.jsx(K0.Provider,{value:{isDark:e,toggleTheme:r},children:n})},F0=R.createContext(void 0),zn=()=>{const n=R.useContext(F0);if(!n)throw new Error("useAuth debe usarse dentro de AuthProvider");return n},tT=({children:n})=>{const[e,s]=R.useState(()=>{const h=localStorage.getItem("usuario");return h?JSON.parse(h):null}),r=()=>{s(null),localStorage.removeItem("usuario")},c=h=>{s(h),h?localStorage.setItem("usuario",JSON.stringify(h)):localStorage.removeItem("usuario")};return _.jsx(F0.Provider,{value:{usuario:e,setUsuario:c,logout:r},children:n})};function mh(n,e){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(n);c<r.length;c++)e.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(n,r[c])&&(s[r[c]]=n[r[c]]);return s}function eT(n,e,s,r){function c(h){return h instanceof s?h:new s(function(d){d(h)})}return new(s||(s=Promise))(function(h,d){function g(x){try{v(r.next(x))}catch(T){d(T)}}function y(x){try{v(r.throw(x))}catch(T){d(T)}}function v(x){x.done?h(x.value):c(x.value).then(g,y)}v((r=r.apply(n,e||[])).next())})}const nT=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Zm extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class iT extends Zm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hv extends Zm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qv extends Zm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nm;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(nm||(nm={}));class sT{constructor(e,{headers:s={},customFetch:r,region:c=nm.Any}={}){this.url=e,this.headers=s,this.region=c,this.fetch=nT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return eT(this,arguments,void 0,function*(s,r={}){var c;let h,d;try{const{headers:g,method:y,body:v,signal:x,timeout:T}=r;let E={},{region:j}=r;j||(j=this.region);const k=new URL(`${this.url}/${s}`);j&&j!=="any"&&(E["x-region"]=j,k.searchParams.set("forceFunctionRegion",j));let O;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",O=v):typeof v=="string"?(E["Content-Type"]="text/plain",O=v):typeof FormData<"u"&&v instanceof FormData?O=v:(E["Content-Type"]="application/json",O=JSON.stringify(v)):O=v;let D=x;T&&(d=new AbortController,h=setTimeout(()=>d.abort(),T),x?(D=d.signal,x.addEventListener("abort",()=>d.abort())):D=d.signal);const B=yield this.fetch(k.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),g),body:O,signal:D}).catch(et=>{throw new iT(et)}),I=B.headers.get("x-relay-error");if(I&&I==="true")throw new Hv(B);if(!B.ok)throw new qv(B);let N=((c=B.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),J;return N==="application/json"?J=yield B.json():N==="application/octet-stream"||N==="application/pdf"?J=yield B.blob():N==="text/event-stream"?J=B:N==="multipart/form-data"?J=yield B.formData():J=yield B.text(),{data:J,error:null,response:B}}catch(g){return{data:null,error:g,response:g instanceof qv||g instanceof Hv?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var aT=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},rT=class{constructor(n){var e,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,g=null,y=null,v=h.status,x=h.statusText;if(h.ok){var T,E;if(s.method!=="HEAD"){var j;const B=await h.text();B===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((j=s.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?g=B:g=JSON.parse(B))}const O=(T=s.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),D=(E=h.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");O&&D&&D.length>1&&(y=parseInt(D[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var k;const O=await h.text();try{d=JSON.parse(O),Array.isArray(d)&&h.status===404&&(g=[],d=null,v=200,x="OK")}catch{h.status===404&&O===""?(v=204,x="No Content"):d={message:O}}if(d&&s.isMaybeSingle&&(!(d==null||(k=d.details)===null||k===void 0)&&k.includes("0 rows"))&&(d=null,v=200,x="OK"),d&&s.shouldThrowOnError)throw new aT(d)}return{error:d,data:g,count:y,status:v,statusText:x}});return this.shouldThrowOnError||(c=c.catch(h=>{var d;let g="";const y=h?.cause;if(y){var v,x,T,E;const k=(v=y?.message)!==null&&v!==void 0?v:"",O=(x=y?.code)!==null&&x!==void 0?x:"";g=`${(T=h?.name)!==null&&T!==void 0?T:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(E=y?.name)!==null&&E!==void 0?E:"Error"}: ${k}`,O&&(g+=` (${O})`),y?.stack&&(g+=`
${y.stack}`)}else{var j;g=(j=h?.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(n,e)}returns(){return this}overrideTypes(){return this}},oT=class extends rT{select(n){let e=!1;const s=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:s,foreignTable:r,referencedTable:c=r}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${n}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:s=e}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:s,referencedTable:r=s}={}){const c=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(h,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:s=!1,buffers:r=!1,wal:c=!1,format:h="text"}={}){var d;const g=[n?"analyze":null,e?"verbose":null,s?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Zv=new RegExp("[,()]");var lo=class extends oT{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&Zv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,e){const s=Array.from(new Set(e)).map(r=>typeof r=="string"&&Zv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:s,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${c}fts${h}.${e}`),this}match(n){return Object.entries(n).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(n,e,s){return this.url.searchParams.append(n,`not.${e}.${s}`),this}or(n,{foreignTable:e,referencedTable:s=e}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,s){return this.url.searchParams.append(n,`${e}.${s}`),this}},lT=class{constructor(n,{headers:e={},schema:s,fetch:r}){this.url=n,this.headers=new Headers(e),this.schema=s,this.fetch=r}select(n,e){const{head:s=!1,count:r}=e??{},c=s?"HEAD":"GET";let h=!1;const d=(n??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",d),r&&this.headers.append("Prefer",`count=${r}`),new lo({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:s=!0}={}){var r;const c="POST";if(e&&this.headers.append("Prefer",`count=${e}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(h.length>0){const d=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new lo({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:s=!1,count:r,defaultToNull:c=!0}={}){var h;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new lo({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(n,{count:e}={}){var s;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new lo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var e;const s="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new lo({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},uT=class Y0{constructor(e,{headers:s={},schema:r,fetch:c}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Y0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:c=!1,count:h}={}){var d;let g;const y=new URL(`${this.url}/rpc/${e}`);let v;r||c?(g=r?"HEAD":"GET",Object.entries(s).filter(([T,E])=>E!==void 0).map(([T,E])=>[T,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([T,E])=>{y.searchParams.append(T,E)})):(g="POST",v=s);const x=new Headers(this.headers);return h&&x.set("Prefer",`count=${h}`),new lo({method:g,url:y,headers:x,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class cT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,c=parseInt(r.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hT="2.89.0",dT=`realtime-js/${hT}`,W0="1.0.0",fT="2.0.0",Gv=W0,im=1e4,mT=1e3,pT=100;var sa;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(sa||(sa={}));var Pe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Pe||(Pe={}));var gi;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(gi||(gi={}));var sm;(function(n){n.websocket="websocket"})(sm||(sm={}));var ir;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ir||(ir={}));class gT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const c=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(e){var s,r;const c=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,s,r){var c,h;const d=e.topic,g=(c=e.ref)!==null&&c!==void 0?c:"",y=(h=e.join_ref)!==null&&h!==void 0?h:"",v=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},T=Object.keys(x).length===0?"":JSON.stringify(x);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+g.length+d.length+v.length+T.length,j=new ArrayBuffer(this.HEADER_LENGTH+E);let k=new DataView(j),O=0;k.setUint8(O++,this.KINDS.userBroadcastPush),k.setUint8(O++,y.length),k.setUint8(O++,g.length),k.setUint8(O++,d.length),k.setUint8(O++,v.length),k.setUint8(O++,T.length),k.setUint8(O++,s),Array.from(y,B=>k.setUint8(O++,B.charCodeAt(0))),Array.from(g,B=>k.setUint8(O++,B.charCodeAt(0))),Array.from(d,B=>k.setUint8(O++,B.charCodeAt(0))),Array.from(v,B=>k.setUint8(O++,B.charCodeAt(0))),Array.from(T,B=>k.setUint8(O++,B.charCodeAt(0)));var D=new Uint8Array(j.byteLength+r.byteLength);return D.set(new Uint8Array(j),0),D.set(new Uint8Array(r),j.byteLength),D.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[c,h,d,g,y]=r;return s({join_ref:c,ref:h,topic:d,event:g,payload:y})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,s,c)}_decodeUserBroadcast(e,s,r){const c=s.getUint8(1),h=s.getUint8(2),d=s.getUint8(3),g=s.getUint8(4);let y=this.HEADER_LENGTH+4;const v=r.decode(e.slice(y,y+c));y=y+c;const x=r.decode(e.slice(y,y+h));y=y+h;const T=r.decode(e.slice(y,y+d));y=y+d;const E=e.slice(y,e.byteLength),j=g===this.JSON_ENCODING?JSON.parse(r.decode(E)):E,k={type:this.BROADCAST_EVENT,event:x,payload:j};return d>0&&(k.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>s.includes(r)))}}class X0{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ie||(ie={}));const $v=(n,e,s={})=>{var r;const c=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((h,d)=>(h[d]=yT(d,n,e,c),h),{}):{}},yT=(n,e,s,r)=>{const c=e.find(g=>g.name===n),h=c?.type,d=s[n];return h&&!r.includes(h)?J0(h,d):am(d)},J0=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return xT(e,s)}switch(n){case ie.bool:return vT(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return _T(e);case ie.json:case ie.jsonb:return bT(e);case ie.timestamp:return wT(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return am(e);default:return am(e)}},am=n=>n,vT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},_T=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},bT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},xT=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,r=n[s];if(n[0]==="{"&&r==="}"){let h;const d=n.slice(1,s);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(g=>J0(e,g))}return n},wT=n=>typeof n=="string"?n.replace(" ","T"):n,Q0=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rf{constructor(e,s,r={},c=im){this.channel=e,this.event=s,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Kv||(Kv={}));class Hl{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hl.syncState(this.state,c,h,d),this.pendingDiffs.forEach(y=>{this.state=Hl.syncDiff(this.state,y,h,d)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Hl.syncDiff(this.state,c,h,d),g())}),this.onJoin((c,h,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:d})}),this.onLeave((c,h,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,c){const h=this.cloneDeep(e),d=this.transformState(s),g={},y={};return this.map(h,(v,x)=>{d[v]||(y[v]=x)}),this.map(d,(v,x)=>{const T=h[v];if(T){const E=x.map(D=>D.presence_ref),j=T.map(D=>D.presence_ref),k=x.filter(D=>j.indexOf(D.presence_ref)<0),O=T.filter(D=>E.indexOf(D.presence_ref)<0);k.length>0&&(g[v]=k),O.length>0&&(y[v]=O)}else g[v]=x}),this.syncDiff(h,{joins:g,leaves:y},r,c)}static syncDiff(e,s,r,c){const{joins:h,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(h,(g,y)=>{var v;const x=(v=e[g])!==null&&v!==void 0?v:[];if(e[g]=this.cloneDeep(y),x.length>0){const T=e[g].map(j=>j.presence_ref),E=x.filter(j=>T.indexOf(j.presence_ref)<0);e[g].unshift(...E)}r(g,x,y)}),this.map(d,(g,y)=>{let v=e[g];if(!v)return;const x=y.map(T=>T.presence_ref);v=v.filter(T=>x.indexOf(T.presence_ref)<0),e[g]=v,c(g,v,y),v.length===0&&delete e[g]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const c=e[r];return"metas"in c?s[r]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[r]=c,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Fv||(Fv={}));var ql;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ql||(ql={}));var hs;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(hs||(hs={}));class ho{constructor(e,s={config:{}},r){var c,h;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Rf(this,gi.join,this.params,this.timeout),this.rejoinTimer=new X0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gi.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new Hl(this),this.broadcastEndpointURL=Q0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:d,presence:g,private:y}}=this.params,v=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(j=>j.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[ql.PRESENCE]&&this.bindings[ql.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,T={},E={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:x}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(j=>e?.(hs.CHANNEL_ERROR,j)),this._onClose(()=>e?.(hs.CLOSED)),this.updateJoinPayload(Object.assign({config:E},T)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:j})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){e?.(hs.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,D=(k=O?.length)!==null&&k!==void 0?k:0,B=[];for(let I=0;I<D;I++){const N=O[I],{filter:{event:J,schema:et,table:st,filter:rt}}=N,dt=j&&j[I];if(dt&&dt.event===J&&ho.isFilterValueEqual(dt.schema,et)&&ho.isFilterValueEqual(dt.table,st)&&ho.isFilterValueEqual(dt.filter,rt))B.push(Object.assign(Object.assign({},N),{id:dt.id}));else{this.unsubscribe(),this.state=Pe.errored,e?.(hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,e&&e(hs.SUBSCRIBED);return}}).receive("error",j=>{this.state=Pe.errored,e?.(hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{e?.(hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Pe.joined&&e===ql.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let y=g.statusText;try{const v=await g.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(e,s={}){var r,c;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=e,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,g,y;const v=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((y=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Rf(this,gi.leave,{},e),r.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const c=new AbortController,h=setTimeout(()=>c.abort(),r),d=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(h),d}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Rf(this,e,s,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>pT){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var c,h;const d=e.toLocaleLowerCase(),{close:g,error:y,leave:v,join:x}=gi;if(r&&[g,y,v,x].indexOf(d)>=0&&r!==this._joinRef())return;let E=this._onMessage(d,s,r);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var k,O,D;return((k=j.filter)===null||k===void 0?void 0:k.event)==="*"||((D=(O=j.filter)===null||O===void 0?void 0:O.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===d}).map(j=>j.callback(E,r)):(h=this.bindings[d])===null||h===void 0||h.filter(j=>{var k,O,D,B,I,N;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const J=j.id,et=(k=j.filter)===null||k===void 0?void 0:k.event;return J&&((O=s.ids)===null||O===void 0?void 0:O.includes(J))&&(et==="*"||et?.toLocaleLowerCase()===((D=s.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const J=(I=(B=j?.filter)===null||B===void 0?void 0:B.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return J==="*"||J===((N=s?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof E=="object"&&"ids"in E){const k=E.data,{schema:O,table:D,commit_timestamp:B,type:I,errors:N}=k;E=Object.assign(Object.assign({},{schema:O,table:D,commit_timestamp:B,eventType:I,new:{},old:{},errors:N}),this._getPayloadRecords(k))}j.callback(E,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const c=e.toLocaleLowerCase(),h={type:c,filter:s,callback:r};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&ho.isEqual(c.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gi.close,{},e)}_onError(e){this._on(gi.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=$v(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=$v(e.columns,e.old_record)),s}}const Of=()=>{},qc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ST=[1e3,2e3,5e3,1e4],TT=1e4,ET=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AT{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=im,this.transport=null,this.heartbeatIntervalMs=qc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Of,this.ref=0,this.reconnectTimer=null,this.vsn=Gv,this.logger=Of,this.conn=null,this.sendBuffer=[],this.serializer=new gT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${sm.websocket}`,this.httpEndpoint=Q0(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case sa.connecting:return ir.Connecting;case sa.open:return ir.Open;case sa.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,c=this.getChannels().find(h=>h.topic===r);if(c)return c;{const h=new ho(`realtime:${e}`,s,this);return this.channels.push(h),h}}push(e){const{topic:s,event:r,payload:c,ref:h}=e,d=()=>{this.encode(e,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${s} ${r} (${h})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mT,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},qc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:c,payload:h,ref:d}=s,g=d?`(${d})`:"",y=h.status||"";this.log("receive",`${y} ${r} ${c} ${g}`.trim(),h),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(c,h,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sa.open||this.conn.readyState===sa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gi.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${e}${r}${c}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([ET],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,r=!1;if(e)s=e,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const h={access_token:s,version:dT};s&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(gi.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(c){this.log("error",`error in ${e} callback`,c)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new X0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,c,h,d,g,y,v,x,T,E,j;switch(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:im,this.heartbeatIntervalMs=(c=e?.heartbeatIntervalMs)!==null&&c!==void 0?c:qc.HEARTBEAT_INTERVAL,this.worker=(h=e?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=e?.heartbeatCallback)!==null&&g!==void 0?g:Of,this.vsn=(y=e?.vsn)!==null&&y!==void 0?y:Gv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=e?.reconnectAfterMs)!==null&&v!==void 0?v:(k=>ST[k-1]||TT),this.vsn){case W0:this.encode=(x=e?.encode)!==null&&x!==void 0?x:((k,O)=>O(JSON.stringify(k))),this.decode=(T=e?.decode)!==null&&T!==void 0?T:((k,O)=>O(JSON.parse(k)));break;case fT:this.encode=(E=e?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(j=e?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Yl=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CT(n,e,s){const r=new URL(e,n);if(s)for(const[c,h]of Object.entries(s))h!==void 0&&r.searchParams.set(c,h);return r.toString()}async function jT(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function RT(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:c,body:h,headers:d}){const g=CT(n.baseUrl,r,c),y=await jT(n.auth),v=await e(g,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...y,...d},body:h?JSON.stringify(h):void 0}),x=await v.text(),T=(v.headers.get("content-type")||"").includes("application/json"),E=T&&x?JSON.parse(x):x;if(!v.ok){const j=T?E:void 0,k=j?.error;throw new Yl(k?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:k?.type,icebergCode:k?.code,details:j})}return{status:v.status,headers:v.headers,data:E}}}}function Zc(n){return n.join("")}var OT=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Zc(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const s={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zc(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zc(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zc(n.namespace)}`}),!0}catch(e){if(e instanceof Yl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(s){if(s instanceof Yl&&s.status===409)return;throw s}}};function no(n){return n.join("")}var LT=class{constructor(n,e="",s){this.client=n,this.prefix=e,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(n.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(n,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(s){if(s instanceof Yl&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(s){if(s instanceof Yl&&s.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw s}}},kT=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=RT({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new OT(this.client,e),this.tableOps=new LT(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},ph=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function fe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var MT=class extends ph{constructor(n,e,s){super(n),this.name="StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rm=class extends ph{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const Gm=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),NT=()=>Response,om=n=>{if(Array.isArray(n))return n.map(s=>om(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,r])=>{const c=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));e[c]=om(r)}),e},DT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},PT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Wl(n){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(n)}function zT(n,e){if(Wl(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BT(n){var e=zT(n,"string");return Wl(e)=="symbol"?e:e+""}function UT(n,e,s){return(e=BT(e))in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Yv(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,r)}return s}function xt(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Yv(Object(s),!0).forEach(function(r){UT(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Yv(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const Lf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},VT=async(n,e,s)=>{n instanceof await NT()&&!s?.noResolveJson?n.json().then(r=>{const c=n.status||500,h=r?.statusCode||c+"";e(new MT(Lf(r),c,h))}).catch(r=>{e(new rm(Lf(r),r))}):e(new rm(Lf(n),n))},IT=(n,e,s,r)=>{const c={method:n,headers:e?.headers||{}};return n==="GET"||!r?c:(DT(r)?(c.headers=xt({"Content-Type":"application/json"},e?.headers),c.body=JSON.stringify(r)):c.body=r,e?.duplex&&(c.duplex=e.duplex),xt(xt({},c),s))};async function lu(n,e,s,r,c,h){return new Promise((d,g)=>{n(s,IT(e,r,c,h)).then(y=>{if(!y.ok)throw y;return r?.noResolveJson?y:y.json()}).then(y=>d(y)).catch(y=>VT(y,g,r))})}async function Xl(n,e,s,r){return lu(n,"GET",e,s,r)}async function pi(n,e,s,r,c){return lu(n,"POST",e,r,c,s)}async function lm(n,e,s,r,c){return lu(n,"PUT",e,r,c,s)}async function HT(n,e,s,r){return lu(n,"HEAD",e,xt(xt({},s),{},{noResolveJson:!0}),r)}async function $m(n,e,s,r,c){return lu(n,"DELETE",e,r,c,s)}var qT=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}}};let tb;tb=Symbol.toStringTag;var ZT=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[tb]="BlobDownloadBuilder",this.promise=null}asStream(){return new qT(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}}};const GT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $T=class{constructor(n,e={},s,r){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=s,this.fetch=Gm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,s,r){var c=this;try{let h;const d=xt(xt({},Wv),r);let g=xt(xt({},c.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const y=d.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),y&&h.append("metadata",c.encodeMetadata(y)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),y&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(y))):(h=s,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,y&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),r?.headers&&(g=xt(xt({},g),r.headers));const v=c._removeEmptyFolders(e),x=c._getFinalPath(v),T=await(n=="PUT"?lm:pi)(c.fetch,`${c.url}/object/${x}`,h,xt({headers:g},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:v,id:T.Id,fullPath:T.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(fe(h))return{data:null,error:h};throw h}}async upload(n,e,s){return this.uploadOrUpdate("POST",n,e,s)}async uploadToSignedUrl(n,e,s,r){var c=this;const h=c._removeEmptyFolders(n),d=c._getFinalPath(h),g=new URL(c.url+`/object/upload/sign/${d}`);g.searchParams.set("token",e);try{let y;const v=xt({upsert:Wv.upsert},r),x=xt(xt({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",v.cacheControl)):(y=s,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType),{data:{path:h,fullPath:(await lm(c.fetch,g.toString(),y,{headers:x})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if(fe(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(n,e){var s=this;try{let r=s._getFinalPath(n);const c=xt({},s.headers);e?.upsert&&(c["x-upsert"]="true");const h=await pi(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:c}),d=new URL(s.url+h.url),g=d.searchParams.get("token");if(!g)throw new ph("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:g},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}}async update(n,e,s){return this.uploadOrUpdate("PUT",n,e,s)}async move(n,e,s){var r=this;try{return{data:await pi(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:r.headers}),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(fe(c))return{data:null,error:c};throw c}}async copy(n,e,s){var r=this;try{return{data:{path:(await pi(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(fe(c))return{data:null,error:c};throw c}}async createSignedUrl(n,e,s){var r=this;try{let c=r._getFinalPath(n),h=await pi(r.fetch,`${r.url}/object/sign/${c}`,xt({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:r.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return h={signedUrl:encodeURI(`${r.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(fe(c))return{data:null,error:c};throw c}}async createSignedUrls(n,e,s){var r=this;try{const c=await pi(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(d=>xt(xt({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${h}`):null})),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(fe(c))return{data:null,error:c};throw c}}download(n,e){const s=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),c=r?`?${r}`:"",h=this._getFinalPath(n),d=()=>Xl(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new ZT(d,this.shouldThrowOnError)}async info(n){var e=this;const s=e._getFinalPath(n);try{return{data:om(await Xl(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}}async exists(n){var e=this;const s=e._getFinalPath(n);try{return await HT(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fe(r)&&r instanceof rm){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const s=this._getFinalPath(n),r=[],c=e?.download?`download=${e.download===!0?"":e.download}`:"";c!==""&&r.push(c);const h=typeof e?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(e?.transform||{});d!==""&&r.push(d);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}async remove(n){var e=this;try{return{data:await $m(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}async list(n,e,s){var r=this;try{const c=xt(xt(xt({},GT),e),{},{prefix:n||""});return{data:await pi(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},s),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(fe(c))return{data:null,error:c};throw c}}async listV2(n,e){var s=this;try{const r=xt({},n);return{data:await pi(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},e),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const eb="2.89.0",nb={"X-Client-Info":`storage-js/${eb}`};var KT=class{constructor(n,e={},s,r){this.shouldThrowOnError=!1;const c=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=xt(xt({},nb),e),this.fetch=Gm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const s=e.listBucketOptionsToQueryString(n);return{data:await Xl(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}async getBucket(n){var e=this;try{return{data:await Xl(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}async createBucket(n,e={public:!1}){var s=this;try{return{data:await pi(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}}async updateBucket(n,e){var s=this;try{return{data:await lm(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}}async emptyBucket(n){var e=this;try{return{data:await pi(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await $m(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},FT=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xt(xt({},nb),e),this.fetch=Gm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await pi(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}async listBuckets(n){var e=this;try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const r=s.toString(),c=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Xl(e.fetch,c,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await $m(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}}from(n){var e=this;if(!PT(n))throw new ph("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new kT({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,h){const d=c[h];return typeof d!="function"?d:async(...g)=>{try{return{data:await d.apply(c,g),error:null}}catch(y){if(r)throw y;return{data:null,error:y}}}}})}};const Km={"X-Client-Info":`storage-js/${eb}`,"Content-Type":"application/json"};var ib=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Nn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var kf=class extends ib{constructor(n,e,s){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YT=class extends ib{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const Fm=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),WT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Xv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),XT=async(n,e,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const r=n.status||500,c=n;if(typeof c.json=="function")c.json().then(h=>{const d=h?.statusCode||h?.code||r+"";e(new kf(Xv(h),r,d))}).catch(()=>{const h=r+"";e(new kf(c.statusText||`HTTP ${r} error`,r,h))});else{const h=r+"";e(new kf(c.statusText||`HTTP ${r} error`,r,h))}}else e(new YT(Xv(n),n))},JT=(n,e,s,r)=>{const c={method:n,headers:e?.headers||{}};return r?(WT(r)?(c.headers=xt({"Content-Type":"application/json"},e?.headers),c.body=JSON.stringify(r)):c.body=r,xt(xt({},c),s)):c};async function QT(n,e,s,r,c,h){return new Promise((d,g)=>{n(s,JT(e,r,c,h)).then(y=>{if(!y.ok)throw y;if(r?.noResolveJson)return y;const v=y.headers.get("content-type");return!v||!v.includes("application/json")?{}:y.json()}).then(y=>d(y)).catch(y=>XT(y,g,r))})}async function Dn(n,e,s,r,c){return QT(n,"POST",e,r,c,s)}var tE=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xt(xt({},Km),e),this.fetch=Fm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async getIndex(n,e){var s=this;try{return{data:await Dn(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:s.headers}),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}}async listIndexes(n){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async deleteIndex(n,e){var s=this;try{return{data:await Dn(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:s.headers})||{},error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}}},eE=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xt(xt({},Km),e),this.fetch=Fm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dn(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async getVectors(n){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Dn(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async queryVectors(n){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dn(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}},nE=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=xt(xt({},Km),e),this.fetch=Fm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async getBucket(n){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await Dn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Nn(s))return{data:null,error:s};throw s}}},iE=class extends nE{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new sE(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,s=this;return e().call(s,n)}async getBucket(n){var e=()=>super.getBucket,s=this;return e().call(s,n)}async listBuckets(n={}){var e=()=>super.listBuckets,s=this;return e().call(s,n)}async deleteBucket(n){var e=()=>super.deleteBucket,s=this;return e().call(s,n)}},sE=class extends tE{constructor(n,e,s,r){super(n,e,r),this.vectorBucketName=s}async createIndex(n){var e=()=>super.createIndex,s=this;return e().call(s,xt(xt({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,s=this;return e().call(s,xt(xt({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,n)}index(n){return new aE(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},aE=class extends eE{constructor(n,e,s,r,c){super(n,e,c),this.vectorBucketName=s,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,s=this;return e().call(s,xt(xt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var e=()=>super.getVectors,s=this;return e().call(s,xt(xt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,s=this;return e().call(s,xt(xt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,s=this;return e().call(s,xt(xt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,s=this;return e().call(s,xt(xt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},rE=class extends KT{constructor(n,e={},s,r){super(n,e,s,r)}from(n){return new $T(this.url,this.headers,n,this.fetch)}get vectors(){return new iE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FT(this.url+"/iceberg",this.headers,this.fetch)}};const sb="2.89.0",uo=30*1e3,um=3,Mf=um*uo,oE="http://localhost:9999",lE="supabase.auth.token",uE={"X-Client-Info":`gotrue-js/${sb}`},cm="X-Supabase-Api-Version",ab={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hE=600*1e3;class Jl extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function yt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class dE extends Jl{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function fE(n){return yt(n)&&n.name==="AuthApiError"}class sr extends Jl{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ys extends Jl{constructor(e,s,r,c){super(e,r,c),this.name=s,this.status=r}}class Mn extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mE(n){return yt(n)&&n.name==="AuthSessionMissingError"}class io extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gc extends ys{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $c extends ys{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pE(n){return yt(n)&&n.name==="AuthImplicitGrantRedirectError"}class Jv extends ys{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gE extends ys{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hm extends ys{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Nf(n){return yt(n)&&n.name==="AuthRetryableFetchError"}class Qv extends ys{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class dm extends ys{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t_=` 	
\r=`.split(""),yE=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<t_.length;e+=1)n[t_[e].charCodeAt(0)]=-2;for(let e=0;e<ih.length;e+=1)n[ih[e].charCodeAt(0)]=e;return n})();function e_(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(ih[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(ih[r]),e.queuedBits-=6}}function rb(n,e,s){const r=yE[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function n_(n){const e=[],s=d=>{e.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=d=>{bE(d,r,s)};for(let d=0;d<n.length;d+=1)rb(n.charCodeAt(d),c,h);return e.join("")}function vE(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function _E(n,e){for(let s=0;s<n.length;s+=1){let r=n.charCodeAt(s);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(n.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}vE(r,e)}}function bE(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function vo(n){const e=[],s={queue:0,queuedBits:0},r=c=>{e.push(c)};for(let c=0;c<n.length;c+=1)rb(n.charCodeAt(c),s,r);return new Uint8Array(e)}function xE(n){const e=[];return _E(n,s=>e.push(s)),new Uint8Array(e)}function ar(n){const e=[],s={queue:0,queuedBits:0},r=c=>{e.push(c)};return n.forEach(c=>e_(c,s,r)),e_(null,s,r),e.join("")}function wE(n){return Math.round(Date.now()/1e3)+n}function SE(){return Symbol("auth-callback")}const Ye=()=>typeof window<"u"&&typeof document<"u",Ja={tested:!1,writable:!1},ob=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ja.tested)return Ja.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ja.tested=!0,Ja.writable=!0}catch{Ja.tested=!0,Ja.writable=!1}return Ja.writable};function TE(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,h)=>{e[h]=c})}catch{}return s.searchParams.forEach((r,c)=>{e[c]=r}),e}const lb=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),EE=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",co=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},Qa=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Fe=async(n,e)=>{await n.removeItem(e)};class gh{constructor(){this.promise=new gh.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}gh.promiseConstructor=Promise;function Df(n){const e=n.split(".");if(e.length!==3)throw new dm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!cE.test(e[r]))throw new dm("JWT not in base64url format");return{header:JSON.parse(n_(e[0])),payload:JSON.parse(n_(e[1])),signature:vo(e[2]),raw:{header:e[0],payload:e[1]}}}async function AE(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function CE(n,e){return new Promise((r,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await n(h);if(!e(h,null,d)){r(d);return}}catch(d){if(!e(h,d)){c(d);return}}})()})}function jE(n){return("0"+n.toString(16)).substr(-2)}function RE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let c="";for(let h=0;h<56;h++)c+=s.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(e),Array.from(e,jE).join("")}async function OE(n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(r);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function LE(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await OE(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function so(n,e,s=!1){const r=RE();let c=r;s&&(c+="/PASSWORD_RECOVERY"),await co(n,`${e}-code-verifier`,c);const h=await LE(r);return[h,r===h?"plain":"s256"]}const kE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ME(n){const e=n.headers.get(cm);if(!e||!e.match(kE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NE(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function DE(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ao(n){if(!PE.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pf(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zE(n,e){return new Proxy(n,{get:(s,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,c)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,c)}})}function i_(n){return JSON.parse(JSON.stringify(n))}const er=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),BE=[502,503,504];async function s_(n){var e;if(!EE(n))throw new hm(er(n),0);if(BE.includes(n.status))throw new hm(er(n),n.status);let s;try{s=await n.json()}catch(h){throw new sr(er(h),h)}let r;const c=ME(n);if(c&&c.getTime()>=ab["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Qv(er(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Mn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new Qv(er(s),n.status,s.weak_password.reasons);throw new dE(er(s),n.status||500,r)}const UE=(n,e,s,r)=>{const c={method:n,headers:e?.headers||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),s))};async function bt(n,e,s,r){var c;const h=Object.assign({},r?.headers);h[cm]||(h[cm]=ab["2024-01-01"].name),r?.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const d=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(d.redirect_to=r.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await VE(n,e,s+g,{headers:h,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(y):{data:Object.assign({},y),error:null}}async function VE(n,e,s,r,c,h){const d=UE(e,r,c,h);let g;try{g=await n(s,Object.assign({},d))}catch(y){throw console.error(y),new hm(er(y),0)}if(g.ok||await s_(g),r?.noResolveJson)return g;try{return await g.json()}catch(y){await s_(y)}}function fi(n){var e;let s=null;qE(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=wE(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:r},error:null}}function a_(n){const e=fi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function aa(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function IE(n){return{data:n,error:null}}function HE(n){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:c,verification_type:h}=n,d=mh(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:e,email_otp:s,hashed_token:r,redirect_to:c,verification_type:h},y=Object.assign({},d);return{data:{properties:g,user:y},error:null}}function r_(n){return n}function qE(n){return n.access_token&&n.refresh_token&&n.expires_in}const zf=["global","local","others"];class ZE{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=lb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=zf[0]){if(zf.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zf.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:aa})}catch(r){if(yt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=mh(e,["options"]),c=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:HE,redirectTo:s?.redirectTo})}catch(s){if(yt(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:aa})}catch(s){if(yt(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,c,h,d,g,y;try{const v={nextPage:null,lastPage:0,total:0},x=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:r_});if(x.error)throw x.error;const T=await x.json(),E=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(y=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return j.length>0&&(j.forEach(k=>{const O=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(k.split(";")[1].split("=")[1]);v[`${D}Page`]=O}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},T),v),error:null}}catch(v){if(yt(v))return{data:{users:[]},error:v};throw v}}async getUserById(e){ao(e);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:aa})}catch(s){if(yt(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){ao(e);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:aa})}catch(r){if(yt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){ao(e);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:aa})}catch(r){if(yt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ao(e.userId);try{const{data:s,error:r}=await bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:r}}catch(s){if(yt(s))return{data:null,error:s};throw s}}async _deleteFactor(e){ao(e.userId),ao(e.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,c,h,d,g,y;try{const v={nextPage:null,lastPage:0,total:0},x=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:r_});if(x.error)throw x.error;const T=await x.json(),E=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(y=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return j.length>0&&(j.forEach(k=>{const O=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(k.split(";")[1].split("=")[1]);v[`${D}Page`]=O}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},T),v),error:null}}catch(v){if(yt(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(yt(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(yt(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(yt(s))return{data:null,error:s};throw s}}}function o_(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const ro={debug:!!(globalThis&&ob()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ub extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GE extends ub{}async function $E(n,e,s){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await s()}finally{ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(e===0)throw ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new GE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ro.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function KE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cb(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function FE(n){return parseInt(n,16)}function YE(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function WE(n){var e;const{chainId:s,domain:r,expirationTime:c,issuedAt:h=new Date,nonce:d,notBefore:g,requestId:y,resources:v,scheme:x,uri:T,version:E}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const j=cb(n.address),k=x?`${x}://${r}`:r,O=n.statement?`${n.statement}
`:"",D=`${k} wants you to sign in with your Ethereum account:
${j}

${O}`;let B=`URI: ${T}
Version: ${E}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(c&&(B+=`
Expiration Time: ${c.toISOString()}`),g&&(B+=`
Not Before: ${g.toISOString()}`),y&&(B+=`
Request ID: ${y}`),v){let I=`
Resources:`;for(const N of v){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);I+=`
- ${N}`}B+=I}return`${D}
${B}`}class Le extends Error{constructor({message:e,code:s,cause:r,name:c}){var h;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=c??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class sh extends Le{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function XE({error:n,options:e}){var s,r,c;const{publicKey:h}=e;if(!h)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Le({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(hb(d)){if(h.rp.id!==d)return new Le({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function JE({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Le({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(hb(r)){if(s.rpId!==r)return new Le({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class QE{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tA=new QE;function eA(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:r}=n,c=mh(n,["challenge","user","excludeCredentials"]),h=vo(e).buffer,d=Object.assign(Object.assign({},s),{id:vo(s.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:h,user:d});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let y=0;y<r.length;y++){const v=r[y];g.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:vo(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function nA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,r=mh(n,["challenge","allowCredentials"]),c=vo(e).buffer,h=Object.assign(Object.assign({},r),{challenge:c});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const g=s[d];h.allowCredentials[d]=Object.assign(Object.assign({},g),{id:vo(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function iA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:ar(new Uint8Array(n.response.attestationObject)),clientDataJSON:ar(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,r=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ar(new Uint8Array(c.authenticatorData)),clientDataJSON:ar(new Uint8Array(c.clientDataJSON)),signature:ar(new Uint8Array(c.signature)),userHandle:c.userHandle?ar(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function l_(){var n,e;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function aA(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sh("Browser returned unexpected credential type",e)}:{data:null,error:new sh("Empty credential response",e)}}catch(e){return{data:null,error:XE({error:e,options:n})}}}async function rA(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sh("Browser returned unexpected credential type",e)}:{data:null,error:new sh("Empty credential response",e)}}catch(e){return{data:null,error:JE({error:e,options:n})}}}const oA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ah(...n){const e=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of n)if(c)for(const h in c){const d=c[h];if(d!==void 0)if(Array.isArray(d))r[h]=d;else if(s(d))r[h]=d;else if(e(d)){const g=r[h];e(g)?r[h]=ah(g,d):r[h]=ah(d)}else r[h]=d}return r}function uA(n,e){return ah(oA,n,e||{})}function cA(n,e){return ah(lA,n,e||{})}class hA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:c},h){try{const{data:d,error:g}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!d)return{data:null,error:g};const y=c??tA.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${r}`),v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=uA(d.webauthn.credential_options.publicKey,h?.create),{data:x,error:T}=await aA({publicKey:v,signal:y});return x?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:T}}case"request":{const v=cA(d.webauthn.credential_options.publicKey,h?.request),{data:x,error:T}=await rA(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:y}));return x?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:T}}}}catch(d){return yt(d)?{data:null,error:d}:{data:null,error:new sr("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new Jl("rpId is required for WebAuthn authentication")};try{if(!l_())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:c},{request:h});if(!d)return{data:null,error:g};const{webauthn:y}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:y.type,rpId:s,rpOrigins:r,credential_response:y.credential_response}})}catch(d){return yt(d)?{data:null,error:d}:{data:null,error:new sr("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new Jl("rpId is required for WebAuthn registration")};try{if(!l_())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(x=>{var T;return(T=x.data)===null||T===void 0?void 0:T.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:g};const{data:y,error:v}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:c},{create:h});return y?this._verify({factorId:d.id,challengeId:y.challengeId,webauthn:{rpId:s,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(d){return yt(d)?{data:null,error:d}:{data:null,error:new sr("Unexpected error in register",d)}}}}KE();const dA={url:oE,storageKey:lE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function u_(n,e,s){return await s()}const oo={};class Ql{get jwks(){var e,s;return(s=(e=oo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=oo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},dA),e);if(this.storageKey=h.storageKey,this.instanceID=(s=Ql.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ql.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&Ye()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new ZE({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=lb(h.fetch),this.lock=h.lock||u_,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&Ye()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=$E:this.lock=u_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:ob()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=o_(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=o_(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(Ye()&&(s=TE(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Ye()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:h}=await this._getSessionFromURL(s,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),pE(h)){const y=(e=h.details)===null||e===void 0?void 0:e.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:d,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return yt(s)?this._returnResult({error:s}):this._returnResult({error:new sr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,c;try{const h=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=e?.options)===null||c===void 0?void 0:c.captchaToken}},xform:fi}),{data:d,error:g}=h;if(g||!d)return this._returnResult({data:{user:null,session:null},error:g});const y=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(h){if(yt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(e){var s,r,c;try{let h;if("email"in e){const{email:x,password:T,options:E}=e;let j=null,k=null;this.flowType==="pkce"&&([j,k]=await so(this.storage,this.storageKey)),h=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:x,password:T,data:(s=E?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:j,code_challenge_method:k},xform:fi})}else if("phone"in e){const{phone:x,password:T,options:E}=e;h=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:T,data:(r=E?.data)!==null&&r!==void 0?r:{},channel:(c=E?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:fi})}else throw new Gc("You must provide either an email or phone number and a password");const{data:d,error:g}=h;if(g||!d)return await Fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const y=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(h){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),yt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(e){try{let s;if("email"in e){const{email:h,password:d,options:g}=e;s=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:a_})}else if("phone"in e){const{phone:h,password:d,options:g}=e;s=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:a_})}else throw new Gc("You must provide either an email or phone number and a password");const{data:r,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const h=new io;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(s){if(yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,c,h;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=e.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,c,h,d,g,y,v,x,T,E;let j,k;if("message"in e)j=e.message,k=e.signature;else{const{chain:O,wallet:D,statement:B,options:I}=e;let N;if(Ye())if(typeof D=="object")N=D;else{const Tt=window;if("ethereum"in Tt&&typeof Tt.ethereum=="object"&&"request"in Tt.ethereum&&typeof Tt.ethereum.request=="function")N=Tt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=D}const J=new URL((s=I?.url)!==null&&s!==void 0?s:window.location.href),et=await N.request({method:"eth_requestAccounts"}).then(Tt=>Tt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!et||et.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const st=cb(et[0]);let rt=(r=I?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!rt){const Tt=await N.request({method:"eth_chainId"});rt=FE(Tt)}const dt={domain:J.host,address:st,statement:B,uri:J.href,version:"1",chainId:rt,nonce:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(g=I?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(y=I?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=I?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(x=I?.signInWithEthereum)===null||x===void 0?void 0:x.resources};j=WE(dt),k=await N.request({method:"personal_sign",params:[YE(j),st]})}try{const{data:O,error:D}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:k},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:fi});if(D)throw D;if(!O||!O.session||!O.user){const B=new io;return this._returnResult({data:{user:null,session:null},error:B})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:D})}catch(O){if(yt(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(e){var s,r,c,h,d,g,y,v,x,T,E,j;let k,O;if("message"in e)k=e.message,O=e.signature;else{const{chain:D,wallet:B,statement:I,options:N}=e;let J;if(Ye())if(typeof B=="object")J=B;else{const st=window;if("solana"in st&&typeof st.solana=="object"&&("signIn"in st.solana&&typeof st.solana.signIn=="function"||"signMessage"in st.solana&&typeof st.solana.signMessage=="function"))J=st.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=B}const et=new URL((s=N?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in J&&J.signIn){const st=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:et.host,uri:et.href}),I?{statement:I}:null));let rt;if(Array.isArray(st)&&st[0]&&typeof st[0]=="object")rt=st[0];else if(st&&typeof st=="object"&&"signedMessage"in st&&"signature"in st)rt=st;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in rt&&"signature"in rt&&(typeof rt.signedMessage=="string"||rt.signedMessage instanceof Uint8Array)&&rt.signature instanceof Uint8Array)k=typeof rt.signedMessage=="string"?rt.signedMessage:new TextDecoder().decode(rt.signedMessage),O=rt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${et.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${et.href}`,`Issued At: ${(c=(r=N?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=N?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((g=N?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((y=N?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((v=N?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((T=(x=N?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||T===void 0)&&T.length?["Resources",...N.signInWithSolana.resources.map(rt=>`- ${rt}`)]:[]].join(`
`);const st=await J.signMessage(new TextEncoder().encode(k),"utf8");if(!st||!(st instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=st}}try{const{data:D,error:B}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:ar(O)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:fi});if(B)throw B;if(!D||!D.session||!D.user){const I=new io;return this._returnResult({data:{user:null,session:null},error:I})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:B})}catch(D){if(yt(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(e){const s=await Qa(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new gE;const{data:h,error:d}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:fi});if(await Fe(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const g=new io;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:d})}catch(h){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),yt(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(e){try{const{options:s,provider:r,token:c,access_token:h,nonce:d}=e,g=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:fi}),{data:y,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y||!y.session||!y.user){const x=new io;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:v})}catch(s){if(yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,c,h,d;try{if("email"in e){const{email:g,options:y}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await so(this.storage,this.storageKey));const{error:T}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=y?.data)!==null&&s!==void 0?s:{},create_user:(r=y?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in e){const{phone:g,options:y}=e,{data:v,error:x}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(d=y?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:x})}throw new Gc("You must provide either an email or phone number.")}catch(g){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),yt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(e){var s,r;try{let c,h;"options"in e&&(c=(s=e.options)===null||s===void 0?void 0:s.redirectTo,h=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:g}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:fi});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,v=d.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(c){if(yt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(e){var s,r,c,h,d;try{let g=null,y=null;this.flowType==="pkce"&&([g,y]=await so(this.storage,this.storageKey));const v=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=e?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:y}),headers:this.headers,xform:IE});return!((h=v.data)===null||h===void 0)&&h.url&&Ye()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),yt(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Mn;const{error:c}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(e){if(yt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:c,options:h}=e,{error:d}=await bt(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:r,type:c,options:h}=e,{data:d,error:g}=await bt(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:g})}throw new Gc("You must provide either an email or phone number and a type")}catch(s){if(yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Mf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const d=await Qa(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=Pf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=zE(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:aa}):await this._useSession(async s=>{var r,c,h;const{data:d,error:g}=s;if(g)throw g;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:aa})})}catch(s){if(yt(s))return mE(s)&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:c,error:h}=r;if(h)throw h;if(!c.session)throw new Mn;const d=c.session;let g=null,y=null;this.flowType==="pkce"&&e.email!=null&&([g,y]=await so(this.storage,this.storageKey));const{data:v,error:x}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:y}),jwt:d.access_token,xform:aa});if(x)throw x;return d.user=v.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),yt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Mn;const s=Date.now()/1e3;let r=s,c=!0,h=null;const{payload:d}=Df(e.access_token);if(d.exp&&(r=d.exp,c=r<=s),c){const{data:g,error:y}=await this._callRefreshToken(e.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:y}=await this._getUser(e.access_token);if(y)throw y;h={access_token:e.access_token,refresh_token:e.refresh_token,user:g.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(yt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:d,error:g}=s;if(g)throw g;e=(r=d.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Mn;const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!Ye())throw new $c("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $c(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Jv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $c("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jv("No code detected.");const{data:I,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:h,refresh_token:d,expires_in:g,expires_at:y,token_type:v}=e;if(!h||!g||!d||!v)throw new $c("No session defined in URL");const x=Math.round(Date.now()/1e3),T=parseInt(g);let E=x+T;y&&(E=parseInt(y));const j=E-x;j*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${T}s`);const k=E-T;x-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,E,x):x-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,E,x);const{data:O,error:D}=await this._getUser(h);if(D)throw D;const B={provider_token:r,provider_refresh_token:c,access_token:h,expires_in:T,expires_at:E,refresh_token:d,token_type:v,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:e.type},error:null})}catch(r){if(yt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:c,error:h}=s;if(h)return this._returnResult({error:h});const d=(r=c.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:g}=await this.admin.signOut(d,e);if(g&&!(fE(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return e!=="others"&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=SE(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,c;try{const{data:{session:h},error:d}=s;if(d)throw d;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",e,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(e))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",h),console.error(h)}})}async resetPasswordForEmail(e,s={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await so(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),yt(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:c}=await this._useSession(async h=>{var d,g,y,v,x;const{data:T,error:E}=h;if(E)throw E;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=e.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=e.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",j,{headers:this.headers,jwt:(x=(v=T.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return Ye()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(yt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:c,data:{session:h}}=s;if(c)throw c;const{options:d,provider:g,token:y,access_token:v,nonce:x}=e,T=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:y,access_token:v,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:fi}),{data:E,error:j}=T;return j?this._returnResult({data:{user:null,session:null},error:j}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new io}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:j}))}catch(c){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),yt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,c;const{data:h,error:d}=s;if(d)throw d;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(c=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await CE(async c=>(c>0&&await AE(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fi})),(c,h)=>{const d=200*Math.pow(2,c);return h&&Nf(h)&&Date.now()+d-r<uo})}catch(r){if(this._debug(s,"error",r),yt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ye()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Qa(this.storage,this.storageKey);if(c&&this.userStorage){let d=await Qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await co(this.userStorage,this.storageKey+"-user",d)),c.user=(e=d?.user)!==null&&e!==void 0?e:Pf()}else if(c&&!c.user&&!c.user){const d=await Qa(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await Fe(this.storage,this.storageKey+"-user"),await co(this.storage,this.storageKey,c)):c.user=Pf()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const h=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Mf;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${Mf}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Nf(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(c.access_token);!g&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new gh;const{data:h,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!h.session)throw new Mn;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),yt(h)){const d={data:null,error:h};return Nf(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(e,s,r=!0){const c=`#_notifyAllSubscribers(${e})`;this._debug(c,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(e,s)}catch(y){h.push(y)}});if(await Promise.all(d),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fe(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await co(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const h=i_(c);await co(this.storage,this.storageKey,h)}else{const c=i_(s);await co(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fe(this.storage,this.storageKey),await Fe(this.storage,this.storageKey+"-code-verifier"),await Fe(this.storage,this.storageKey+"-user"),this.userStorage&&await Fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-e)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${uo}ms, refresh threshold is ${um} ticks`),c<=um&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ub)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const c=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,d]=await so(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(g.toString())}if(r?.queryParams){const h=new URLSearchParams(r.queryParams);c.push(h.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${c.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:c,error:h}=s;return h?this._returnResult({data:null,error:h}):await bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,c;const{data:h,error:d}=s;if(d)return this._returnResult({data:null,error:d});const g=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:y,error:v}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=h?.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(e.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?iA(e.webauthn.credential_response):sA(e.webauthn.credential_response)})}:{code:e.code}),{data:g,error:y}=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:y}))})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const d=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:g}=d;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:eA(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:nA(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(e=s?.factors)!==null&&e!==void 0?e:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Df(r.access_token);let d=null;h.aal&&(d=h.aal);let g=d;((s=(e=r.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const v=h.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Mn});const d=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&Ye()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(yt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Mn});const d=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&Ye()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(yt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(e){if(yt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mn})})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(g=>g.kid===e);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===e),r&&this.jwks_cached_at+hE>c)return r;const{data:h,error:d}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,r=h.keys.find(g=>g.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:j,error:k}=await this.getSession();if(k||!j.session)return this._returnResult({data:null,error:k});r=j.session.access_token}const{header:c,payload:h,signature:d,raw:{header:g,payload:y}}=Df(r);s?.allowExpired||NE(h.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!v){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:h,header:c,signature:d},error:null}}const x=DE(c.alg),T=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,T,d,xE(`${g}.${y}`)))throw new dm("Invalid JWT signature");return{data:{claims:h,header:c,signature:d},error:null}}catch(r){if(yt(r))return this._returnResult({data:null,error:r});throw r}}}Ql.nextInstanceID={};const fA=Ql,mA="2.89.0";let Ul="";typeof Deno<"u"?Ul="deno":typeof document<"u"?Ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ul="react-native":Ul="node";const pA={"X-Client-Info":`supabase-js-${Ul}/${mA}`},gA={headers:pA},yA={schema:"public"},vA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_A={};function tu(n){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(n)}function bA(n,e){if(tu(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xA(n){var e=bA(n,"string");return tu(e)=="symbol"?e:e+""}function wA(n,e,s){return(e=xA(e))in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function c_(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,r)}return s}function be(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(s),!0).forEach(function(r){wA(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):c_(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}const SA=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),TA=()=>Headers,EA=(n,e,s)=>{const r=SA(s),c=TA();return async(h,d)=>{var g;const y=(g=await e())!==null&&g!==void 0?g:n;let v=new c(d?.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),r(h,be(be({},d),{},{headers:v}))}};function AA(n){return n.endsWith("/")?n:n+"/"}function CA(n,e){var s,r;const{db:c,auth:h,realtime:d,global:g}=n,{db:y,auth:v,realtime:x,global:T}=e,E={db:be(be({},y),c),auth:be(be({},v),h),realtime:be(be({},x),d),storage:{},global:be(be(be({},T),g),{},{headers:be(be({},(s=T?.headers)!==null&&s!==void 0?s:{}),(r=g?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?E.accessToken=n.accessToken:delete E.accessToken,E}function jA(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var RA=class extends fA{constructor(n){super(n)}},OA=class{constructor(n,e,s){var r,c;this.supabaseUrl=n,this.supabaseKey=e;const h=jA(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:yA,realtime:_A,auth:be(be({},vA),{},{storageKey:d}),global:gA},y=CA(s??{},g);if(this.storageKey=(r=y.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=y.auth)!==null&&v!==void 0?v:{},this.headers,y.global.fetch)}this.fetch=EA(e,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new uT(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new rE(this.storageUrl.href,this.headers,this.fetch,s?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new sT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,s)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,s;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:c,storageKey:h,flowType:d,lock:g,debug:y,throwOnError:v},x,T){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RA({url:this.authUrl.href,headers:be(be({},E),x),storageKey:h,autoRefreshToken:n,persistSession:e,detectSessionInUrl:s,storage:r,userStorage:c,flowType:d,lock:g,debug:y,throwOnError:v,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new AT(this.realtimeUrl.href,be(be({},n),{},{params:be(be({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LA=(n,e,s)=>new OA(n,e,s);function kA(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MA="https://jqhiubituqmwouaszjpc.supabase.co",NA="sb_publishable_yk9cpugGvHpx_0Ys8hKEsw_h8NH14CR",Et=LA(MA,NA),DA=async(n,e)=>{try{const{data:s,error:r}=await Et.from("usuarios").select("*").eq("email",n).eq("password",e).eq("activo",!0).single();return r||!s?(console.error("Error al iniciar sesin:",r),null):s}catch(s){return console.error("Error al iniciar sesin:",s),null}};function PA(){const[n,e]=R.useState(""),[s,r]=R.useState(""),[c,h]=R.useState(!1),[d,g]=R.useState(""),{setUsuario:y}=zn(),{isDark:v}=J1(),x=Te(),T=async E=>{E.preventDefault(),g(""),h(!0);try{const j=await DA(n,s);j?(y(j),x("/home")):g("Email o contrasea incorrectos")}catch(j){g("Error al iniciar sesin. Intenta nuevamente."),console.error(j)}finally{h(!1)}};return _.jsxs("div",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:v?"linear-gradient(135deg, #0a0118 0%, #1a0b2e 50%, #0f0a1f 100%)":"linear-gradient(135deg, #faf5ff 0%, #fce7f3 50%, #eef2ff 100%)",padding:"16px",transition:"background 0.5s ease"},children:[_.jsxs("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",opacity:.6},children:[_.jsx("div",{style:{position:"absolute",top:"28%",left:"20%",width:"180px",height:"180px",background:v?"radial-gradient(circle, rgba(168,85,247,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(192,132,252,0.2) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(48px)",animation:"pulse 4s ease-in-out infinite"}}),_.jsx("div",{style:{position:"absolute",bottom:"22%",right:"18%",width:"200px",height:"200px",background:v?"radial-gradient(circle, rgba(236,72,153,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(251,207,232,0.28) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(52px)",animation:"pulse 5s ease-in-out infinite",animationDelay:"1s"}}),_.jsx("div",{style:{position:"absolute",top:"50%",left:"52%",width:"160px",height:"160px",background:v?"radial-gradient(circle, rgba(99,102,241,0.28) 0%, transparent 70%)":"radial-gradient(circle, rgba(165,180,252,0.22) 0%, transparent 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"pulse 6s ease-in-out infinite",animationDelay:"2s"}})]}),_.jsx("main",{style:{position:"relative",width:"100%",maxWidth:"360px",zIndex:10,animation:"fadeInUp 0.5s ease-out"},children:_.jsxs("div",{style:{position:"relative",background:v?"rgba(31,18,48,0.92)":"rgba(255,255,255,0.92)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderRadius:"20px",boxShadow:v?"0 18px 50px rgba(168,85,247,0.22), 0 0 0 1px rgba(167,139,250,0.08)":"0 14px 40px rgba(0,0,0,0.10), 0 0 0 1px rgba(192,132,252,0.12)",border:v?"1px solid rgba(139,92,246,0.15)":"1px solid rgba(192,132,252,0.18)",padding:"32px 24px",transition:"all 0.2s ease"},onMouseEnter:E=>{E.currentTarget.style.boxShadow=v?"0 30px 80px rgba(168,85,247,0.35), 0 0 0 1px rgba(167,139,250,0.15)":"0 25px 70px rgba(0,0,0,0.15), 0 0 0 1px rgba(192,132,252,0.2)"},onMouseLeave:E=>{E.currentTarget.style.boxShadow=v?"0 25px 70px rgba(168,85,247,0.25), 0 0 0 1px rgba(167,139,250,0.1)":"0 20px 60px rgba(0,0,0,0.12), 0 0 0 1px rgba(192,132,252,0.15)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px",animation:"slideInLeft 0.5s ease-out"},children:[_.jsx("div",{style:{position:"relative",width:64,height:64},children:_.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, #a855f7 0%, #ec4899 100%)",borderRadius:"16px",filter:"blur(12px)",opacity:.7}})}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[_.jsx("img",{src:"/logo.png",alt:"Delibery",style:{width:"120px",height:"auto",objectFit:"contain",transition:"transform 0.25s ease",display:"block"},onMouseEnter:E=>E.currentTarget.style.transform="scale(1.03) rotate(1deg)",onMouseLeave:E=>E.currentTarget.style.transform="scale(1) rotate(0deg)"}),_.jsx("p",{style:{fontSize:"14px",color:v?"#d1d5db":"#6b7280",margin:"6px 0 0 0",fontWeight:500},children:" Bienvenido de vuelta"})]})]}),_.jsxs("form",{onSubmit:T,style:{display:"flex",flexDirection:"column",gap:"14px"},children:[d&&_.jsxs("div",{style:{background:v?"rgba(127,29,29,0.4)":"#fef2f2",border:`1px solid ${v?"#991b1b":"#fecaca"}`,color:v?"#fca5a5":"#dc2626",padding:"12px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",animation:"shake 0.5s ease-in-out"},children:[_.jsx("span",{style:{fontSize:"18px"},children:""}),d]}),_.jsxs("div",{style:{animation:"slideInRight 0.6s ease-out"},children:[_.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:"13px",fontWeight:600,color:v?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Email"}),_.jsx("input",{id:"email",type:"email",value:n,onChange:E=>e(E.target.value),placeholder:"tu@email.com",required:!0,disabled:c,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${v?"#6b21a8":"#e9d5ff"}`,background:v?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:v?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:E=>{E.currentTarget.style.borderColor=v?"#a855f7":"#9333ea",E.currentTarget.style.boxShadow=v?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",E.currentTarget.style.transform="scale(1.02)"},onBlur:E=>{E.currentTarget.style.borderColor=v?"#6b21a8":"#e9d5ff",E.currentTarget.style.boxShadow="none",E.currentTarget.style.transform="scale(1)"}})]}),_.jsxs("div",{style:{animation:"slideInRight 0.7s ease-out"},children:[_.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:"13px",fontWeight:600,color:v?"#e5e7eb":"#374151",marginBottom:"6px"},children:" Contrasea"}),_.jsx("input",{id:"password",type:"password",value:s,onChange:E=>r(E.target.value),placeholder:"",required:!0,disabled:c,style:{width:"100%",padding:"12px 14px",borderRadius:"10px",border:`2px solid ${v?"#6b21a8":"#e9d5ff"}`,background:v?"rgba(88,28,135,0.18)":"rgba(255,255,255,0.64)",color:v?"#ffffff":"#111827",fontSize:"14px",outline:"none",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:E=>{E.currentTarget.style.borderColor=v?"#a855f7":"#9333ea",E.currentTarget.style.boxShadow=v?"0 0 0 4px rgba(168,85,247,0.15)":"0 0 0 4px rgba(147,51,234,0.1)",E.currentTarget.style.transform="scale(1.02)"},onBlur:E=>{E.currentTarget.style.borderColor=v?"#6b21a8":"#e9d5ff",E.currentTarget.style.boxShadow="none",E.currentTarget.style.transform="scale(1)"}})]}),_.jsx("button",{type:"submit",disabled:c,style:{width:"100%",padding:"14px 18px",borderRadius:"10px",background:v?"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #6366f1 100%)":"linear-gradient(135deg, #9333ea 0%, #db2777 50%, #4f46e5 100%)",color:"#ffffff",fontSize:"15px",fontWeight:700,border:"none",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:v?"0 10px 30px rgba(168,85,247,0.28)":"0 8px 24px rgba(147,51,234,0.26)",transition:"all 0.2s ease",opacity:c?.8:1,animation:"slideInUp 0.6s ease-out"},onMouseEnter:E=>{c||(E.currentTarget.style.transform="scale(1.02) translateY(-2px)",E.currentTarget.style.boxShadow=v?"0 16px 45px rgba(168,85,247,0.45)":"0 14px 40px rgba(147,51,234,0.4)")},onMouseLeave:E=>{E.currentTarget.style.transform="scale(1) translateY(0)",E.currentTarget.style.boxShadow=v?"0 12px 35px rgba(168,85,247,0.35)":"0 10px 30px rgba(147,51,234,0.3)"},onMouseDown:E=>!c&&(E.currentTarget.style.transform="scale(0.98) translateY(0)"),onMouseUp:E=>!c&&(E.currentTarget.style.transform="scale(1.02) translateY(-2px)"),children:c?_.jsxs(_.Fragment,{children:[_.jsxs("svg",{style:{width:"20px",height:"20px",animation:"spin 1s linear infinite"},viewBox:"0 0 24 24",fill:"none",children:[_.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),_.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]}),_.jsx("span",{children:"Iniciando..."})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{children:"Iniciar Sesin"}),_.jsx("span",{style:{fontSize:"20px",transition:"transform 0.3s ease"},children:""})]})})]})]})}),_.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
          20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { opacity: 0.6; transform: scale(1); }
          50% { opacity: 0.8; transform: scale(1.05); }
        }
      `})]})}function Sn(){const[n,e]=R.useState(!1),{logout:s}=zn(),r=Te(),c=()=>{s(),r("/")};return _.jsxs(_.Fragment,{children:[_.jsx("header",{style:{position:"sticky",top:0,zIndex:100,background:"linear-gradient(135deg, #2e1065, #1e1b4b)",padding:"12px 14px 14px",boxShadow:"0 2px 8px rgba(30, 27, 75, 0.18)",clipPath:"ellipse(100% 75% at 50% 10%)"},children:_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"500px",margin:"0 auto"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14},children:[_.jsx("img",{src:"/logo.png",alt:"Delibery",style:{height:36,borderRadius:"10px"}}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:1.1},children:[_.jsx("div",{style:{color:"#fff",fontWeight:900,fontSize:16},children:"Food Delibery Roatan"}),_.jsx("div",{style:{fontSize:12,color:"rgba(255,255,255,0.9)",marginTop:2},children:"Tu comida, ms cerca"})]})]}),_.jsxs("button",{onClick:()=>e(!n),style:{background:"rgba(168, 85, 247, 0.22)",border:"none",borderRadius:"12px",padding:"8px 10px",cursor:"pointer",display:"flex",flexDirection:"column",gap:"4px",transition:"all 0.3s ease",boxShadow:n?"0 0 12px rgba(168, 85, 247, 0.28)":"0 2px 6px rgba(0,0,0,0.12)"},onMouseEnter:h=>h.currentTarget.style.transform="scale(1.05)",onMouseLeave:h=>h.currentTarget.style.transform="scale(1)",children:[_.jsx("div",{style:{width:"20px",height:"3px",background:"#e9a1ff",borderRadius:"3px"}}),_.jsx("div",{style:{width:"20px",height:"3px",background:"#e9a1ff",borderRadius:"3px"}}),_.jsx("div",{style:{width:"20px",height:"3px",background:"#e9a1ff",borderRadius:"3px"}})]})]})}),n&&_.jsxs(_.Fragment,{children:[_.jsx("div",{onClick:()=>e(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",zIndex:150}}),_.jsxs("div",{style:{position:"fixed",top:"80px",right:"20px",background:"rgba(255, 255, 255, 0.15)",borderRadius:"24px",boxShadow:"0 12px 32px rgba(0,0,0,0.2)",padding:"12px",zIndex:200,minWidth:"220px",border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},children:[_.jsxs("button",{onClick:()=>e(!1),style:{width:"100%",padding:"16px 18px",background:"transparent",border:"none",borderRadius:"16px",display:"flex",alignItems:"center",gap:"14px",cursor:"pointer",fontSize:"16px",color:"#fff",fontWeight:500,transition:"background 0.2s"},onMouseEnter:h=>h.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:h=>h.currentTarget.style.background="transparent",children:[_.jsx("span",{style:{fontSize:"24px"},children:""}),"Mi Cuenta"]}),_.jsxs("button",{onClick:()=>e(!1),style:{width:"100%",padding:"16px 18px",background:"transparent",border:"none",borderRadius:"16px",display:"flex",alignItems:"center",gap:"14px",cursor:"pointer",fontSize:"16px",color:"#fff",fontWeight:500,transition:"background 0.2s"},onMouseEnter:h=>h.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:h=>h.currentTarget.style.background="transparent",children:[_.jsx("span",{style:{fontSize:"24px"},children:""}),"Mis Pedidos"]}),_.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.2)",margin:"10px 0"}}),_.jsxs("button",{onClick:()=>{c(),e(!1)},style:{width:"100%",padding:"16px 18px",background:"transparent",border:"none",borderRadius:"16px",display:"flex",alignItems:"center",gap:"14px",cursor:"pointer",fontSize:"16px",color:"#ff6b6b",fontWeight:500,transition:"background 0.2s"},onMouseEnter:h=>h.currentTarget.style.background="rgba(255,107,107,0.1)",onMouseLeave:h=>h.currentTarget.style.background="transparent",children:[_.jsx("span",{style:{fontSize:"24px"},children:""}),"Cerrar Sesin"]})]})]})]})}const db=R.createContext({});function zA(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ym=typeof window<"u",BA=Ym?R.useLayoutEffect:R.useEffect,Wm=R.createContext(null);function Xm(n,e){n.indexOf(e)===-1&&n.push(e)}function Jm(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const ms=(n,e,s)=>s>e?e:s<n?n:s;let Qm=()=>{};const ps={},fb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function mb(n){return typeof n=="object"&&n!==null}const pb=n=>/^0[^.\s]+$/u.test(n);function tp(n){let e;return()=>(e===void 0&&(e=n()),e)}const Xn=n=>n,UA=(n,e)=>s=>e(n(s)),uu=(...n)=>n.reduce(UA),eu=(n,e,s)=>{const r=e-n;return r===0?1:(s-n)/r};class ep{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Jm(this.subscriptions,e)}notify(e,s,r){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](e,s,r);else for(let h=0;h<c;h++){const d=this.subscriptions[h];d&&d(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ni=n=>n*1e3,Wn=n=>n/1e3;function gb(n,e){return e?n*(1e3/e):0}const yb=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,VA=1e-7,IA=12;function HA(n,e,s,r,c){let h,d,g=0;do d=e+(s-e)/2,h=yb(d,r,c)-n,h>0?s=d:e=d;while(Math.abs(h)>VA&&++g<IA);return d}function cu(n,e,s,r){if(n===e&&s===r)return Xn;const c=h=>HA(h,0,1,n,s);return h=>h===0||h===1?h:yb(c(h),e,r)}const vb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,_b=n=>e=>1-n(1-e),bb=cu(.33,1.53,.69,.99),np=_b(bb),xb=vb(np),wb=n=>(n*=2)<1?.5*np(n):.5*(2-Math.pow(2,-10*(n-1))),ip=n=>1-Math.sin(Math.acos(n)),Sb=_b(ip),Tb=vb(ip),qA=cu(.42,0,1,1),ZA=cu(0,0,.58,1),Eb=cu(.42,0,.58,1),GA=n=>Array.isArray(n)&&typeof n[0]!="number",Ab=n=>Array.isArray(n)&&typeof n[0]=="number",$A={linear:Xn,easeIn:qA,easeInOut:Eb,easeOut:ZA,circIn:ip,circInOut:Tb,circOut:Sb,backIn:np,backInOut:xb,backOut:bb,anticipate:wb},KA=n=>typeof n=="string",h_=n=>{if(Ab(n)){Qm(n.length===4);const[e,s,r,c]=n;return cu(e,s,r,c)}else if(KA(n))return $A[n];return n},Kc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FA(n,e){let s=new Set,r=new Set,c=!1,h=!1;const d=new WeakSet;let g={delta:0,timestamp:0,isProcessing:!1};function y(x){d.has(x)&&(v.schedule(x),n()),x(g)}const v={schedule:(x,T=!1,E=!1)=>{const k=E&&c?s:r;return T&&d.add(x),k.has(x)||k.add(x),x},cancel:x=>{r.delete(x),d.delete(x)},process:x=>{if(g=x,c){h=!0;return}c=!0,[s,r]=[r,s],s.forEach(y),s.clear(),c=!1,h&&(h=!1,v.process(x))}};return v}const YA=40;function Cb(n,e){let s=!1,r=!0;const c={delta:0,timestamp:0,isProcessing:!1},h=()=>s=!0,d=Kc.reduce((N,J)=>(N[J]=FA(h),N),{}),{setup:g,read:y,resolveKeyframes:v,preUpdate:x,update:T,preRender:E,render:j,postRender:k}=d,O=()=>{const N=ps.useManualTiming?c.timestamp:performance.now();s=!1,ps.useManualTiming||(c.delta=r?1e3/60:Math.max(Math.min(N-c.timestamp,YA),1)),c.timestamp=N,c.isProcessing=!0,g.process(c),y.process(c),v.process(c),x.process(c),T.process(c),E.process(c),j.process(c),k.process(c),c.isProcessing=!1,s&&e&&(r=!1,n(O))},D=()=>{s=!0,r=!0,c.isProcessing||n(O)};return{schedule:Kc.reduce((N,J)=>{const et=d[J];return N[J]=(st,rt=!1,dt=!1)=>(s||D(),et.schedule(st,rt,dt)),N},{}),cancel:N=>{for(let J=0;J<Kc.length;J++)d[Kc[J]].cancel(N)},state:c,steps:d}}const{schedule:ce,cancel:ra,state:We,steps:Bf}=Cb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Jc;function WA(){Jc=void 0}const wn={now:()=>(Jc===void 0&&wn.set(We.isProcessing||ps.useManualTiming?We.timestamp:performance.now()),Jc),set:n=>{Jc=n,queueMicrotask(WA)}},jb=n=>e=>typeof e=="string"&&e.startsWith(n),Rb=jb("--"),XA=jb("var(--"),sp=n=>XA(n)?JA.test(n.split("/*")[0].trim()):!1,JA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ao={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},nu={...Ao,transform:n=>ms(0,1,n)},Fc={...Ao,default:1},Zl=n=>Math.round(n*1e5)/1e5,ap=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QA(n){return n==null}const tC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rp=(n,e)=>s=>!!(typeof s=="string"&&tC.test(s)&&s.startsWith(n)||e&&!QA(s)&&Object.prototype.hasOwnProperty.call(s,e)),Ob=(n,e,s)=>r=>{if(typeof r!="string")return r;const[c,h,d,g]=r.match(ap);return{[n]:parseFloat(c),[e]:parseFloat(h),[s]:parseFloat(d),alpha:g!==void 0?parseFloat(g):1}},eC=n=>ms(0,255,n),Uf={...Ao,transform:n=>Math.round(eC(n))},rr={test:rp("rgb","red"),parse:Ob("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:r=1})=>"rgba("+Uf.transform(n)+", "+Uf.transform(e)+", "+Uf.transform(s)+", "+Zl(nu.transform(r))+")"};function nC(n){let e="",s="",r="",c="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),r=n.substring(5,7),c=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),r=n.substring(3,4),c=n.substring(4,5),e+=e,s+=s,r+=r,c+=c),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:c?parseInt(c,16)/255:1}}const fm={test:rp("#"),parse:nC,transform:rr.transform},hu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ia=hu("deg"),Di=hu("%"),St=hu("px"),iC=hu("vh"),sC=hu("vw"),d_={...Di,parse:n=>Di.parse(n)/100,transform:n=>Di.transform(n*100)},fo={test:rp("hsl","hue"),parse:Ob("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(n)+", "+Di.transform(Zl(e))+", "+Di.transform(Zl(s))+", "+Zl(nu.transform(r))+")"},ke={test:n=>rr.test(n)||fm.test(n)||fo.test(n),parse:n=>rr.test(n)?rr.parse(n):fo.test(n)?fo.parse(n):fm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?rr.transform(n):fo.transform(n),getAnimatableNone:n=>{const e=ke.parse(n);return e.alpha=0,ke.transform(e)}},aC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rC(n){return isNaN(n)&&typeof n=="string"&&(n.match(ap)?.length||0)+(n.match(aC)?.length||0)>0}const Lb="number",kb="color",oC="var",lC="var(",f_="${}",uC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iu(n){const e=n.toString(),s=[],r={color:[],number:[],var:[]},c=[];let h=0;const g=e.replace(uC,y=>(ke.test(y)?(r.color.push(h),c.push(kb),s.push(ke.parse(y))):y.startsWith(lC)?(r.var.push(h),c.push(oC),s.push(y)):(r.number.push(h),c.push(Lb),s.push(parseFloat(y))),++h,f_)).split(f_);return{values:s,split:g,indexes:r,types:c}}function Mb(n){return iu(n).values}function Nb(n){const{split:e,types:s}=iu(n),r=e.length;return c=>{let h="";for(let d=0;d<r;d++)if(h+=e[d],c[d]!==void 0){const g=s[d];g===Lb?h+=Zl(c[d]):g===kb?h+=ke.transform(c[d]):h+=c[d]}return h}}const cC=n=>typeof n=="number"?0:ke.test(n)?ke.getAnimatableNone(n):n;function hC(n){const e=Mb(n);return Nb(n)(e.map(cC))}const oa={test:rC,parse:Mb,createTransformer:Nb,getAnimatableNone:hC};function Vf(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function dC({hue:n,saturation:e,lightness:s,alpha:r}){n/=360,e/=100,s/=100;let c=0,h=0,d=0;if(!e)c=h=d=s;else{const g=s<.5?s*(1+e):s+e-s*e,y=2*s-g;c=Vf(y,g,n+1/3),h=Vf(y,g,n),d=Vf(y,g,n-1/3)}return{red:Math.round(c*255),green:Math.round(h*255),blue:Math.round(d*255),alpha:r}}function rh(n,e){return s=>s>0?e:n}const me=(n,e,s)=>n+(e-n)*s,If=(n,e,s)=>{const r=n*n,c=s*(e*e-r)+r;return c<0?0:Math.sqrt(c)},fC=[fm,rr,fo],mC=n=>fC.find(e=>e.test(n));function m_(n){const e=mC(n);if(!e)return!1;let s=e.parse(n);return e===fo&&(s=dC(s)),s}const p_=(n,e)=>{const s=m_(n),r=m_(e);if(!s||!r)return rh(n,e);const c={...s};return h=>(c.red=If(s.red,r.red,h),c.green=If(s.green,r.green,h),c.blue=If(s.blue,r.blue,h),c.alpha=me(s.alpha,r.alpha,h),rr.transform(c))},mm=new Set(["none","hidden"]);function pC(n,e){return mm.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function gC(n,e){return s=>me(n,e,s)}function op(n){return typeof n=="number"?gC:typeof n=="string"?sp(n)?rh:ke.test(n)?p_:_C:Array.isArray(n)?Db:typeof n=="object"?ke.test(n)?p_:yC:rh}function Db(n,e){const s=[...n],r=s.length,c=n.map((h,d)=>op(h)(h,e[d]));return h=>{for(let d=0;d<r;d++)s[d]=c[d](h);return s}}function yC(n,e){const s={...n,...e},r={};for(const c in s)n[c]!==void 0&&e[c]!==void 0&&(r[c]=op(n[c])(n[c],e[c]));return c=>{for(const h in r)s[h]=r[h](c);return s}}function vC(n,e){const s=[],r={color:0,var:0,number:0};for(let c=0;c<e.values.length;c++){const h=e.types[c],d=n.indexes[h][r[h]],g=n.values[d]??0;s[c]=g,r[h]++}return s}const _C=(n,e)=>{const s=oa.createTransformer(e),r=iu(n),c=iu(e);return r.indexes.var.length===c.indexes.var.length&&r.indexes.color.length===c.indexes.color.length&&r.indexes.number.length>=c.indexes.number.length?mm.has(n)&&!c.values.length||mm.has(e)&&!r.values.length?pC(n,e):uu(Db(vC(r,c),c.values),s):rh(n,e)};function Pb(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?me(n,e,s):op(n)(n,e)}const bC=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>ce.update(e,s),stop:()=>ra(e),now:()=>We.isProcessing?We.timestamp:wn.now()}},zb=(n,e,s=10)=>{let r="";const c=Math.max(Math.round(e/s),2);for(let h=0;h<c;h++)r+=Math.round(n(h/(c-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},oh=2e4;function lp(n){let e=0;const s=50;let r=n.next(e);for(;!r.done&&e<oh;)e+=s,r=n.next(e);return e>=oh?1/0:e}function xC(n,e=100,s){const r=s({...n,keyframes:[0,e]}),c=Math.min(lp(r),oh);return{type:"keyframes",ease:h=>r.next(c*h).value/e,duration:Wn(c)}}const wC=5;function Bb(n,e,s){const r=Math.max(e-wC,0);return gb(s-n(r),e-r)}const xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hf=.001;function SC({duration:n=xe.duration,bounce:e=xe.bounce,velocity:s=xe.velocity,mass:r=xe.mass}){let c,h,d=1-e;d=ms(xe.minDamping,xe.maxDamping,d),n=ms(xe.minDuration,xe.maxDuration,Wn(n)),d<1?(c=v=>{const x=v*d,T=x*n,E=x-s,j=pm(v,d),k=Math.exp(-T);return Hf-E/j*k},h=v=>{const T=v*d*n,E=T*s+s,j=Math.pow(d,2)*Math.pow(v,2)*n,k=Math.exp(-T),O=pm(Math.pow(v,2),d);return(-c(v)+Hf>0?-1:1)*((E-j)*k)/O}):(c=v=>{const x=Math.exp(-v*n),T=(v-s)*n+1;return-Hf+x*T},h=v=>{const x=Math.exp(-v*n),T=(s-v)*(n*n);return x*T});const g=5/n,y=EC(c,h,g);if(n=Ni(n),isNaN(y))return{stiffness:xe.stiffness,damping:xe.damping,duration:n};{const v=Math.pow(y,2)*r;return{stiffness:v,damping:d*2*Math.sqrt(r*v),duration:n}}}const TC=12;function EC(n,e,s){let r=s;for(let c=1;c<TC;c++)r=r-n(r)/e(r);return r}function pm(n,e){return n*Math.sqrt(1-e*e)}const AC=["duration","bounce"],CC=["stiffness","damping","mass"];function g_(n,e){return e.some(s=>n[s]!==void 0)}function jC(n){let e={velocity:xe.velocity,stiffness:xe.stiffness,damping:xe.damping,mass:xe.mass,isResolvedFromDuration:!1,...n};if(!g_(n,CC)&&g_(n,AC))if(n.visualDuration){const s=n.visualDuration,r=2*Math.PI/(s*1.2),c=r*r,h=2*ms(.05,1,1-(n.bounce||0))*Math.sqrt(c);e={...e,mass:xe.mass,stiffness:c,damping:h}}else{const s=SC(n);e={...e,...s,mass:xe.mass},e.isResolvedFromDuration=!0}return e}function lh(n=xe.visualDuration,e=xe.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:c}=s;const h=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],g={done:!1,value:h},{stiffness:y,damping:v,mass:x,duration:T,velocity:E,isResolvedFromDuration:j}=jC({...s,velocity:-Wn(s.velocity||0)}),k=E||0,O=v/(2*Math.sqrt(y*x)),D=d-h,B=Wn(Math.sqrt(y/x)),I=Math.abs(D)<5;r||(r=I?xe.restSpeed.granular:xe.restSpeed.default),c||(c=I?xe.restDelta.granular:xe.restDelta.default);let N;if(O<1){const et=pm(B,O);N=st=>{const rt=Math.exp(-O*B*st);return d-rt*((k+O*B*D)/et*Math.sin(et*st)+D*Math.cos(et*st))}}else if(O===1)N=et=>d-Math.exp(-B*et)*(D+(k+B*D)*et);else{const et=B*Math.sqrt(O*O-1);N=st=>{const rt=Math.exp(-O*B*st),dt=Math.min(et*st,300);return d-rt*((k+O*B*D)*Math.sinh(dt)+et*D*Math.cosh(dt))/et}}const J={calculatedDuration:j&&T||null,next:et=>{const st=N(et);if(j)g.done=et>=T;else{let rt=et===0?k:0;O<1&&(rt=et===0?Ni(k):Bb(N,et,st));const dt=Math.abs(rt)<=r,Tt=Math.abs(d-st)<=c;g.done=dt&&Tt}return g.value=g.done?d:st,g},toString:()=>{const et=Math.min(lp(J),oh),st=zb(rt=>J.next(et*rt).value,et,30);return et+"ms "+st},toTransition:()=>{}};return J}lh.applyToOptions=n=>{const e=xC(n,100,lh);return n.ease=e.ease,n.duration=Ni(e.duration),n.type="keyframes",n};function gm({keyframes:n,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:c=10,bounceStiffness:h=500,modifyTarget:d,min:g,max:y,restDelta:v=.5,restSpeed:x}){const T=n[0],E={done:!1,value:T},j=dt=>g!==void 0&&dt<g||y!==void 0&&dt>y,k=dt=>g===void 0?y:y===void 0||Math.abs(g-dt)<Math.abs(y-dt)?g:y;let O=s*e;const D=T+O,B=d===void 0?D:d(D);B!==D&&(O=B-T);const I=dt=>-O*Math.exp(-dt/r),N=dt=>B+I(dt),J=dt=>{const Tt=I(dt),Wt=N(dt);E.done=Math.abs(Tt)<=v,E.value=E.done?B:Wt};let et,st;const rt=dt=>{j(E.value)&&(et=dt,st=lh({keyframes:[E.value,k(E.value)],velocity:Bb(N,dt,E.value),damping:c,stiffness:h,restDelta:v,restSpeed:x}))};return rt(0),{calculatedDuration:null,next:dt=>{let Tt=!1;return!st&&et===void 0&&(Tt=!0,J(dt),rt(dt)),et!==void 0&&dt>=et?st.next(dt-et):(!Tt&&J(dt),E)}}}function RC(n,e,s){const r=[],c=s||ps.mix||Pb,h=n.length-1;for(let d=0;d<h;d++){let g=c(n[d],n[d+1]);if(e){const y=Array.isArray(e)?e[d]||Xn:e;g=uu(y,g)}r.push(g)}return r}function OC(n,e,{clamp:s=!0,ease:r,mixer:c}={}){const h=n.length;if(Qm(h===e.length),h===1)return()=>e[0];if(h===2&&e[0]===e[1])return()=>e[1];const d=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),e=[...e].reverse());const g=RC(e,r,c),y=g.length,v=x=>{if(d&&x<n[0])return e[0];let T=0;if(y>1)for(;T<n.length-2&&!(x<n[T+1]);T++);const E=eu(n[T],n[T+1],x);return g[T](E)};return s?x=>v(ms(n[0],n[h-1],x)):v}function LC(n,e){const s=n[n.length-1];for(let r=1;r<=e;r++){const c=eu(0,e,r);n.push(me(s,1,c))}}function kC(n){const e=[0];return LC(e,n.length-1),e}function MC(n,e){return n.map(s=>s*e)}function NC(n,e){return n.map(()=>e||Eb).splice(0,n.length-1)}function Gl({duration:n=300,keyframes:e,times:s,ease:r="easeInOut"}){const c=GA(r)?r.map(h_):h_(r),h={done:!1,value:e[0]},d=MC(s&&s.length===e.length?s:kC(e),n),g=OC(d,e,{ease:Array.isArray(c)?c:NC(e,c)});return{calculatedDuration:n,next:y=>(h.value=g(y),h.done=y>=n,h)}}const DC=n=>n!==null;function up(n,{repeat:e,repeatType:s="loop"},r,c=1){const h=n.filter(DC),g=c<0||e&&s!=="loop"&&e%2===1?0:h.length-1;return!g||r===void 0?h[g]:r}const PC={decay:gm,inertia:gm,tween:Gl,keyframes:Gl,spring:lh};function Ub(n){typeof n.type=="string"&&(n.type=PC[n.type])}class cp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const zC=n=>n/100;class hp extends cp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ub(e);const{type:s=Gl,repeat:r=0,repeatDelay:c=0,repeatType:h,velocity:d=0}=e;let{keyframes:g}=e;const y=s||Gl;y!==Gl&&typeof g[0]!="number"&&(this.mixKeyframes=uu(zC,Pb(g[0],g[1])),g=[0,100]);const v=y({...e,keyframes:g});h==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...g].reverse(),velocity:-d})),v.calculatedDuration===null&&(v.calculatedDuration=lp(v));const{calculatedDuration:x}=v;this.calculatedDuration=x,this.resolvedDuration=x+c,this.totalDuration=this.resolvedDuration*(r+1)-c,this.generator=v}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:c,mixKeyframes:h,mirroredGenerator:d,resolvedDuration:g,calculatedDuration:y}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:x,repeat:T,repeatType:E,repeatDelay:j,type:k,onUpdate:O,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const B=this.currentTime-v*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?B<0:B>c;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let N=this.currentTime,J=r;if(T){const dt=Math.min(this.currentTime,c)/g;let Tt=Math.floor(dt),Wt=dt%1;!Wt&&dt>=1&&(Wt=1),Wt===1&&Tt--,Tt=Math.min(Tt,T+1),Tt%2&&(E==="reverse"?(Wt=1-Wt,j&&(Wt-=j/g)):E==="mirror"&&(J=d)),N=ms(0,1,Wt)*g}const et=I?{done:!1,value:x[0]}:J.next(N);h&&(et.value=h(et.value));let{done:st}=et;!I&&y!==null&&(st=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const rt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&st);return rt&&k!==gm&&(et.value=up(x,this.options,D,this.speed)),O&&O(et.value),rt&&this.finish(),et}then(e,s){return this.finished.then(e,s)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Wn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=bC,startTime:s}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function BC(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const or=n=>n*180/Math.PI,ym=n=>{const e=or(Math.atan2(n[1],n[0]));return vm(e)},UC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ym,rotateZ:ym,skewX:n=>or(Math.atan(n[1])),skewY:n=>or(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},vm=n=>(n=n%360,n<0&&(n+=360),n),y_=ym,v_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),__=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),VC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:v_,scaleY:__,scale:n=>(v_(n)+__(n))/2,rotateX:n=>vm(or(Math.atan2(n[6],n[5]))),rotateY:n=>vm(or(Math.atan2(-n[2],n[0]))),rotateZ:y_,rotate:y_,skewX:n=>or(Math.atan(n[4])),skewY:n=>or(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function _m(n){return n.includes("scale")?1:0}function bm(n,e){if(!n||n==="none")return _m(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,c;if(s)r=VC,c=s;else{const g=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UC,c=g}if(!c)return _m(e);const h=r[e],d=c[1].split(",").map(HC);return typeof h=="function"?h(d):d[h]}const IC=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return bm(s,e)};function HC(n){return parseFloat(n.trim())}const Co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jo=new Set(Co),b_=n=>n===Ao||n===St,qC=new Set(["x","y","z"]),ZC=Co.filter(n=>!qC.has(n));function GC(n){const e=[];return ZC.forEach(s=>{const r=n.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const lr={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>bm(e,"x"),y:(n,{transform:e})=>bm(e,"y")};lr.translateX=lr.x;lr.translateY=lr.y;const ur=new Set;let xm=!1,wm=!1,Sm=!1;function Vb(){if(wm){const n=Array.from(ur).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),s=new Map;e.forEach(r=>{const c=GC(r);c.length&&(s.set(r,c),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const c=s.get(r);c&&c.forEach(([h,d])=>{r.getValue(h)?.set(d)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wm=!1,xm=!1,ur.forEach(n=>n.complete(Sm)),ur.clear()}function Ib(){ur.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(wm=!0)})}function $C(){Sm=!0,Ib(),Vb(),Sm=!1}class dp{constructor(e,s,r,c,h,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=c,this.element=h,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(ur.add(this),xm||(xm=!0,ce.read(Ib),ce.resolveKeyframes(Vb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:c}=this;if(e[0]===null){const h=c?.get(),d=e[e.length-1];if(h!==void 0)e[0]=h;else if(r&&s){const g=r.readValue(s,d);g!=null&&(e[0]=g)}e[0]===void 0&&(e[0]=d),c&&h===void 0&&c.set(e[0])}BC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ur.delete(this)}cancel(){this.state==="scheduled"&&(ur.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KC=n=>n.startsWith("--");function FC(n,e,s){KC(e)?n.style.setProperty(e,s):n.style[e]=s}const YC=tp(()=>window.ScrollTimeline!==void 0),WC={};function XC(n,e){const s=tp(n);return()=>WC[e]??s()}const Hb=XC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vl=([n,e,s,r])=>`cubic-bezier(${n}, ${e}, ${s}, ${r})`,x_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vl([0,.65,.55,1]),circOut:Vl([.55,0,1,.45]),backIn:Vl([.31,.01,.66,-.59]),backOut:Vl([.33,1.53,.69,.99])};function qb(n,e){if(n)return typeof n=="function"?Hb()?zb(n,e):"ease-out":Ab(n)?Vl(n):Array.isArray(n)?n.map(s=>qb(s,e)||x_.easeOut):x_[n]}function JC(n,e,s,{delay:r=0,duration:c=300,repeat:h=0,repeatType:d="loop",ease:g="easeOut",times:y}={},v=void 0){const x={[e]:s};y&&(x.offset=y);const T=qb(g,c);Array.isArray(T)&&(x.easing=T);const E={delay:r,duration:c,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:h+1,direction:d==="reverse"?"alternate":"normal"};return v&&(E.pseudoElement=v),n.animate(x,E)}function Zb(n){return typeof n=="function"&&"applyToOptions"in n}function QC({type:n,...e}){return Zb(n)&&Hb()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t2 extends cp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:r,keyframes:c,pseudoElement:h,allowFlatten:d=!1,finalKeyframe:g,onComplete:y}=e;this.isPseudoElement=!!h,this.allowFlatten=d,this.options=e,Qm(typeof e.type!="string");const v=QC(e);this.animation=JC(s,r,c,v,h),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const x=up(c,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(x):FC(s,r,x),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Wn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YC()?(this.animation.timeline=e,Xn):s(this)}}const Gb={anticipate:wb,backInOut:xb,circInOut:Tb};function e2(n){return n in Gb}function n2(n){typeof n.ease=="string"&&e2(n.ease)&&(n.ease=Gb[n.ease])}const w_=10;class i2 extends t2{constructor(e){n2(e),Ub(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:c,element:h,...d}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const g=new hp({...d,autoplay:!1}),y=Ni(this.finishedTime??this.time);s.setWithVelocity(g.sample(y-w_).value,g.sample(y).value,w_),g.stop()}}const S_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(oa.test(n)||n==="0")&&!n.startsWith("url("));function s2(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function a2(n,e,s,r){const c=n[0];if(c===null)return!1;if(e==="display"||e==="visibility")return!0;const h=n[n.length-1],d=S_(c,e),g=S_(h,e);return!d||!g?!1:s2(n)||(s==="spring"||Zb(s))&&r}function Tm(n){n.duration=0,n.type="keyframes"}const r2=new Set(["opacity","clipPath","filter","transform"]),o2=tp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function l2(n){const{motionValue:e,name:s,repeatDelay:r,repeatType:c,damping:h,type:d}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:v}=e.owner.getProps();return o2()&&s&&r2.has(s)&&(s!=="transform"||!v)&&!y&&!r&&c!=="mirror"&&h!==0&&d!=="inertia"}const u2=40;class c2 extends cp{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:c=0,repeatDelay:h=0,repeatType:d="loop",keyframes:g,name:y,motionValue:v,element:x,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const E={autoplay:e,delay:s,type:r,repeat:c,repeatDelay:h,repeatType:d,name:y,motionValue:v,element:x,...T},j=x?.KeyframeResolver||dp;this.keyframeResolver=new j(g,(k,O,D)=>this.onKeyframesResolved(k,O,E,!D),y,v,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,r,c){this.keyframeResolver=void 0;const{name:h,type:d,velocity:g,delay:y,isHandoff:v,onUpdate:x}=r;this.resolvedAt=wn.now(),a2(e,h,d,g)||((ps.instantAnimations||!y)&&x?.(up(e,r,s)),e[0]=e[e.length-1],Tm(r),r.repeat=0);const E={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>u2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},j=!v&&l2(E)?new i2({...E,element:E.motionValue.owner.current}):new hp(E);j.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$C()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const h2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d2(n){const e=h2.exec(n);if(!e)return[,];const[,s,r,c]=e;return[`--${s??r}`,c]}function $b(n,e,s=1){const[r,c]=d2(n);if(!r)return;const h=window.getComputedStyle(e).getPropertyValue(r);if(h){const d=h.trim();return fb(d)?parseFloat(d):d}return sp(c)?$b(c,e,s+1):c}function fp(n,e){return n?.[e]??n?.default??n}const Kb=new Set(["width","height","top","left","right","bottom",...Co]),f2={test:n=>n==="auto",parse:n=>n},Fb=n=>e=>e.test(n),Yb=[Ao,St,Di,ia,sC,iC,f2],T_=n=>Yb.find(Fb(n));function m2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||pb(n):!0}const p2=new Set(["brightness","contrast","saturate","opacity"]);function g2(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=s.match(ap)||[];if(!r)return n;const c=s.replace(r,"");let h=p2.has(e)?1:0;return r!==s&&(h*=100),e+"("+h+c+")"}const y2=/\b([a-z-]*)\(.*?\)/gu,Em={...oa,getAnimatableNone:n=>{const e=n.match(y2);return e?e.map(g2).join(" "):n}},E_={...Ao,transform:Math.round},v2={rotate:ia,rotateX:ia,rotateY:ia,rotateZ:ia,scale:Fc,scaleX:Fc,scaleY:Fc,scaleZ:Fc,skew:ia,skewX:ia,skewY:ia,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:nu,originX:d_,originY:d_,originZ:St},mp={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...v2,zIndex:E_,fillOpacity:nu,strokeOpacity:nu,numOctaves:E_},_2={...mp,color:ke,backgroundColor:ke,outlineColor:ke,fill:ke,stroke:ke,borderColor:ke,borderTopColor:ke,borderRightColor:ke,borderBottomColor:ke,borderLeftColor:ke,filter:Em,WebkitFilter:Em},Wb=n=>_2[n];function Xb(n,e){let s=Wb(n);return s!==Em&&(s=oa),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const b2=new Set(["auto","none","0"]);function x2(n,e,s){let r=0,c;for(;r<n.length&&!c;){const h=n[r];typeof h=="string"&&!b2.has(h)&&iu(h).values.length&&(c=n[r]),r++}if(c&&s)for(const h of e)n[h]=Xb(s,c)}class w2 extends dp{constructor(e,s,r,c,h){super(e,s,r,c,h,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),sp(v))){const x=$b(v,s.current);x!==void 0&&(e[y]=x),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!Kb.has(r)||e.length!==2)return;const[c,h]=e,d=T_(c),g=T_(h);if(d!==g)if(b_(d)&&b_(g))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else lr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let c=0;c<e.length;c++)(e[c]===null||m2(e[c]))&&r.push(c);r.length&&x2(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const c=s[s.length-1];c!==void 0&&e.getValue(r,c).jump(c,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const c=e.getValue(s);c&&c.jump(this.measuredOrigin,!1);const h=r.length-1,d=r[h];r[h]=lr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([g,y])=>{e.getValue(g).set(y)}),this.resolveNoneKeyframes()}}function S2(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const c=s?.[n]??r.querySelectorAll(n);return c?Array.from(c):[]}return Array.from(n)}const Jb=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function T2(n){return mb(n)&&"offsetHeight"in n}const A_=30,E2=n=>!isNaN(parseFloat(n));class A2{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const c=wn.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new ep);const r=this.events[e].add(s);return e==="change"?()=>{r(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>A_)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,A_);return gb(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(n,e){return new A2(n,e)}const{schedule:pp}=Cb(queueMicrotask,!1),mi={x:!1,y:!1};function Qb(){return mi.x||mi.y}function C2(n){return n==="x"||n==="y"?mi[n]?null:(mi[n]=!0,()=>{mi[n]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function tx(n,e){const s=S2(n),r=new AbortController,c={passive:!0,...e,signal:r.signal};return[s,c,()=>r.abort()]}function C_(n){return!(n.pointerType==="touch"||Qb())}function j2(n,e,s={}){const[r,c,h]=tx(n,s),d=g=>{if(!C_(g))return;const{target:y}=g,v=e(y,g);if(typeof v!="function"||!y)return;const x=T=>{C_(T)&&(v(T),y.removeEventListener("pointerleave",x))};y.addEventListener("pointerleave",x,c)};return r.forEach(g=>{g.addEventListener("pointerenter",d,c)}),h}const ex=(n,e)=>e?n===e?!0:ex(n,e.parentElement):!1,gp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,R2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O2(n){return R2.has(n.tagName)||n.tabIndex!==-1}const Qc=new WeakSet;function j_(n){return e=>{e.key==="Enter"&&n(e)}}function qf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const L2=(n,e)=>{const s=n.currentTarget;if(!s)return;const r=j_(()=>{if(Qc.has(s))return;qf(s,"down");const c=j_(()=>{qf(s,"up")}),h=()=>qf(s,"cancel");s.addEventListener("keyup",c,e),s.addEventListener("blur",h,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function R_(n){return gp(n)&&!Qb()}function k2(n,e,s={}){const[r,c,h]=tx(n,s),d=g=>{const y=g.currentTarget;if(!R_(g))return;Qc.add(y);const v=e(y,g),x=(j,k)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",E),Qc.has(y)&&Qc.delete(y),R_(j)&&typeof v=="function"&&v(j,{success:k})},T=j=>{x(j,y===window||y===document||s.useGlobalTarget||ex(y,j.target))},E=j=>{x(j,!1)};window.addEventListener("pointerup",T,c),window.addEventListener("pointercancel",E,c)};return r.forEach(g=>{(s.useGlobalTarget?window:g).addEventListener("pointerdown",d,c),T2(g)&&(g.addEventListener("focus",v=>L2(v,c)),!O2(g)&&!g.hasAttribute("tabindex")&&(g.tabIndex=0))}),h}function nx(n){return mb(n)&&"ownerSVGElement"in n}function M2(n){return nx(n)&&n.tagName==="svg"}const en=n=>!!(n&&n.getVelocity),N2=[...Yb,ke,oa],D2=n=>N2.find(Fb(n)),ix=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function P2(n=!0){const e=R.useContext(Wm);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:c}=e,h=R.useId();R.useEffect(()=>{if(n)return c(h)},[n]);const d=R.useCallback(()=>n&&r&&r(h),[h,r,n]);return!s&&r?[!1,d]:[!0]}const sx=R.createContext({strict:!1}),O_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xo={};for(const n in O_)xo[n]={isEnabled:e=>O_[n].some(s=>!!e[s])};function z2(n){for(const e in n)xo[e]={...xo[e],...n[e]}}const B2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||B2.has(n)}let ax=n=>!uh(n);function U2(n){typeof n=="function"&&(ax=e=>e.startsWith("on")?!uh(e):n(e))}try{U2(require("@emotion/is-prop-valid").default)}catch{}function V2(n,e,s){const r={};for(const c in n)c==="values"&&typeof n.values=="object"||(ax(c)||s===!0&&uh(c)||!e&&!uh(c)||n.draggable&&c.startsWith("onDrag"))&&(r[c]=n[c]);return r}const yh=R.createContext({});function vh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function su(n){return typeof n=="string"||Array.isArray(n)}const yp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vp=["initial",...yp];function _h(n){return vh(n.animate)||vp.some(e=>su(n[e]))}function rx(n){return!!(_h(n)||n.variants)}function I2(n,e){if(_h(n)){const{initial:s,animate:r}=n;return{initial:s===!1||su(s)?s:void 0,animate:su(r)?r:void 0}}return n.inherit!==!1?e:{}}function H2(n){const{initial:e,animate:s}=I2(n,R.useContext(yh));return R.useMemo(()=>({initial:e,animate:s}),[L_(e),L_(s)])}function L_(n){return Array.isArray(n)?n.join(" "):n}function k_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const s=k_(n,e.target.x),r=k_(n,e.target.y);return`${s}% ${r}%`}},q2={correct:(n,{treeScale:e,projectionDelta:s})=>{const r=n,c=oa.parse(n);if(c.length>5)return r;const h=oa.createTransformer(n),d=typeof c[0]!="number"?1:0,g=s.x.scale*e.x,y=s.y.scale*e.y;c[0+d]/=g,c[1+d]/=y;const v=me(g,y,.5);return typeof c[2+d]=="number"&&(c[2+d]/=v),typeof c[3+d]=="number"&&(c[3+d]/=v),h(c)}},Am={borderRadius:{...Bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomLeftRadius:Bl,borderBottomRightRadius:Bl,boxShadow:q2};function ox(n,{layout:e,layoutId:s}){return jo.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!Am[n]||n==="opacity")}const Z2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G2=Co.length;function $2(n,e,s){let r="",c=!0;for(let h=0;h<G2;h++){const d=Co[h],g=n[d];if(g===void 0)continue;let y=!0;if(typeof g=="number"?y=g===(d.startsWith("scale")?1:0):y=parseFloat(g)===0,!y||s){const v=Jb(g,mp[d]);if(!y){c=!1;const x=Z2[d]||d;r+=`${x}(${v}) `}s&&(e[d]=v)}}return r=r.trim(),s?r=s(e,c?"":r):c&&(r="none"),r}function _p(n,e,s){const{style:r,vars:c,transformOrigin:h}=n;let d=!1,g=!1;for(const y in e){const v=e[y];if(jo.has(y)){d=!0;continue}else if(Rb(y)){c[y]=v;continue}else{const x=Jb(v,mp[y]);y.startsWith("origin")?(g=!0,h[y]=x):r[y]=x}}if(e.transform||(d||s?r.transform=$2(e,n.transform,s):r.transform&&(r.transform="none")),g){const{originX:y="50%",originY:v="50%",originZ:x=0}=h;r.transformOrigin=`${y} ${v} ${x}`}}const bp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lx(n,e,s){for(const r in e)!en(e[r])&&!ox(r,s)&&(n[r]=e[r])}function K2({transformTemplate:n},e){return R.useMemo(()=>{const s=bp();return _p(s,e,n),Object.assign({},s.vars,s.style)},[e])}function F2(n,e){const s=n.style||{},r={};return lx(r,s,n),Object.assign(r,K2(n,e)),r}function Y2(n,e){const s={},r=F2(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=r,s}const W2={offset:"stroke-dashoffset",array:"stroke-dasharray"},X2={offset:"strokeDashoffset",array:"strokeDasharray"};function J2(n,e,s=1,r=0,c=!0){n.pathLength=1;const h=c?W2:X2;n[h.offset]=St.transform(-r);const d=St.transform(e),g=St.transform(s);n[h.array]=`${d} ${g}`}function ux(n,{attrX:e,attrY:s,attrScale:r,pathLength:c,pathSpacing:h=1,pathOffset:d=0,...g},y,v,x){if(_p(n,g,v),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:E}=n;T.transform&&(E.transform=T.transform,delete T.transform),(E.transform||T.transformOrigin)&&(E.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),E.transform&&(E.transformBox=x?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),s!==void 0&&(T.y=s),r!==void 0&&(T.scale=r),c!==void 0&&J2(T,c,h,d,!1)}const cx=()=>({...bp(),attrs:{}}),hx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Q2(n,e,s,r){const c=R.useMemo(()=>{const h=cx();return ux(h,e,hx(r),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[e]);if(n.style){const h={};lx(h,n.style,n),c.style={...h,...c.style}}return c}const tj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xp(n){return typeof n!="string"||n.includes("-")?!1:!!(tj.indexOf(n)>-1||/[A-Z]/u.test(n))}function ej(n,e,s,{latestValues:r},c,h=!1){const g=(xp(n)?Q2:Y2)(e,r,c,n),y=V2(e,typeof n=="string",h),v=n!==R.Fragment?{...y,...g,ref:s}:{},{children:x}=e,T=R.useMemo(()=>en(x)?x.get():x,[x]);return R.createElement(n,{...v,children:T})}function M_(n){const e=[{},{}];return n?.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function wp(n,e,s,r){if(typeof e=="function"){const[c,h]=M_(r);e=e(s!==void 0?s:n.custom,c,h)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[c,h]=M_(r);e=e(s!==void 0?s:n.custom,c,h)}return e}function th(n){return en(n)?n.get():n}function nj({scrapeMotionValuesFromProps:n,createRenderState:e},s,r,c){return{latestValues:ij(s,r,c,n),renderState:e()}}function ij(n,e,s,r){const c={},h=r(n,{});for(const E in h)c[E]=th(h[E]);let{initial:d,animate:g}=n;const y=_h(n),v=rx(n);e&&v&&!y&&n.inherit!==!1&&(d===void 0&&(d=e.initial),g===void 0&&(g=e.animate));let x=s?s.initial===!1:!1;x=x||d===!1;const T=x?g:d;if(T&&typeof T!="boolean"&&!vh(T)){const E=Array.isArray(T)?T:[T];for(let j=0;j<E.length;j++){const k=wp(n,E[j]);if(k){const{transitionEnd:O,transition:D,...B}=k;for(const I in B){let N=B[I];if(Array.isArray(N)){const J=x?N.length-1:0;N=N[J]}N!==null&&(c[I]=N)}for(const I in O)c[I]=O[I]}}}return c}const dx=n=>(e,s)=>{const r=R.useContext(yh),c=R.useContext(Wm),h=()=>nj(n,e,r,c);return s?h():zA(h)};function Sp(n,e,s){const{style:r}=n,c={};for(const h in r)(en(r[h])||e.style&&en(e.style[h])||ox(h,n)||s?.getValue(h)?.liveStyle!==void 0)&&(c[h]=r[h]);return c}const sj=dx({scrapeMotionValuesFromProps:Sp,createRenderState:bp});function fx(n,e,s){const r=Sp(n,e,s);for(const c in n)if(en(n[c])||en(e[c])){const h=Co.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;r[h]=n[c]}return r}const aj=dx({scrapeMotionValuesFromProps:fx,createRenderState:cx}),rj=Symbol.for("motionComponentSymbol");function mo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function oj(n,e,s){return R.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):mo(s)&&(s.current=r))},[e])}const Tp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lj="framerAppearId",mx="data-"+Tp(lj),px=R.createContext({});function uj(n,e,s,r,c){const{visualElement:h}=R.useContext(yh),d=R.useContext(sx),g=R.useContext(Wm),y=R.useContext(ix).reducedMotion,v=R.useRef(null);r=r||d.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:h,props:s,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y}));const x=v.current,T=R.useContext(px);x&&!x.projection&&c&&(x.type==="html"||x.type==="svg")&&cj(v.current,s,c,T);const E=R.useRef(!1);R.useInsertionEffect(()=>{x&&E.current&&x.update(s,g)});const j=s[mx],k=R.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return BA(()=>{x&&(E.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),k.current&&x.animationState&&x.animationState.animateChanges())}),R.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),k.current=!1),x.enteringChildren=void 0)}),x}function cj(n,e,s,r){const{layoutId:c,layout:h,drag:d,dragConstraints:g,layoutScroll:y,layoutRoot:v,layoutCrossfade:x}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:gx(n.parent)),n.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!d||g&&mo(g),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:r,crossfade:x,layoutScroll:y,layoutRoot:v})}function gx(n){if(n)return n.options.allowProjection!==!1?n.projection:gx(n.parent)}function Zf(n,{forwardMotionProps:e=!1}={},s,r){s&&z2(s);const c=xp(n)?aj:sj;function h(g,y){let v;const x={...R.useContext(ix),...g,layoutId:hj(g)},{isStatic:T}=x,E=H2(g),j=c(g,T);if(!T&&Ym){dj();const k=fj(x);v=k.MeasureLayout,E.visualElement=uj(n,j,x,r,k.ProjectionNode)}return _.jsxs(yh.Provider,{value:E,children:[v&&E.visualElement?_.jsx(v,{visualElement:E.visualElement,...x}):null,ej(n,g,oj(j,E.visualElement,y),j,T,e)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=R.forwardRef(h);return d[rj]=n,d}function hj({layoutId:n}){const e=R.useContext(db).id;return e&&n!==void 0?e+"-"+n:n}function dj(n,e){R.useContext(sx).strict}function fj(n){const{drag:e,layout:s}=xo;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mj(n,e){if(typeof Proxy>"u")return Zf;const s=new Map,r=(h,d)=>Zf(h,d,n,e),c=(h,d)=>r(h,d);return new Proxy(c,{get:(h,d)=>d==="create"?r:(s.has(d)||s.set(d,Zf(d,void 0,n,e)),s.get(d))})}function yx({top:n,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:n,max:r}}}function pj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function gj(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Gf(n){return n===void 0||n===1}function Cm({scale:n,scaleX:e,scaleY:s}){return!Gf(n)||!Gf(e)||!Gf(s)}function nr(n){return Cm(n)||vx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function vx(n){return N_(n.x)||N_(n.y)}function N_(n){return n&&n!=="0%"}function ch(n,e,s){const r=n-s,c=e*r;return s+c}function D_(n,e,s,r,c){return c!==void 0&&(n=ch(n,c,r)),ch(n,s,r)+e}function jm(n,e=0,s=1,r,c){n.min=D_(n.min,e,s,r,c),n.max=D_(n.max,e,s,r,c)}function _x(n,{x:e,y:s}){jm(n.x,e.translate,e.scale,e.originPoint),jm(n.y,s.translate,s.scale,s.originPoint)}const P_=.999999999999,z_=1.0000000000001;function yj(n,e,s,r=!1){const c=s.length;if(!c)return;e.x=e.y=1;let h,d;for(let g=0;g<c;g++){h=s[g],d=h.projectionDelta;const{visualElement:y}=h.options;y&&y.props.style&&y.props.style.display==="contents"||(r&&h.options.layoutScroll&&h.scroll&&h!==h.root&&go(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,_x(n,d)),r&&nr(h.latestValues)&&go(n,h.latestValues))}e.x<z_&&e.x>P_&&(e.x=1),e.y<z_&&e.y>P_&&(e.y=1)}function po(n,e){n.min=n.min+e,n.max=n.max+e}function B_(n,e,s,r,c=.5){const h=me(n.min,n.max,c);jm(n,e,s,h,r)}function go(n,e){B_(n.x,e.x,e.scaleX,e.scale,e.originX),B_(n.y,e.y,e.scaleY,e.scale,e.originY)}function bx(n,e){return yx(gj(n.getBoundingClientRect(),e))}function vj(n,e,s){const r=bx(n,s),{scroll:c}=e;return c&&(po(r.x,c.offset.x),po(r.y,c.offset.y)),r}const U_=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:U_(),y:U_()}),V_=()=>({min:0,max:0}),ze=()=>({x:V_(),y:V_()}),Rm={current:null},xx={current:!1};function _j(){if(xx.current=!0,!!Ym)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rm.current=n.matches;n.addEventListener("change",e),e()}else Rm.current=!1}const bj=new WeakMap;function xj(n,e,s){for(const r in e){const c=e[r],h=s[r];if(en(c))n.addValue(r,c);else if(en(h))n.addValue(r,bo(c,{owner:n}));else if(h!==c)if(n.hasValue(r)){const d=n.getValue(r);d.liveStyle===!0?d.jump(c):d.hasAnimated||d.set(c)}else{const d=n.getStaticValue(r);n.addValue(r,bo(d!==void 0?d:c,{owner:n}))}}for(const r in s)e[r]===void 0&&n.removeValue(r);return e}const I_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wj{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:c,blockInitialAnimation:h,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ce.render(this.render,!1,!0))};const{latestValues:y,renderState:v}=d;this.latestValues=y,this.baseTarget={...y},this.initialValues=s.initial?{...y}:{},this.renderState=v,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=c,this.options=g,this.blockInitialAnimation=!!h,this.isControllingVariants=_h(s),this.isVariantNode=rx(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...T}=this.scrapeMotionValuesFromProps(s,{},this);for(const E in T){const j=T[E];y[E]!==void 0&&en(j)&&j.set(y[E])}}mount(e){this.current=e,bj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),xx.current||_j(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ra(this.notifyUpdate),ra(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jo.has(e);r&&this.onBindTransform&&this.onBindTransform();const c=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{c(),h&&h(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xo){const s=xo[e];if(!s)continue;const{isEnabled:r,Feature:c}=s;if(!this.features[e]&&c&&r(this.props)&&(this.features[e]=new c(this)),this.features[e]){const h=this.features[e];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<I_.length;r++){const c=I_[r];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const h="on"+c,d=e[h];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=xj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=bo(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fb(r)||pb(r))?r=parseFloat(r):!D2(r)&&oa.test(s)&&(r=Xb(e,s)),this.setBaseTarget(e,en(r)?r.get():r)),en(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const h=wp(this.props,s,this.presenceContext?.custom);h&&(r=h[e])}if(s&&r!==void 0)return r;const c=this.getBaseTargetFromProps(this.props,e);return c!==void 0&&!en(c)?c:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new ep),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){pp.render(this.render)}}class wx extends wj{constructor(){super(...arguments),this.KeyframeResolver=w2}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Sx(n,{style:e,vars:s},r,c){const h=n.style;let d;for(d in e)h[d]=e[d];c?.applyProjectionStyles(h,r);for(d in s)h.setProperty(d,s[d])}function Sj(n){return window.getComputedStyle(n)}class Tj extends wx{constructor(){super(...arguments),this.type="html",this.renderInstance=Sx}readValueFromInstance(e,s){if(jo.has(s))return this.projection?.isProjecting?_m(s):IC(e,s);{const r=Sj(e),c=(Rb(s)?r.getPropertyValue(s):r[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:s}){return bx(e,s)}build(e,s,r){_p(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Sp(e,s,r)}}const Tx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ej(n,e,s,r){Sx(n,e,void 0,r);for(const c in e.attrs)n.setAttribute(Tx.has(c)?c:Tp(c),e.attrs[c])}class Aj extends wx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(jo.has(s)){const r=Wb(s);return r&&r.default||0}return s=Tx.has(s)?s:Tp(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return fx(e,s,r)}build(e,s,r){ux(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,c){Ej(e,s,r,c)}mount(e){this.isSVGTag=hx(e.tagName),super.mount(e)}}const Cj=(n,e)=>xp(n)?new Aj(e):new Tj(e,{allowProjection:n!==R.Fragment});function _o(n,e,s){const r=n.getProps();return wp(r,e,s!==void 0?s:r.custom,n)}const Om=n=>Array.isArray(n);function jj(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,bo(s))}function Rj(n){return Om(n)?n[n.length-1]||0:n}function Oj(n,e){const s=_o(n,e);let{transitionEnd:r={},transition:c={},...h}=s||{};h={...h,...r};for(const d in h){const g=Rj(h[d]);jj(n,d,g)}}function Lj(n){return!!(en(n)&&n.add)}function Lm(n,e){const s=n.getValue("willChange");if(Lj(s))return s.add(e);if(!s&&ps.WillChange){const r=new ps.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function Ex(n){return n.props[mx]}const kj=n=>n!==null;function Mj(n,{repeat:e,repeatType:s="loop"},r){const c=n.filter(kj),h=e&&s!=="loop"&&e%2===1?0:c.length-1;return c[h]}const Nj={type:"spring",stiffness:500,damping:25,restSpeed:10},Dj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Pj={type:"keyframes",duration:.8},zj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bj=(n,{keyframes:e})=>e.length>2?Pj:jo.has(n)?n.startsWith("scale")?Dj(e[1]):Nj:zj;function Uj({when:n,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:c,repeat:h,repeatType:d,repeatDelay:g,from:y,elapsed:v,...x}){return!!Object.keys(x).length}const Ep=(n,e,s,r={},c,h)=>d=>{const g=fp(r,n)||{},y=g.delay||r.delay||0;let{elapsed:v=0}=r;v=v-Ni(y);const x={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...g,delay:-v,onUpdate:E=>{e.set(E),g.onUpdate&&g.onUpdate(E)},onComplete:()=>{d(),g.onComplete&&g.onComplete()},name:n,motionValue:e,element:h?void 0:c};Uj(g)||Object.assign(x,Bj(n,x)),x.duration&&(x.duration=Ni(x.duration)),x.repeatDelay&&(x.repeatDelay=Ni(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let T=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Tm(x),x.delay===0&&(T=!0)),(ps.instantAnimations||ps.skipAnimations)&&(T=!0,Tm(x),x.delay=0),x.allowFlatten=!g.type&&!g.ease,T&&!h&&e.get()!==void 0){const E=Mj(x.keyframes,g);if(E!==void 0){ce.update(()=>{x.onUpdate(E),x.onComplete()});return}}return g.isSync?new hp(x):new c2(x)};function Vj({protectedKeys:n,needsAnimating:e},s){const r=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function Ax(n,e,{delay:s=0,transitionOverride:r,type:c}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:d,...g}=e;r&&(h=r);const y=[],v=c&&n.animationState&&n.animationState.getState()[c];for(const x in g){const T=n.getValue(x,n.latestValues[x]??null),E=g[x];if(E===void 0||v&&Vj(v,x))continue;const j={delay:s,...fp(h||{},x)},k=T.get();if(k!==void 0&&!T.isAnimating&&!Array.isArray(E)&&E===k&&!j.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const B=Ex(n);if(B){const I=window.MotionHandoffAnimation(B,x,ce);I!==null&&(j.startTime=I,O=!0)}}Lm(n,x),T.start(Ep(x,T,E,n.shouldReduceMotion&&Kb.has(x)?{type:!1}:j,n,O));const D=T.animation;D&&y.push(D)}return d&&Promise.all(y).then(()=>{ce.update(()=>{d&&Oj(n,d)})}),y}function Cx(n,e,s,r=0,c=1){const h=Array.from(n).sort((v,x)=>v.sortNodePosition(x)).indexOf(e),d=n.size,g=(d-1)*r;return typeof s=="function"?s(h,d):c===1?h*r:g-h*r}function km(n,e,s={}){const r=_o(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:c=n.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(c=s.transitionOverride);const h=r?()=>Promise.all(Ax(n,r,s)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:T}=c;return Ij(n,e,y,v,x,T,s)}:()=>Promise.resolve(),{when:g}=c;if(g){const[y,v]=g==="beforeChildren"?[h,d]:[d,h];return y().then(()=>v())}else return Promise.all([h(),d(s.delay)])}function Ij(n,e,s=0,r=0,c=0,h=1,d){const g=[];for(const y of n.variantChildren)y.notify("AnimationStart",e),g.push(km(y,e,{...d,delay:s+(typeof r=="function"?0:r)+Cx(n.variantChildren,y,r,c,h)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(g)}function Hj(n,e,s={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const c=e.map(h=>km(n,h,s));r=Promise.all(c)}else if(typeof e=="string")r=km(n,e,s);else{const c=typeof e=="function"?_o(n,e,s.custom):e;r=Promise.all(Ax(n,c,s))}return r.then(()=>{n.notify("AnimationComplete",e)})}function jx(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let r=0;r<s;r++)if(e[r]!==n[r])return!1;return!0}const qj=vp.length;function Rx(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?Rx(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<qj;s++){const r=vp[s],c=n.props[r];(su(c)||c===!1)&&(e[r]=c)}return e}const Zj=[...yp].reverse(),Gj=yp.length;function $j(n){return e=>Promise.all(e.map(({animation:s,options:r})=>Hj(n,s,r)))}function Kj(n){let e=$j(n),s=H_(),r=!0;const c=y=>(v,x)=>{const T=_o(n,x,y==="exit"?n.presenceContext?.custom:void 0);if(T){const{transition:E,transitionEnd:j,...k}=T;v={...v,...k,...j}}return v};function h(y){e=y(n)}function d(y){const{props:v}=n,x=Rx(n.parent)||{},T=[],E=new Set;let j={},k=1/0;for(let D=0;D<Gj;D++){const B=Zj[D],I=s[B],N=v[B]!==void 0?v[B]:x[B],J=su(N),et=B===y?I.isActive:null;et===!1&&(k=D);let st=N===x[B]&&N!==v[B]&&J;if(st&&r&&n.manuallyAnimateOnMount&&(st=!1),I.protectedKeys={...j},!I.isActive&&et===null||!N&&!I.prevProp||vh(N)||typeof N=="boolean")continue;const rt=Fj(I.prevProp,N);let dt=rt||B===y&&I.isActive&&!st&&J||D>k&&J,Tt=!1;const Wt=Array.isArray(N)?N:[N];let Vt=Wt.reduce(c(B),{});et===!1&&(Vt={});const{prevResolvedValues:$t={}}=I,Qn={...$t,...Vt},pe=it=>{dt=!0,E.has(it)&&(Tt=!0,E.delete(it)),I.needsAnimating[it]=!0;const nt=n.getValue(it);nt&&(nt.liveStyle=!1)};for(const it in Qn){const nt=Vt[it],kt=$t[it];if(j.hasOwnProperty(it))continue;let ut=!1;Om(nt)&&Om(kt)?ut=!jx(nt,kt):ut=nt!==kt,ut?nt!=null?pe(it):E.add(it):nt!==void 0&&E.has(it)?pe(it):I.protectedKeys[it]=!0}I.prevProp=N,I.prevResolvedValues=Vt,I.isActive&&(j={...j,...Vt}),r&&n.blockInitialAnimation&&(dt=!1);const Xe=st&&rt;dt&&(!Xe||Tt)&&T.push(...Wt.map(it=>{const nt={type:B};if(typeof it=="string"&&r&&!Xe&&n.manuallyAnimateOnMount&&n.parent){const{parent:kt}=n,ut=_o(kt,it);if(kt.enteringChildren&&ut){const{delayChildren:z}=ut.transition||{};nt.delay=Cx(kt.enteringChildren,n,z)}}return{animation:it,options:nt}}))}if(E.size){const D={};if(typeof v.initial!="boolean"){const B=_o(n,Array.isArray(v.initial)?v.initial[0]:v.initial);B&&B.transition&&(D.transition=B.transition)}E.forEach(B=>{const I=n.getBaseTarget(B),N=n.getValue(B);N&&(N.liveStyle=!0),D[B]=I??null}),T.push({animation:D})}let O=!!T.length;return r&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(O=!1),r=!1,O?e(T):Promise.resolve()}function g(y,v){if(s[y].isActive===v)return Promise.resolve();n.variantChildren?.forEach(T=>T.animationState?.setActive(y,v)),s[y].isActive=v;const x=d(y);for(const T in s)s[T].protectedKeys={};return x}return{animateChanges:d,setActive:g,setAnimateFunction:h,getState:()=>s,reset:()=>{s=H_()}}}function Fj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!jx(e,n):!1}function tr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H_(){return{animate:tr(!0),whileInView:tr(),whileHover:tr(),whileTap:tr(),whileDrag:tr(),whileFocus:tr(),exit:tr()}}class la{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yj extends la{constructor(e){super(e),e.animationState||(e.animationState=Kj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Wj=0;class Xj extends la{constructor(){super(...arguments),this.id=Wj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const c=this.node.animationState.setActive("exit",!e);s&&!e&&c.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Jj={animation:{Feature:Yj},exit:{Feature:Xj}};function au(n,e,s,r={passive:!0}){return n.addEventListener(e,s,r),()=>n.removeEventListener(e,s)}function du(n){return{point:{x:n.pageX,y:n.pageY}}}const Qj=n=>e=>gp(e)&&n(e,du(e));function $l(n,e,s,r){return au(n,e,Qj(s),r)}const Ox=1e-4,tR=1-Ox,eR=1+Ox,Lx=.01,nR=0-Lx,iR=0+Lx;function un(n){return n.max-n.min}function sR(n,e,s){return Math.abs(n-e)<=s}function q_(n,e,s,r=.5){n.origin=r,n.originPoint=me(e.min,e.max,n.origin),n.scale=un(s)/un(e),n.translate=me(s.min,s.max,n.origin)-n.originPoint,(n.scale>=tR&&n.scale<=eR||isNaN(n.scale))&&(n.scale=1),(n.translate>=nR&&n.translate<=iR||isNaN(n.translate))&&(n.translate=0)}function Kl(n,e,s,r){q_(n.x,e.x,s.x,r?r.originX:void 0),q_(n.y,e.y,s.y,r?r.originY:void 0)}function Z_(n,e,s){n.min=s.min+e.min,n.max=n.min+un(e)}function aR(n,e,s){Z_(n.x,e.x,s.x),Z_(n.y,e.y,s.y)}function G_(n,e,s){n.min=e.min-s.min,n.max=n.min+un(e)}function hh(n,e,s){G_(n.x,e.x,s.x),G_(n.y,e.y,s.y)}function Yn(n){return[n("x"),n("y")]}const kx=({current:n})=>n?n.ownerDocument.defaultView:null,$_=(n,e)=>Math.abs(n-e);function rR(n,e){const s=$_(n.x,e.x),r=$_(n.y,e.y);return Math.sqrt(s**2+r**2)}class Mx{constructor(e,s,{transformPagePoint:r,contextWindow:c=window,dragSnapToOrigin:h=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Kf(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,k=rR(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!k)return;const{point:O}=E,{timestamp:D}=We;this.history.push({...O,timestamp:D});const{onStart:B,onMove:I}=this.handlers;j||(B&&B(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,E)},this.handlePointerMove=(E,j)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=$f(j,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(E,j)=>{this.end();const{onEnd:k,onSessionEnd:O,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Kf(E.type==="pointercancel"?this.lastMoveEventInfo:$f(j,this.transformPagePoint),this.history);this.startEvent&&k&&k(E,B),O&&O(E,B)},!gp(e))return;this.dragSnapToOrigin=h,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=d,this.contextWindow=c||window;const g=du(e),y=$f(g,this.transformPagePoint),{point:v}=y,{timestamp:x}=We;this.history=[{...v,timestamp:x}];const{onSessionStart:T}=s;T&&T(e,Kf(y,this.history)),this.removeListeners=uu($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ra(this.updatePoint)}}function $f(n,e){return e?{point:e(n.point)}:n}function K_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Kf({point:n},e){return{point:n,delta:K_(n,Nx(e)),offset:K_(n,oR(e)),velocity:lR(e,.1)}}function oR(n){return n[0]}function Nx(n){return n[n.length-1]}function lR(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,r=null;const c=Nx(n);for(;s>=0&&(r=n[s],!(c.timestamp-r.timestamp>Ni(e)));)s--;if(!r)return{x:0,y:0};const h=Wn(c.timestamp-r.timestamp);if(h===0)return{x:0,y:0};const d={x:(c.x-r.x)/h,y:(c.y-r.y)/h};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function uR(n,{min:e,max:s},r){return e!==void 0&&n<e?n=r?me(e,n,r.min):Math.max(n,e):s!==void 0&&n>s&&(n=r?me(s,n,r.max):Math.min(n,s)),n}function F_(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function cR(n,{top:e,left:s,bottom:r,right:c}){return{x:F_(n.x,s,c),y:F_(n.y,e,r)}}function Y_(n,e){let s=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,r]=[r,s]),{min:s,max:r}}function hR(n,e){return{x:Y_(n.x,e.x),y:Y_(n.y,e.y)}}function dR(n,e){let s=.5;const r=un(n),c=un(e);return c>r?s=eu(e.min,e.max-r,n.min):r>c&&(s=eu(n.min,n.max-c,e.min)),ms(0,1,s)}function fR(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const Mm=.35;function mR(n=Mm){return n===!1?n=0:n===!0&&(n=Mm),{x:W_(n,"left","right"),y:W_(n,"top","bottom")}}function W_(n,e,s){return{min:X_(n,e),max:X_(n,s)}}function X_(n,e){return typeof n=="number"?n:n[e]||0}const pR=new WeakMap;class gR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const h=T=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(du(T).point)},d=(T,E)=>{const{drag:j,dragPropagation:k,onDragStart:O}=this.getProps();if(j&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C2(j),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(B=>{let I=this.getAxisMotionValue(B).get()||0;if(Di.test(I)){const{projection:N}=this.visualElement;if(N&&N.layout){const J=N.layout.layoutBox[B];J&&(I=un(J)*(parseFloat(I)/100))}}this.originPoint[B]=I}),O&&ce.postRender(()=>O(T,E)),Lm(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},g=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E;const{dragPropagation:j,dragDirectionLock:k,onDirectionLock:O,onDrag:D}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:B}=E;if(k&&this.currentDirection===null){this.currentDirection=yR(B),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",E.point,B),this.updateAxis("y",E.point,B),this.visualElement.render(),D&&D(T,E)},y=(T,E)=>{this.latestPointerEvent=T,this.latestPanInfo=E,this.stop(T,E),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Yn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Mx(e,{onSessionStart:h,onStart:d,onMove:g,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:r,contextWindow:kx(this.visualElement)})}stop(e,s){const r=e||this.latestPointerEvent,c=s||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!c||!r)return;const{velocity:d}=c;this.startAnimation(d);const{onDragEnd:g}=this.getProps();g&&ce.postRender(()=>g(r,c))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:c}=this.getProps();if(!r||!Yc(e,c,this.currentDirection))return;const h=this.getAxisMotionValue(e);let d=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(d=uR(d,this.constraints[e],this.elastic[e])),h.set(d)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;e&&mo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=cR(r.layoutBox,e):this.constraints=!1,this.elastic=mR(s),c!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Yn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=fR(r.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!mo(e))return!1;const r=e.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const h=vj(r,c.root,this.visualElement.getTransformPagePoint());let d=hR(c.layout.layoutBox,h);if(s){const g=s(pj(d));this.hasMutatedConstraints=!!g,g&&(d=yx(g))}return d}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:c,dragTransition:h,dragSnapToOrigin:d,onDragTransitionEnd:g}=this.getProps(),y=this.constraints||{},v=Yn(x=>{if(!Yc(x,s,this.currentDirection))return;let T=y&&y[x]||{};d&&(T={min:0,max:0});const E=c?200:1e6,j=c?40:1e7,k={type:"inertia",velocity:r?e[x]:0,bounceStiffness:E,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...h,...T};return this.startAxisValueAnimation(x,k)});return Promise.all(v).then(g)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Lm(this.visualElement,e),r.start(Ep(e,r,0,s,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),c=r[s];return c||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yn(s=>{const{drag:r}=this.getProps();if(!Yc(s,r,this.currentDirection))return;const{projection:c}=this.visualElement,h=this.getAxisMotionValue(s);if(c&&c.layout){const{min:d,max:g}=c.layout.layoutBox[s];h.set(e[s]-me(d,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!mo(s)||!r||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};Yn(d=>{const g=this.getAxisMotionValue(d);if(g&&this.constraints!==!1){const y=g.get();c[d]=dR({min:y,max:y},this.constraints[d])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yn(d=>{if(!Yc(d,e,null))return;const g=this.getAxisMotionValue(d),{min:y,max:v}=this.constraints[d];g.set(me(y,v,c[d]))})}addListeners(){if(!this.visualElement.current)return;pR.set(this.visualElement,this);const e=this.visualElement.current,s=$l(e,"pointerdown",y=>{const{drag:v,dragListener:x=!0}=this.getProps();v&&x&&this.start(y)}),r=()=>{const{dragConstraints:y}=this.getProps();mo(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,h=c.addEventListener("measure",r);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),ce.read(r);const d=au(window,"resize",()=>this.scalePositionWithinConstraints()),g=c.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:v})=>{this.isDragging&&v&&(Yn(x=>{const T=this.getAxisMotionValue(x);T&&(this.originPoint[x]+=y[x].translate,T.set(T.get()+y[x].translate))}),this.visualElement.render())}));return()=>{d(),s(),h(),g&&g()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:c=!1,dragConstraints:h=!1,dragElastic:d=Mm,dragMomentum:g=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:c,dragConstraints:h,dragElastic:d,dragMomentum:g}}}function Yc(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function yR(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class vR extends la{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new gR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const J_=n=>(e,s)=>{n&&ce.postRender(()=>n(e,s))};class _R extends la{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new Mx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:c}=this.node.getProps();return{onSessionStart:J_(e),onStart:J_(s),onMove:r,onEnd:(h,d)=>{delete this.session,c&&ce.postRender(()=>c(h,d))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ff=!1;class bR extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:c}=this.props,{projection:h}=e;h&&(s.group&&s.group.add(h),r&&r.register&&c&&r.register(h),Ff&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:c,isPresent:h}=this.props,{projection:d}=r;return d&&(d.isPresent=h,Ff=!0,c||e.layoutDependency!==s||s===void 0||e.isPresent!==h?d.willUpdate():this.safeToRemove(),e.isPresent!==h&&(h?d.promote():d.relegate()||ce.postRender(()=>{const g=d.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:c}=e;Ff=!0,c&&(c.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(c),r&&r.deregister&&r.deregister(c))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Dx(n){const[e,s]=P2(),r=R.useContext(db);return _.jsx(bR,{...n,layoutGroup:r,switchLayoutGroup:R.useContext(px),isPresent:e,safeToRemove:s})}function xR(n,e,s){const r=en(n)?n:bo(n);return r.start(Ep("",r,e,s)),r.animation}const wR=(n,e)=>n.depth-e.depth;class SR{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Jm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wR),this.isDirty=!1,this.children.forEach(e)}}function TR(n,e){const s=wn.now(),r=({timestamp:c})=>{const h=c-s;h>=e&&(ra(r),n(h-e))};return ce.setup(r,!0),()=>ra(r)}const Px=["TopLeft","TopRight","BottomLeft","BottomRight"],ER=Px.length,Q_=n=>typeof n=="string"?parseFloat(n):n,t0=n=>typeof n=="number"||St.test(n);function AR(n,e,s,r,c,h){c?(n.opacity=me(0,s.opacity??1,CR(r)),n.opacityExit=me(e.opacity??1,0,jR(r))):h&&(n.opacity=me(e.opacity??1,s.opacity??1,r));for(let d=0;d<ER;d++){const g=`border${Px[d]}Radius`;let y=e0(e,g),v=e0(s,g);if(y===void 0&&v===void 0)continue;y||(y=0),v||(v=0),y===0||v===0||t0(y)===t0(v)?(n[g]=Math.max(me(Q_(y),Q_(v),r),0),(Di.test(v)||Di.test(y))&&(n[g]+="%")):n[g]=v}(e.rotate||s.rotate)&&(n.rotate=me(e.rotate||0,s.rotate||0,r))}function e0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const CR=zx(0,.5,Sb),jR=zx(.5,.95,Xn);function zx(n,e,s){return r=>r<n?0:r>e?1:s(eu(n,e,r))}function n0(n,e){n.min=e.min,n.max=e.max}function hi(n,e){n0(n.x,e.x),n0(n.y,e.y)}function i0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function s0(n,e,s,r,c){return n-=e,n=ch(n,1/s,r),c!==void 0&&(n=ch(n,1/c,r)),n}function RR(n,e=0,s=1,r=.5,c,h=n,d=n){if(Di.test(e)&&(e=parseFloat(e),e=me(d.min,d.max,e/100)-d.min),typeof e!="number")return;let g=me(h.min,h.max,r);n===h&&(g-=e),n.min=s0(n.min,e,s,g,c),n.max=s0(n.max,e,s,g,c)}function a0(n,e,[s,r,c],h,d){RR(n,e[s],e[r],e[c],e.scale,h,d)}const OR=["x","scaleX","originX"],LR=["y","scaleY","originY"];function r0(n,e,s,r){a0(n.x,e,OR,s?s.x:void 0,r?r.x:void 0),a0(n.y,e,LR,s?s.y:void 0,r?r.y:void 0)}function o0(n){return n.translate===0&&n.scale===1}function Bx(n){return o0(n.x)&&o0(n.y)}function l0(n,e){return n.min===e.min&&n.max===e.max}function kR(n,e){return l0(n.x,e.x)&&l0(n.y,e.y)}function u0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ux(n,e){return u0(n.x,e.x)&&u0(n.y,e.y)}function c0(n){return un(n.x)/un(n.y)}function h0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class MR{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Jm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(c=>e===c);if(s===0)return!1;let r;for(let c=s;c>=0;c--){const h=this.members[c];if(h.isPresent!==!1){r=h;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:c}=e.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NR(n,e,s){let r="";const c=n.x.translate/e.x,h=n.y.translate/e.y,d=s?.z||0;if((c||h||d)&&(r=`translate3d(${c}px, ${h}px, ${d}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:v,rotate:x,rotateX:T,rotateY:E,skewX:j,skewY:k}=s;v&&(r=`perspective(${v}px) ${r}`),x&&(r+=`rotate(${x}deg) `),T&&(r+=`rotateX(${T}deg) `),E&&(r+=`rotateY(${E}deg) `),j&&(r+=`skewX(${j}deg) `),k&&(r+=`skewY(${k}deg) `)}const g=n.x.scale*e.x,y=n.y.scale*e.y;return(g!==1||y!==1)&&(r+=`scale(${g}, ${y})`),r||"none"}const Yf=["","X","Y","Z"],DR=1e3;let PR=0;function Wf(n,e,s,r){const{latestValues:c}=e;c[n]&&(s[n]=c[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Vx(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=Ex(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:c,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",ce,!(c||h))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Vx(r)}function Ix({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:c}){return class{constructor(d={},g=e?.()){this.id=PR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UR),this.nodes.forEach(qR),this.nodes.forEach(ZR),this.nodes.forEach(VR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new SR)}addEventListener(d,g){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new ep),this.eventHandlers.get(d).add(g)}notifyListeners(d,...g){const y=this.eventHandlers.get(d);y&&y.notify(...g)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=nx(d)&&!M2(d),this.instance=d;const{layoutId:g,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||g)&&(this.isLayoutDirty=!0),n){let x,T=0;const E=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{T=window.innerWidth}),n(d,()=>{const j=window.innerWidth;j!==T&&(T=j,this.root.updateBlockedByResize=!0,x&&x(),x=TR(E,250),eh.hasAnimatedSinceResize&&(eh.hasAnimatedSinceResize=!1,this.nodes.forEach(m0)))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&v&&(g||y)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:T,hasRelativeLayoutChanged:E,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||v.getDefaultTransition()||YR,{onLayoutAnimationStart:O,onLayoutAnimationComplete:D}=v.getProps(),B=!this.targetLayout||!Ux(this.targetLayout,j),I=!T&&E;if(this.options.layoutRoot||this.resumeFrom||I||T&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...fp(k,"layout"),onPlay:O,onComplete:D};(v.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(x,I)}else T||m0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GR),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const T=this.path[x];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:g,layout:y}=this.options;if(g===void 0&&!y)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(f0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HR),this.nodes.forEach(zR),this.nodes.forEach(BR)):this.nodes.forEach(f0),this.clearAllSnapshots();const g=wn.now();We.delta=ms(0,1e3/60,g-We.timestamp),We.timestamp=g,We.isProcessing=!0,Bf.update.process(We),Bf.preRender.process(We),Bf.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IR),this.sharedNodes.forEach($R)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(g=!1),g&&this.instance){const y=r(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:y,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!c)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!Bx(this.projectionDelta),y=this.getTransformTemplate(),v=y?y(this.latestValues,""):void 0,x=v!==this.prevTransformTemplateValue;d&&this.instance&&(g||nr(this.latestValues)||x)&&(c(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const g=this.measurePageBox();let y=this.removeElementScroll(g);return d&&(y=this.removeTransform(y)),WR(y),{animationId:this.root.animationId,measuredBox:g,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return ze();const g=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(XR))){const{scroll:v}=this.root;v&&(po(g.x,v.offset.x),po(g.y,v.offset.y))}return g}removeElementScroll(d){const g=ze();if(hi(g,d),this.scroll?.wasRoot)return g;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:x,options:T}=v;v!==this.root&&x&&T.layoutScroll&&(x.wasRoot&&hi(g,d),po(g.x,x.offset.x),po(g.y,x.offset.y))}return g}applyTransform(d,g=!1){const y=ze();hi(y,d);for(let v=0;v<this.path.length;v++){const x=this.path[v];!g&&x.options.layoutScroll&&x.scroll&&x!==x.root&&go(y,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),nr(x.latestValues)&&go(y,x.latestValues)}return nr(this.latestValues)&&go(y,this.latestValues),y}removeTransform(d){const g=ze();hi(g,d);for(let y=0;y<this.path.length;y++){const v=this.path[y];if(!v.instance||!nr(v.latestValues))continue;Cm(v.latestValues)&&v.updateSnapshot();const x=ze(),T=v.measurePageBox();hi(x,T),r0(g,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,x)}return nr(this.latestValues)&&r0(g,this.latestValues),g}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==g;if(!(d||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:T}=this.options;if(!this.layout||!(x||T))return;this.resolvedRelativeTargetAt=We.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),_x(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Cm(this.parent.latestValues)||vx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,g,y){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),hh(this.relativeTargetOrigin,g,y),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),g=!!this.resumingFrom||this!==d;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===We.timestamp&&(y=!1),y)return;const{layout:v,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||x))return;hi(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,E=this.treeScale.y;yj(this.layoutCorrected,this.treeScale,this.path,g),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ze());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i0(this.prevProjectionDelta.x,this.projectionDelta.x),i0(this.prevProjectionDelta.y,this.projectionDelta.y)),Kl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==E||!h0(this.projectionDelta.x,this.prevProjectionDelta.x)||!h0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(d,g=!1){const y=this.snapshot,v=y?y.latestValues:{},x={...this.latestValues},T=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const E=ze(),j=y?y.source:void 0,k=this.layout?this.layout.source:void 0,O=j!==k,D=this.getStack(),B=!D||D.members.length<=1,I=!!(O&&!B&&this.options.crossfade===!0&&!this.path.some(FR));this.animationProgress=0;let N;this.mixTargetDelta=J=>{const et=J/1e3;p0(T.x,d.x,et),p0(T.y,d.y,et),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hh(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KR(this.relativeTarget,this.relativeTargetOrigin,E,et),N&&kR(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ze()),hi(N,this.relativeTarget)),O&&(this.animationValues=x,AR(x,v,this.latestValues,et,I,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=et},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bo(0)),this.currentAnimation=xR(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),d.onUpdate&&d.onUpdate(g)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:g,target:y,layout:v,latestValues:x}=d;if(!(!g||!y||!v)){if(this!==d&&this.layout&&v&&Hx(this.options.animationType,this.layout.layoutBox,v.layoutBox)){y=this.target||ze();const T=un(this.layout.layoutBox.x);y.x.min=d.target.x.min,y.x.max=y.x.min+T;const E=un(this.layout.layoutBox.y);y.y.min=d.target.y.min,y.y.max=y.y.min+E}hi(g,y),go(g,x),Kl(this.projectionDeltaWithTransform,this.layoutCorrected,g,x)}}registerSharedNode(d,g){this.sharedNodes.has(d)||this.sharedNodes.set(d,new MR),this.sharedNodes.get(d).add(g);const v=g.options.initialPromotionConfig;g.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(g):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:g,preserveFollowOpacity:y}={}){const v=this.getStack();v&&v.promote(this,y),d&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let g=!1;const{latestValues:y}=d;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(g=!0),!g)return;const v={};y.z&&Wf("z",d,v,this.animationValues);for(let x=0;x<Yf.length;x++)Wf(`rotate${Yf[x]}`,d,v,this.animationValues),Wf(`skew${Yf[x]}`,d,v,this.animationValues);d.render();for(const x in v)d.setStaticValue(x,v[x]),this.animationValues&&(this.animationValues[x]=v[x]);d.scheduleRender()}applyProjectionStyles(d,g){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=th(g?.pointerEvents)||"",d.transform=y?y(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=th(g?.pointerEvents)||""),this.hasProjected&&!nr(this.latestValues)&&(d.transform=y?y({},""):"none",this.hasProjected=!1);return}d.visibility="";const x=v.animationValues||v.latestValues;this.applyTransformsToTarget();let T=NR(this.projectionDeltaWithTransform,this.treeScale,x);y&&(T=y(x,T)),d.transform=T;const{x:E,y:j}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${j.origin*100}% 0`,v.animationValues?d.opacity=v===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const k in Am){if(x[k]===void 0)continue;const{correct:O,applyTo:D,isCSSVariable:B}=Am[k],I=T==="none"?x[k]:O(x[k],v);if(D){const N=D.length;for(let J=0;J<N;J++)d[D[J]]=I}else B?this.options.visualElement.renderState.vars[k]=I:d[k]=I}this.options.layoutId&&(d.pointerEvents=v===this?th(g?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(d0),this.root.sharedNodes.clear()}}}function zR(n){n.updateLayout()}function BR(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=n.layout,{animationType:c}=n.options,h=e.source!==n.layout.source;c==="size"?Yn(x=>{const T=h?e.measuredBox[x]:e.layoutBox[x],E=un(T);T.min=s[x].min,T.max=T.min+E}):Hx(c,e.layoutBox,s)&&Yn(x=>{const T=h?e.measuredBox[x]:e.layoutBox[x],E=un(s[x]);T.max=T.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+E)});const d=yo();Kl(d,s,e.layoutBox);const g=yo();h?Kl(g,n.applyTransform(r,!0),e.measuredBox):Kl(g,s,e.layoutBox);const y=!Bx(d);let v=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:T,layout:E}=x;if(T&&E){const j=ze();hh(j,e.layoutBox,T.layoutBox);const k=ze();hh(k,s,E.layoutBox),Ux(j,k)||(v=!0),x.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=j,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:g,layoutDelta:d,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function UR(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function VR(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function IR(n){n.clearSnapshot()}function d0(n){n.clearMeasurements()}function f0(n){n.isLayoutDirty=!1}function HR(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function m0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function qR(n){n.resolveTargetDelta()}function ZR(n){n.calcProjection()}function GR(n){n.resetSkewAndRotation()}function $R(n){n.removeLeadSnapshot()}function p0(n,e,s){n.translate=me(e.translate,0,s),n.scale=me(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function g0(n,e,s,r){n.min=me(e.min,s.min,r),n.max=me(e.max,s.max,r)}function KR(n,e,s,r){g0(n.x,e.x,s.x,r),g0(n.y,e.y,s.y,r)}function FR(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const YR={duration:.45,ease:[.4,0,.1,1]},y0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),v0=y0("applewebkit/")&&!y0("chrome/")?Math.round:Xn;function _0(n){n.min=v0(n.min),n.max=v0(n.max)}function WR(n){_0(n.x),_0(n.y)}function Hx(n,e,s){return n==="position"||n==="preserve-aspect"&&!sR(c0(e),c0(s),.2)}function XR(n){return n!==n.root&&n.scroll?.wasRoot}const JR=Ix({attachResizeListener:(n,e)=>au(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xf={current:void 0},qx=Ix({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Xf.current){const n=new JR({});n.mount(window),n.setOptions({layoutScroll:!0}),Xf.current=n}return Xf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),QR={pan:{Feature:_R},drag:{Feature:vR,ProjectionNode:qx,MeasureLayout:Dx}};function b0(n,e,s){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",s==="Start");const c="onHover"+s,h=r[c];h&&ce.postRender(()=>h(e,du(e)))}class tO extends la{mount(){const{current:e}=this.node;e&&(this.unmount=j2(e,(s,r)=>(b0(this.node,r,"Start"),c=>b0(this.node,c,"End"))))}unmount(){}}class eO extends la{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x0(n,e,s){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",s==="Start");const c="onTap"+(s==="End"?"":s),h=r[c];h&&ce.postRender(()=>h(e,du(e)))}class nO extends la{mount(){const{current:e}=this.node;e&&(this.unmount=k2(e,(s,r)=>(x0(this.node,r,"Start"),(c,{success:h})=>x0(this.node,c,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nm=new WeakMap,Jf=new WeakMap,iO=n=>{const e=Nm.get(n.target);e&&e(n)},sO=n=>{n.forEach(iO)};function aO({root:n,...e}){const s=n||document;Jf.has(s)||Jf.set(s,{});const r=Jf.get(s),c=JSON.stringify(e);return r[c]||(r[c]=new IntersectionObserver(sO,{root:n,...e})),r[c]}function rO(n,e,s){const r=aO(e);return Nm.set(n,s),r.observe(n),()=>{Nm.delete(n),r.unobserve(n)}}const oO={some:0,all:1};class lO extends la{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:c="some",once:h}=e,d={root:s?s.current:void 0,rootMargin:r,threshold:typeof c=="number"?c:oO[c]},g=y=>{const{isIntersecting:v}=y;if(this.isInView===v||(this.isInView=v,h&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:x,onViewportLeave:T}=this.node.getProps(),E=v?x:T;E&&E(y)};return rO(this.node.current,d,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(uO(e,s))&&this.startObserver()}unmount(){}}function uO({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const cO={inView:{Feature:lO},tap:{Feature:nO},focus:{Feature:eO},hover:{Feature:tO}},hO={layout:{ProjectionNode:qx,MeasureLayout:Dx}},dO={...Jj,...cO,...QR,...hO},cs=mj(dO,Cj);function Pi(){const n=Te(),e=gs(),s=[{label:"Restaurantes",icon:"",path:"/restaurantes"},{label:"Carrito",icon:"",path:"/carrito"},{label:"Inicio",icon:"",path:"/home"},{label:"Pedidos",icon:"",path:"/pedidos"},{label:"Mi Cuenta",icon:"",path:"/mi-cuenta"}],[r,c]=R.useState(()=>{const v=s.findIndex(x=>x.path===e.pathname);return v>=0?v:2});R.useEffect(()=>{const v=s.findIndex(x=>x.path===e.pathname);v>=0&&c(v)},[e.pathname]);const h=s.length,d=s[(r+h-1)%h],g=s[r],y=s[(r+1)%h];return _.jsxs("nav",{style:di.navContainer,children:[_.jsxs("svg",{width:"100%",height:"85",viewBox:"0 0 375 85",preserveAspectRatio:"none",style:di.svgBackground,children:[_.jsxs("defs",{children:[_.jsxs("linearGradient",{id:"navGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[_.jsx("stop",{offset:"0%",stopColor:"#4f46e5"})," ",_.jsx("stop",{offset:"100%",stopColor:"#7c3aed"})," "]}),_.jsxs("filter",{id:"glow",children:[_.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3",result:"blur"}),_.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"atop"})]})]}),_.jsx("path",{d:"M 0 35 Q 93.75 0 187.5 0 Q 281.25 0 375 35 L 375 85 L 0 85 Z",fill:"url(#navGradient)",style:{filter:"url(#glow)"}})]}),_.jsxs("div",{style:di.buttonWrapper,children:[_.jsxs(cs.button,{whileTap:{scale:.95},whileHover:{scale:1.02},onClick:()=>{const v=s.findIndex(x=>x.path===d.path);v>=0&&c(v),e.pathname!==d.path&&n(d.path)},style:di.sideButton,children:[_.jsx(cs.div,{initial:{color:"#a7a7a7"},animate:{color:e.pathname===d.path?"#fff":"#a7a7a7"},transition:{duration:.15},style:{fontSize:"24px"},children:_.jsx("span",{children:d.icon})}),_.jsx(cs.span,{style:di.label,children:d.label}),e.pathname===d.path&&_.jsx("div",{style:di.activeDot})]},d.path),_.jsxs(cs.button,{whileTap:{scale:.95},whileHover:{scale:1.02},onClick:()=>{const v=s.findIndex(x=>x.path===g.path);v>=0&&c(v),e.pathname!==g.path&&n(g.path)},style:di.centerButton,children:[_.jsx(cs.div,{initial:{background:"linear-gradient(135deg, #4f46e5, #7c3aed)"},animate:{background:e.pathname===g.path?"linear-gradient(135deg, #a78bfa, #c4b5fd)":"linear-gradient(135deg, #4f46e5, #7c3aed)"},transition:{duration:.2},style:di.centerButtonGlow}),_.jsx(cs.span,{initial:{scale:.95},animate:{scale:e.pathname===g.path?1.15:1},transition:{type:"spring",stiffness:300,damping:20},style:{fontSize:"28px",color:e.pathname===g.path?"#4f46e5":"#fff"},children:_.jsx("span",{children:g.icon})})]},g.path),_.jsxs(cs.button,{whileTap:{scale:.95},whileHover:{scale:1.02},onClick:()=>{const v=s.findIndex(x=>x.path===y.path);v>=0&&c(v),e.pathname!==y.path&&n(y.path)},style:di.sideButton,children:[_.jsx(cs.div,{initial:{color:"#a7a7a7"},animate:{color:e.pathname===y.path?"#fff":"#a7a7a7"},transition:{duration:.15},style:{fontSize:"24px"},children:_.jsx("span",{children:y.icon})}),_.jsx(cs.span,{style:di.label,children:y.label}),e.pathname===y.path&&_.jsx("div",{style:di.activeDot})]},y.path)]})]})}const di={navContainer:{position:"fixed",bottom:0,left:0,right:0,zIndex:100},svgBackground:{display:"block",position:"absolute",bottom:0,left:0,width:"100%"},buttonWrapper:{position:"relative",display:"flex",justifyContent:"space-around",alignItems:"flex-end",padding:"0 10px 10px 10px",height:"85px"},sideButton:{background:"transparent",border:"none",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",width:"80px",paddingBottom:"8px",position:"relative"},centerButton:{background:"#fff",border:"none",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"none",marginBottom:"35px",position:"relative",zIndex:1},centerButtonGlow:{position:"absolute",inset:"-4px",borderRadius:"50%",zIndex:-1},label:{color:"#fff",fontSize:"11px",fontWeight:600,marginTop:"6px",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},activeDot:{width:"6px",height:"6px",backgroundColor:"#fff",borderRadius:"50%",marginTop:"4px",position:"absolute",bottom:"0px"}};function fO({restaurantes:n}){const e=Te(),s=R.useRef(null),r=R.useRef(null),c=R.useRef(!1);return mO(s,c,r),n.length===0?_.jsx("section",{style:{marginBottom:"24px"},children:_.jsx("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",height:"160px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 30px rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px"},children:_.jsx("p",{style:{color:"#fff",fontSize:"15px",fontWeight:500},children:"No hay restaurantes disponibles"})})}):_.jsx("section",{style:{marginBottom:"24px"},children:_.jsxs("div",{style:{position:"relative",maxWidth:"1200px",margin:"0 auto",padding:"8px 16px"},children:[_.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;} .hide-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }"}),_.jsx("div",{ref:s,className:"hide-scrollbar",onMouseEnter:()=>c.current=!0,onMouseLeave:()=>c.current=!1,style:{display:"flex",gap:"12px",overflowX:"auto",paddingBottom:"8px",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none"},children:n.map(h=>_.jsxs("div",{style:{minWidth:"160px",flex:"0 0 auto",borderRadius:"10px",overflow:"hidden",background:"transparent",boxShadow:"none",border:"1px solid rgba(15,23,42,0.06)",cursor:"pointer",display:"flex",flexDirection:"column",backdropFilter:"none"},onClick:()=>e(`/restaurante/${h.id}`),children:[_.jsx("div",{style:{height:"90px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${h.imagen_url})`}}),_.jsxs("div",{style:{padding:"10px 12px",display:"flex",flexDirection:"column",gap:"6px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[_.jsx("h4",{style:{margin:0,fontSize:"13px",fontWeight:800,color:"#0f172a"},children:h.nombre}),_.jsx("span",{style:{fontSize:"16px"},children:h.emoji})]}),_.jsx("p",{style:{margin:0,fontSize:"11px",color:"#475569"},children:h.descripcion})]})]},h.id))})]})})}function mO(n,e,s){R.useEffect(()=>{const r=n.current;if(!r)return;function c(){if(!r||e.current)return;const h=r.scrollWidth-r.clientWidth;if(h<=0)return;const d=r.scrollLeft,g=Math.round(r.clientWidth*.5);if(d>=h-2)r.scrollTo({left:0,behavior:"smooth"});else{const y=Math.min(g,h-d);r.scrollBy({left:y,behavior:"smooth"})}}return s.current=window.setInterval(c,3e3),()=>{s.current&&(clearInterval(s.current),s.current=null)}},[n,e,s])}function pO({platillos:n}){const e=Te(),s=R.useRef(null);if(R.useEffect(()=>{const c=s.current;if(!c||n.length===0)return;let h,d=0;const g=.5,y=()=>{if(!c)return;d+=g;const T=c.scrollWidth/2;d>=T&&(d=0),c.scrollLeft=d,h=requestAnimationFrame(y)};h=requestAnimationFrame(y);const v=()=>cancelAnimationFrame(h),x=()=>{h=requestAnimationFrame(y)};return c.addEventListener("mouseenter",v),c.addEventListener("mouseleave",x),()=>{cancelAnimationFrame(h),c.removeEventListener("mouseenter",v),c.removeEventListener("mouseleave",x)}},[n]),n.length===0)return null;const r=[...n,...n];return _.jsx("div",{style:{marginBottom:20,overflow:"hidden"},children:_.jsxs("div",{ref:s,style:{display:"flex",gap:10,overflowX:"hidden",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:[_.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none;}"}),r.map((c,h)=>_.jsxs("div",{onClick:()=>{e(`/platillo/${c.id}`)},style:{minWidth:130,flex:"0 0 130px",borderRadius:10,overflow:"hidden",background:"#fff",border:"1px solid rgba(15,23,42,0.08)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:d=>{d.currentTarget.style.transform="scale(1.05)"},onMouseLeave:d=>{d.currentTarget.style.transform="scale(1)"},children:[_.jsx("div",{style:{height:90,backgroundImage:`url(${c.imagen_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=200"})`,backgroundSize:"cover",backgroundPosition:"center"}}),_.jsxs("div",{style:{padding:"8px 10px"},children:[_.jsx("h4",{style:{margin:0,fontSize:12,fontWeight:700,color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.nombre}),c.precio&&_.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:13,fontWeight:700,color:"#059669"},children:["$",c.precio.toFixed(2)]}),c.restaurante&&_.jsx("p",{style:{margin:"2px 0 0 0",fontSize:10,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c.restaurante.nombre})]})]},`${c.id}-${h}`))]})})}function gO(){const n=Te(),[e,s]=R.useState([]),[r,c]=R.useState([]),[h,d]=R.useState([]),[,g]=R.useState(!0),[y,v]=R.useState(""),[x,T]=R.useState([]),[E,j]=R.useState(!1);return R.useEffect(()=>{async function k(){try{const{data:O,error:D}=await Et.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1}).limit(4);D?(console.error("Error cargando restaurantes:",D),s([])):s(O||[]);const{data:B,error:I}=await Et.from("categorias").select("*").order("orden",{ascending:!0});I?(console.error("Error cargando categoras:",I),d([{id:"1",nombre:"Comidas",emoji:"",color_gradiente_inicio:"#f093fb",color_gradiente_fin:"#f5576c"},{id:"2",nombre:"Bebidas",emoji:"",color_gradiente_inicio:"#667eea",color_gradiente_fin:"#764ba2"},{id:"3",nombre:"Postres",emoji:"",color_gradiente_inicio:"#fa709a",color_gradiente_fin:"#fee140"},{id:"4",nombre:"Mandaditos",emoji:"",color_gradiente_inicio:"#4facfe",color_gradiente_fin:"#00f2fe"}])):d(B||[]);const{data:N,error:J}=await Et.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").order("nombre",{ascending:!0}).limit(100);if(J)console.error("Error cargando platillos:",J),c([]);else{const et=(N||[]).map(st=>({id:st.id,nombre:st.nombre,descripcion:st.descripcion,imagen_url:st.imagen_url,precio:st.precio,disponible:st.disponible,restaurante_id:st.restaurante_id,restaurante:st.restaurantes?Array.isArray(st.restaurantes)?st.restaurantes[0]:st.restaurantes:null}));c(et)}}catch(O){console.error("Error general:",O),s([]),d([]),c([])}finally{g(!1)}}k()},[]),R.useEffect(()=>{const k=y.trim().toLowerCase();if(!k){T([]);return}const O=e.filter(B=>`${B.nombre} ${B.descripcion}`.toLowerCase().includes(k)).slice(0,4).map(B=>({type:"restaurante",id:B.id,nombre:B.nombre,descripcion:B.descripcion,emoji:B.emoji})),D=r.filter(B=>`${B.nombre} ${B.descripcion}`.toLowerCase().includes(k)).slice(0,6-O.length).map(B=>({type:"platillo",id:B.id,nombre:B.nombre,descripcion:B.descripcion,restaurante:B.restaurante}));T([...O,...D])},[y,e,r]),_.jsxs("div",{style:{background:"#ffffff",minHeight:"100vh",paddingBottom:"80px",position:"relative"},children:[_.jsx(Sn,{}),_.jsxs("main",{style:{maxWidth:"500px",margin:"0 auto",padding:"16px"},children:[_.jsx(fO,{restaurantes:e}),_.jsxs("div",{style:{marginTop:12,marginBottom:18,position:"relative"},children:[_.jsx("input",{value:y,onChange:k=>v(k.target.value),onFocus:()=>j(!0),onBlur:()=>setTimeout(()=>j(!1),150),placeholder:"Buscar restaurantes o platillos...",style:{width:"100%",padding:"12px 14px",borderRadius:12,border:"1px solid #e6e7eb",outline:"none",fontSize:14}}),E&&y.trim().length>0&&x.length>0&&_.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",left:0,right:0,background:"rgba(255,255,255,0.98)",border:"1px solid #e6e7eb",borderRadius:12,boxShadow:"0 8px 24px rgba(2,6,23,0.06)",zIndex:40,maxHeight:260,overflow:"auto"},children:x.map((k,O)=>_.jsxs("div",{onMouseDown:()=>{k.type==="restaurante"?n(`/restaurante/${k.id}`):k.type==="platillo"&&n(`/platillo/${k.id}`)},style:{padding:"10px 12px",display:"flex",flexDirection:"column",gap:4,cursor:"pointer",borderBottom:O<x.length-1?"1px solid #f3f4f6":"none"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("div",{style:{fontWeight:700,color:"#0f172a"},children:k.nombre}),_.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:k.type==="restaurante"?"Restaurante":"Platillo"})]}),k.descripcion&&_.jsx("div",{style:{fontSize:13,color:"#6b7280"},children:k.descripcion})]},O))})]}),_.jsx(pO,{platillos:r.sort(()=>Math.random()-.5)}),_.jsxs("section",{children:[_.jsxs("h2",{style:{fontSize:"24px",fontWeight:800,color:"#111827",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("span",{style:{fontSize:"28px"},children:""}),"Qu se te antoja hoy?"]}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"14px"},children:h.length>0?h.map(k=>_.jsxs("div",{onClick:()=>n(`/categoria/${k.id}`),style:{background:`linear-gradient(135deg, ${k.color_gradiente_inicio} 0%, ${k.color_gradiente_fin} 100%)`,borderRadius:"16px",padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 6px 18px rgba(102,126,234,0.3)",minHeight:"140px",clipPath:"ellipse(65% 60% at 30% 35%)",WebkitClipPath:"ellipse(65% 60% at 30% 35%)"},onMouseEnter:O=>{O.currentTarget.style.transform="translateY(-4px)",O.currentTarget.style.boxShadow="0 8px 24px rgba(102,126,234,0.4)"},onMouseLeave:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 6px 18px rgba(102,126,234,0.3)"},children:[_.jsx("div",{style:{position:"absolute",top:"-15px",right:"-15px",fontSize:"90px",opacity:.15},children:k.emoji}),_.jsxs("div",{style:{position:"relative",zIndex:2},children:[_.jsx("div",{style:{fontSize:"40px",marginBottom:"8px"},children:k.emoji}),_.jsx("h3",{style:{color:"#fff",fontSize:"17px",fontWeight:700,margin:"0 0 6px 0"},children:k.nombre})]})]},k.id)):_.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",minHeight:"140px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",clipPath:"ellipse(65% 60% at 30% 35%)",WebkitClipPath:"ellipse(65% 60% at 30% 35%)"},children:"Cargando..."})})]})]}),_.jsx(Pi,{}),_.jsx("style",{children:"@keyframes fadeIn {from { opacity: 0; } to { opacity: 1; }} @keyframes slideDown {from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); }}"})]})}function yO(){const{categoriaId:n}=Eo(),e=Te(),[s,r]=R.useState([]),[c,h]=R.useState(!0),[d,g]=R.useState(null);return R.useEffect(()=>{if(!n)return;async function y(){h(!0);try{const{data:v}=await Et.from("categorias").select("nombre").eq("id",n).single();v&&g(v.nombre||null);const{data:x,error:T}=await Et.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id, restaurantes(id,nombre)").eq("categoria_id",n).order("nombre",{ascending:!0});if(T)console.error("Error cargando platillos:",T),r([]);else{const E=(x||[]).map(j=>({id:j.id,nombre:j.nombre,descripcion:j.descripcion,imagen_url:j.imagen_url,precio:j.precio,disponible:j.disponible,restaurante_id:j.restaurante_id,restaurante:j.restaurantes?{id:j.restaurantes.id,nombre:j.restaurantes.nombre}:null}));r(E)}}catch(v){console.error(v),r([])}finally{h(!1)}}y()},[n]),_.jsxs("div",{style:{padding:16,maxWidth:500,margin:"0 auto"},children:[_.jsx("button",{onClick:()=>e(-1),style:{marginBottom:12},children:" Volver"}),_.jsx("h2",{style:{fontSize:20,marginBottom:8},children:d??"Platillos"}),c?_.jsx("p",{children:"Cargando platillos..."}):s.length===0?_.jsx("p",{children:"No hay platillos disponibles para esta categora."}):_.jsx("div",{style:{display:"grid",gap:12},children:s.map(y=>_.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${y.id}`),onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&e(`/platillo/${y.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[_.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:_.jsx("img",{src:y.imagen_url||"/placeholder.png",alt:y.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[_.jsx("h3",{style:{fontSize:16,margin:0},children:y.nombre}),_.jsxs("div",{style:{fontWeight:700},children:["$",y.precio.toFixed(2)]})]}),_.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:y.descripcion}),y.restaurante&&_.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["En: ",y.restaurante.nombre]})]})]},y.id))})]})}function vO(){const{id:n}=Eo(),e=Te(),[s,r]=R.useState(null),[c,h]=R.useState([]),[d,g]=R.useState([]),[y,v]=R.useState(!0);return R.useEffect(()=>{if(!n)return;async function x(){v(!0);try{const{data:T}=await Et.from("categorias").select("nombre").eq("id",n).single();T&&r(T.nombre||null);const{data:E,error:j}=await Et.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",n).order("nombre",{ascending:!0});j?(console.error("Error platillos:",j),h([])):h((E||[]).map(D=>({id:D.id,nombre:D.nombre,descripcion:D.descripcion,imagen_url:D.imagen_url,precio:D.precio,disponible:D.disponible,restaurante_id:D.restaurante_id,restaurantes:D.restaurantes?{id:D.restaurantes.id,nombre:D.restaurantes.nombre}:null})));const{data:k,error:O}=await Et.from("bebidas").select("id,nombre,descripcion,imagen_url,precio,tamano,temperatura,disponible,restaurante_id,restaurantes(id,nombre)").eq("categoria_id",n).order("nombre",{ascending:!0});O?(console.error("Error bebidas:",O),g([])):g((k||[]).map(D=>({id:D.id,nombre:D.nombre,descripcion:D.descripcion,imagen_url:D.imagen_url,precio:D.precio,tamano:D.tamano,temperatura:D.temperatura,disponible:D.disponible,restaurante_id:D.restaurante_id,restaurantes:D.restaurantes?{id:D.restaurantes.id,nombre:D.restaurantes.nombre}:null})))}catch(T){console.error(T),h([]),g([])}finally{v(!1)}}x()},[n]),_.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[_.jsxs("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:[_.jsx("button",{onClick:()=>e(-1),style:{border:"none",background:"transparent",fontSize:20,cursor:"pointer",padding:0,marginBottom:8},children:" Volver"}),_.jsx("h2",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0},children:s??"Categora"})]}),_.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:y?_.jsxs("div",{style:{textAlign:"center",padding:40},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):_.jsxs(_.Fragment,{children:[_.jsxs("section",{style:{marginBottom:16},children:[_.jsx("h3",{style:{margin:"8px 0"},children:"Platillos"}),c.length===0?_.jsx("p",{children:"No hay platillos en esta categora."}):_.jsx("div",{style:{display:"grid",gap:12},children:c.map(x=>_.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${x.id}`),onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&e(`/platillo/${x.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[_.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:_.jsx("img",{src:x.imagen_url||"/placeholder.png",alt:x.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[_.jsx("h4",{style:{fontSize:15,margin:0},children:x.nombre}),_.jsxs("div",{style:{fontWeight:700},children:["$",x.precio.toFixed(2)]})]}),_.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:x.descripcion}),x.restaurantes&&_.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["En: ",x.restaurantes.nombre]})]})]},x.id))})]}),_.jsxs("section",{children:[_.jsx("h3",{style:{margin:"8px 0"},children:"Bebidas"}),d.length===0?_.jsx("p",{children:"No hay bebidas en esta categora."}):_.jsx("div",{style:{display:"grid",gap:12},children:d.map(x=>_.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${x.id}`),onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&e(`/platillo/${x.id}`)},style:{display:"flex",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(0,0,0,0.06)",cursor:"pointer"},children:[_.jsx("div",{style:{width:84,height:84,borderRadius:8,overflow:"hidden",flex:"0 0 84px"},children:_.jsx("img",{src:x.imagen_url||"/placeholder.png",alt:x.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[_.jsx("h4",{style:{fontSize:15,margin:0},children:x.nombre}),_.jsxs("div",{style:{fontWeight:700},children:["$",x.precio.toFixed(2)]})]}),_.jsx("p",{style:{margin:"6px 0 0 0",color:"#6b7280",fontSize:13},children:x.descripcion}),x.tamano&&_.jsxs("p",{style:{margin:"6px 0 0 0",fontSize:12,color:"#374151"},children:["Tamao: ",x.tamano,"  ",x.temperatura]})]})]},x.id))})]})]})}),_.jsx(Pi,{})]})}function _O(){const n=Te(),[e,s]=R.useState([]),[r,c]=R.useState(!0);R.useEffect(()=>{h()},[]);async function h(){try{const{data:d,error:g}=await Et.from("categorias").select("*").order("orden",{ascending:!0});g?(console.error("Error cargando categoras:",g),s([])):s(d||[])}catch(d){console.error(d),s([])}finally{c(!1)}}return _.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[_.jsx("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:_.jsxs("h1",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:0,display:"flex",alignItems:"center",gap:8},children:[_.jsx("span",{style:{fontSize:28},children:""}),"Categoras"]})}),_.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:r?_.jsxs("div",{style:{textAlign:"center",padding:40},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):e.length===0?_.jsxs("div",{style:{textAlign:"center",padding:40},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No hay categoras disponibles"})]}):_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:14},children:e.map(d=>_.jsxs("div",{onClick:()=>n(`/categoria/${d.id}`),style:{background:`linear-gradient(135deg, ${d.color_gradiente_inicio} 0%, ${d.color_gradiente_fin} 100%)`,borderRadius:16,padding:"20px 16px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 6px 18px rgba(102,126,234,0.3)",minHeight:140},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px)",g.currentTarget.style.boxShadow="0 8px 24px rgba(102,126,234,0.4)"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0)",g.currentTarget.style.boxShadow="0 6px 18px rgba(102,126,234,0.3)"},children:[_.jsx("div",{style:{position:"absolute",top:10,right:10,fontSize:48,opacity:.25},children:d.emoji}),_.jsxs("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end",height:"100%"},children:[_.jsx("span",{style:{fontSize:36,marginBottom:8,display:"block"},children:d.emoji}),_.jsx("h3",{style:{color:"#fff",fontSize:18,fontWeight:800,margin:0,textShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:d.nombre})]})]},d.id))})}),_.jsx(Pi,{})]})}function bO(){const n=Te(),[e,s]=R.useState([]),[r,c]=R.useState(!0),[h,d]=R.useState("");R.useEffect(()=>{g()},[]);async function g(){try{const{data:v,error:x}=await Et.from("restaurantes").select("*").eq("activo",!0).order("calificacion",{ascending:!1});x?(console.error("Error cargando restaurantes:",x),s([])):s(v||[])}catch(v){console.error(v),s([])}finally{c(!1)}}const y=e.filter(v=>`${v.nombre} ${v.descripcion}`.toLowerCase().includes(h.toLowerCase()));return _.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[_.jsxs("header",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:30},children:[_.jsxs("h1",{style:{fontSize:24,fontWeight:800,color:"#111827",margin:"0 0 12px 0",display:"flex",alignItems:"center",gap:8},children:[_.jsx("span",{style:{fontSize:28},children:""}),"Restaurantes"]}),_.jsx("input",{value:h,onChange:v=>d(v.target.value),placeholder:"Buscar restaurante...",style:{width:"100%",padding:"10px 12px",borderRadius:10,border:"1px solid #e5e7eb",outline:"none",fontSize:14}})]}),_.jsx("main",{style:{maxWidth:500,margin:"0 auto",padding:16},children:r?_.jsxs("div",{style:{textAlign:"center",padding:40},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]}):y.length===0?_.jsxs("div",{style:{textAlign:"center",padding:40},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No se encontraron restaurantes"})]}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:y.map(v=>_.jsxs("div",{onClick:()=>n(`/restaurante/${v.id}`),style:{background:"#fff",borderRadius:12,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:x=>x.currentTarget.style.transform="translateY(-2px)",onMouseLeave:x=>x.currentTarget.style.transform="translateY(0)",children:[_.jsx("div",{style:{height:140,backgroundImage:`url(${v.imagen_url})`,backgroundSize:"cover",backgroundPosition:"center"}}),_.jsxs("div",{style:{padding:12},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[_.jsx("h3",{style:{margin:0,fontSize:17,fontWeight:800,color:"#0f172a"},children:v.nombre}),_.jsx("span",{style:{fontSize:22},children:v.emoji})]}),_.jsx("p",{style:{margin:"0 0 8px 0",fontSize:13,color:"#6b7280"},children:v.descripcion}),_.jsxs("div",{style:{display:"flex",gap:12,fontSize:13,color:"#374151"},children:[_.jsxs("span",{style:{fontWeight:700},children:[" ",v.calificacion.toFixed(1)]}),_.jsxs("span",{children:[v.tiempo_entrega_min," min"]}),_.jsxs("span",{children:["$",v.costo_envio," envo"]})]})]})]},v.id))})}),_.jsx(Pi,{})]})}function xO(){const{id:n}=Eo(),e=Te(),[s,r]=R.useState(null),[c,h]=R.useState([]),[d,g]=R.useState(!0);R.useEffect(()=>{n&&y()},[n]);async function y(){try{const{data:v,error:x}=await Et.from("restaurantes").select("*").eq("id",n).single();x?(console.error("Error cargando restaurante:",x),r(null)):r(v);const{data:T,error:E}=await Et.from("platillos").select("*").eq("restaurante_id",n).eq("disponible",!0).order("nombre",{ascending:!0});E?(console.error("Error cargando platillos:",E),h([])):h(T||[])}catch(v){console.error(v)}finally{g(!1)}}return d?_.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:_.jsxs("div",{style:{textAlign:"center"},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando..."})]})}):s?_.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[_.jsxs("div",{style:{position:"relative"},children:[_.jsx("div",{style:{height:220,backgroundImage:`url(${s.imagen_url})`,backgroundSize:"cover",backgroundPosition:"center"}}),_.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",top:16,left:16,width:36,height:36,borderRadius:"50%",border:"none",background:"rgba(255,255,255,0.95)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:""})]}),_.jsxs("div",{style:{background:"#fff",padding:"20px 16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[_.jsx("span",{style:{fontSize:32},children:s.emoji}),_.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:800,color:"#0f172a"},children:s.nombre})]}),_.jsx("p",{style:{margin:"0 0 12px 0",fontSize:14,color:"#6b7280"},children:s.descripcion}),_.jsxs("div",{style:{display:"flex",gap:16,fontSize:14,color:"#374151"},children:[_.jsxs("span",{style:{fontWeight:700},children:[" ",s.calificacion.toFixed(1)]}),_.jsxs("span",{children:[s.tiempo_entrega_min," min"]}),_.jsxs("span",{children:["$",s.costo_envio," envo"]})]})]}),_.jsxs("div",{style:{maxWidth:500,margin:"0 auto",padding:16},children:[_.jsx("h2",{style:{fontSize:20,fontWeight:800,color:"#111827",margin:"0 0 16px 0"},children:"Men"}),c.length===0?_.jsxs("div",{style:{textAlign:"center",padding:40},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"No hay platillos disponibles"})]}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:c.map(v=>_.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(`/platillo/${v.id}`),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&e(`/platillo/${v.id}`)},style:{background:"#fff",borderRadius:12,padding:12,display:"flex",gap:12,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",cursor:"pointer"},children:[v.imagen_url&&_.jsx("div",{style:{width:80,height:80,borderRadius:8,backgroundImage:`url(${v.imagen_url})`,backgroundSize:"cover",backgroundPosition:"center",flex:"0 0 80px"}}),_.jsxs("div",{style:{flex:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[_.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:800,color:"#0f172a"},children:v.nombre}),_.jsxs("span",{style:{fontSize:16,fontWeight:700,color:"#059669"},children:["$",v.precio.toFixed(2)]})]}),v.descripcion&&_.jsx("p",{style:{margin:0,fontSize:13,color:"#6b7280"},children:v.descripcion})]})]},v.id))})]})]}):_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:16},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280"},children:"Restaurante no encontrado"}),_.jsx("button",{onClick:()=>e("/restaurantes"),style:{padding:"10px 20px",borderRadius:8,border:"none",background:"#4f46e5",color:"#fff",cursor:"pointer"},children:"Ver restaurantes"})]})}function wO(){const{id:n}=Eo(),e=Te(),{usuario:s}=zn(),[r,c]=R.useState(null),[h,d]=R.useState(!0),[g,y]=R.useState(!1),[v,x]=R.useState(1),[T,E]=R.useState("");R.useEffect(()=>{n&&j()},[n]);async function j(){d(!0);try{const{data:O,error:D}=await Et.from("platillos").select("id,nombre,descripcion,imagen_url,precio,disponible,restaurante_id,restaurantes(id,nombre)").eq("id",n).single();if(D)console.error("Error cargando platillo:",D),c(null);else if(O){const B=Array.isArray(O.restaurantes)?O.restaurantes[0]:O.restaurantes,I={id:O.id,nombre:O.nombre,descripcion:O.descripcion,imagen_url:O.imagen_url,precio:O.precio,disponible:O.disponible,restaurante_id:O.restaurante_id,restaurante:B?{id:B.id,nombre:B.nombre}:null};c(I)}}catch(O){console.error(O),c(null)}finally{d(!1)}}if(h)return _.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:_.jsxs("div",{style:{textAlign:"center"},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Cargando platillo..."})]})});if(!r)return _.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:16},children:[_.jsx("div",{style:{fontSize:48},children:""}),_.jsx("p",{style:{color:"#6b7280"},children:"Platillo no encontrado"}),_.jsx("button",{onClick:()=>e(-1),style:{padding:"10px 16px",borderRadius:8,border:"none",background:"#4f46e5",color:"#fff",cursor:"pointer"},children:"Volver"})]});const k=async()=>{if(!(!r?.disponible||!s?.id||!r.restaurante_id)){y(!0);try{const{error:O}=await Et.from("carrito").insert({usuario_id:s.id,platillo_id:r.id,restaurante_id:r.restaurante_id,cantidad:v,precio_unitario:r.precio||0,notas:T||null});if(O)if(O.message.includes("Solo puedes agregar items de un restaurante"))window.confirm("Ya tienes items de otro restaurante en tu carrito. Deseas vaciar el carrito y agregar este item?")&&(await Et.rpc("limpiar_carrito_usuario",{p_usuario_id:s.id}),await Et.from("carrito").insert({usuario_id:s.id,platillo_id:r.id,restaurante_id:r.restaurante_id,cantidad:v,precio_unitario:r.precio||0,notas:T||null}),alert(" Agregado al carrito"),e("/carrito"));else throw O;else alert(" Agregado al carrito"),window.confirm("Quieres ir al carrito?")&&e("/carrito")}catch(O){console.error("Error al agregar al carrito:",O),alert(O.message||"Error al agregar al carrito")}finally{y(!1)}}};return _.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[_.jsxs("div",{style:{background:"#fff",padding:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",maxWidth:700,margin:"16px auto",borderRadius:12},children:[_.jsx("button",{onClick:()=>e(-1),style:{border:"none",background:"transparent",fontSize:18,cursor:"pointer",padding:0,marginBottom:8},children:" Volver"}),_.jsxs("div",{style:{display:"flex",gap:12},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("h1",{style:{margin:0,fontSize:22,fontWeight:800,color:"#0f172a"},children:r.nombre}),r.descripcion&&_.jsx("p",{style:{margin:"8px 0 0 0",color:"#6b7280"},children:r.descripcion}),_.jsxs("div",{style:{marginTop:12,display:"flex",gap:12,alignItems:"center"},children:[_.jsxs("div",{style:{fontSize:20,fontWeight:800,color:"#059669"},children:["$",(r.precio||0).toFixed(2)]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[_.jsx("button",{onClick:()=>x(O=>Math.max(1,O-1)),style:{width:34,height:34,borderRadius:8,border:"none",background:"#f3f4f6",cursor:"pointer"},children:""}),_.jsx("div",{style:{minWidth:30,textAlign:"center",fontWeight:700},children:v}),_.jsx("button",{onClick:()=>x(O=>O+1),style:{width:34,height:34,borderRadius:8,border:"none",background:"#f3f4f6",cursor:"pointer"},children:"+"})]}),_.jsx("div",{style:{fontSize:13,color:r.disponible?"#374151":"#dc2626"},children:r.disponible?"Disponible":"No disponible"})]})]}),_.jsx("div",{style:{width:120,height:120,borderRadius:12,overflow:"hidden",flex:"0 0 120px"},children:_.jsx("img",{src:r.imagen_url||"/placeholder.png",alt:r.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),_.jsxs("div",{style:{marginTop:18,display:"flex",gap:12},children:[r.restaurante&&_.jsx("button",{onClick:()=>e(`/restaurante/${r.restaurante?.id}`),style:{padding:"10px 14px",borderRadius:10,border:"none",background:"#2563eb",color:"#fff",cursor:"pointer"},children:"Ver restaurante"}),_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,flex:"1 1 auto"},children:_.jsx("textarea",{placeholder:"Instrucciones especiales (opcional)",value:T,onChange:O=>E(O.target.value),style:{width:"100%",minHeight:56,padding:8,borderRadius:8,border:"1px solid #e5e7eb",resize:"vertical"}})})]})]}),_.jsx("div",{style:{position:"fixed",left:0,right:0,bottom:100,display:"flex",justifyContent:"center",zIndex:120},children:_.jsx("div",{style:{maxWidth:700,width:"100%",padding:"10px 16px"},children:_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"center",background:"#fff",borderRadius:12,padding:12,boxShadow:"0 6px 20px rgba(2,6,23,0.06)"},children:[_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:14,color:"#6b7280"},children:"Total"}),_.jsxs("div",{style:{fontWeight:800,fontSize:18},children:["$",((r.precio||0)*v).toFixed(2)]})]}),_.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:_.jsx("button",{onClick:k,disabled:!r.disponible||g,style:{padding:"10px 16px",borderRadius:10,border:"none",background:r.disponible&&!g?"#059669":"#9ca3af",color:"#fff",cursor:r.disponible&&!g?"pointer":"not-allowed",fontWeight:700},children:g?" Agregando...":` Aadir ${v>1?`(${v})`:""}`})})]})})})]})}function SO(){const n=Te(),{usuario:e,setUsuario:s,logout:r}=zn(),[c,h]=R.useState(!1),[d,g]=R.useState(!1),[y,v]=R.useState(""),[x,T]=R.useState({nombre:e?.nombre||"",telefono:e?.telefono||"",direccion:e?.direccion||""}),E=O=>{T({...x,[O.target.name]:O.target.value})},j=async O=>{if(O.preventDefault(),!!e){g(!0),v("");try{const{data:D,error:B}=await Et.from("usuarios").update({nombre:x.nombre,telefono:x.telefono,direccion:x.direccion,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();B?(console.error("Error al actualizar:",B),v("Error al actualizar los datos")):D&&(s(D),v("Datos actualizados correctamente"),h(!1))}catch(D){console.error("Error:",D),v("Error al actualizar los datos")}finally{g(!1)}}},k=()=>{r(),n("/")};return e?_.jsxs("div",{style:{minHeight:"100vh",background:"#fafafa",paddingBottom:80},children:[_.jsx(Sn,{}),_.jsxs("main",{style:{maxWidth:600,margin:"0 auto",padding:"20px 16px"},children:[_.jsxs("div",{style:{background:"#fff",borderRadius:16,padding:"24px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",marginBottom:20},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:24},children:[_.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:36,color:"#fff",fontWeight:700},children:e.nombre.charAt(0).toUpperCase()}),_.jsxs("div",{style:{flex:1},children:[_.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:800,color:"#0f172a"},children:e.nombre}),_.jsx("p",{style:{margin:"4px 0 0 0",color:"#6b7280",fontSize:14},children:e.email}),_.jsx("span",{style:{display:"inline-block",marginTop:8,padding:"4px 12px",borderRadius:20,background:"#dbeafe",color:"#1e40af",fontSize:12,fontWeight:600},children:e.tipo_usuario==="cliente"?"Cliente":e.tipo_usuario})]})]}),y&&_.jsx("div",{style:{padding:"12px 16px",borderRadius:8,background:y.includes("Error")?"#fee2e2":"#d1fae5",color:y.includes("Error")?"#991b1b":"#065f46",marginBottom:20,fontSize:14},children:y}),c?_.jsxs("form",{onSubmit:j,children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:20},children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"nombre",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Nombre"}),_.jsx("input",{type:"text",id:"nombre",name:"nombre",value:x.nombre,onChange:E,required:!0,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"telefono",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Telfono"}),_.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:x.telefono,onChange:E,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box"}})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"direccion",style:{display:"block",fontSize:13,color:"#6b7280",fontWeight:600,marginBottom:6},children:"Direccin"}),_.jsx("textarea",{id:"direccion",name:"direccion",value:x.direccion,onChange:E,rows:3,style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:15,outline:"none",boxSizing:"border-box",resize:"vertical",fontFamily:"inherit"}})]})]}),_.jsxs("div",{style:{display:"flex",gap:12},children:[_.jsx("button",{type:"button",onClick:()=>{h(!1),T({nombre:e?.nombre||"",telefono:e?.telefono||"",direccion:e?.direccion||""})},style:{flex:1,padding:"12px 16px",borderRadius:10,border:"1px solid #e5e7eb",background:"#fff",color:"#374151",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:d,style:{flex:1,padding:"12px 16px",borderRadius:10,border:"none",background:d?"#9ca3af":"#059669",color:"#fff",fontSize:15,fontWeight:700,cursor:d?"not-allowed":"pointer"},children:d?"Guardando...":"Guardar"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{marginBottom:20},children:[_.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:16,fontWeight:700,color:"#374151"},children:"Informacin Personal"}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[_.jsxs("div",{children:[_.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Nombre"}),_.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.nombre})]}),_.jsxs("div",{children:[_.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Telfono"}),_.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.telefono||"No especificado"})]}),_.jsxs("div",{children:[_.jsx("label",{style:{fontSize:13,color:"#6b7280",fontWeight:600},children:"Direccin"}),_.jsx("p",{style:{margin:"4px 0 0 0",fontSize:15,color:"#0f172a"},children:e.direccion||"No especificada"})]})]})]}),_.jsx("button",{onClick:()=>h(!0),style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#4f46e5",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer",marginBottom:12},children:"Editar informacin"})]})]}),_.jsx("button",{onClick:k,style:{width:"100%",padding:"12px 16px",borderRadius:10,border:"none",background:"#dc2626",color:"#fff",fontSize:15,fontWeight:700,cursor:"pointer"},children:"Cerrar sesin"})]}),_.jsx(Pi,{})]}):null}function TO(){const{usuario:n}=zn(),e=Te(),[s,r]=R.useState([]),[c,h]=R.useState(null),[d,g]=R.useState(!0),[y,v]=R.useState(!1),[x,T]=R.useState(""),[E,j]=R.useState("");R.useEffect(()=>{k()},[]);const k=async()=>{if(n?.id)try{const{data:N,error:J}=await Et.from("vista_carrito").select("*").eq("usuario_id",n.id);if(J)throw J;const{data:et,error:st}=await Et.from("vista_resumen_carrito").select("*").eq("usuario_id",n.id).single();if(st&&st.code!=="PGRST116")throw st;r(N||[]),h(et)}catch(N){console.error("Error al cargar carrito:",N)}finally{g(!1)}},O=async(N,J)=>{if(!(J<1))try{const{error:et}=await Et.from("carrito").update({cantidad:J}).eq("id",N);if(et)throw et;await k()}catch(et){console.error("Error al actualizar cantidad:",et)}},D=async N=>{try{const{error:J}=await Et.from("carrito").delete().eq("id",N);if(J)throw J;await k()}catch(J){console.error("Error al eliminar item:",J)}},B=async()=>{if(!(!n?.id||!window.confirm("Seguro que quieres vaciar el carrito?")))try{const{error:J}=await Et.rpc("limpiar_carrito_usuario",{p_usuario_id:n.id});if(J)throw J;await k()}catch(J){console.error("Error al vaciar carrito:",J)}},I=async()=>{if(!n?.id||!x.trim()){alert("Por favor ingresa la direccin de entrega");return}v(!0);try{const{error:N}=await Et.rpc("crear_pedido_desde_carrito",{p_usuario_id:n.id,p_direccion_entrega:x,p_latitud:19.4326,p_longitud:-99.1332,p_notas_cliente:E||null});if(N)throw N;alert("Pedido creado exitosamente! "),e("/pedidos")}catch(N){console.error("Error al crear pedido:",N),alert(N.message||"Error al crear el pedido")}finally{v(!1)}};return d?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),_.jsx(Pi,{})]}):s.length===0?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Mi Carrito"}),_.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[_.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Tu carrito est vaco"}),_.jsx("button",{onClick:()=>e("/home"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Explorar Restaurantes"})]})]}),_.jsx(Pi,{})]}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h1",{className:"text-2xl font-bold",children:" Mi Carrito"}),_.jsx("button",{onClick:B,className:"text-red-600 hover:text-red-700 text-sm",children:"Vaciar carrito"})]}),c&&_.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[_.jsxs("h2",{className:"text-lg font-semibold mb-2",children:[c.restaurante_emoji," ",c.restaurante_nombre]}),_.jsxs("p",{className:"text-sm text-gray-600",children:[c.total_items," producto",c.total_items>1?"s":""," "," ",c.cantidad_total," item",c.cantidad_total>1?"s":""]})]}),_.jsx("div",{className:"space-y-4 mb-6",children:s.map(N=>_.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:_.jsxs("div",{className:"flex space-x-4",children:[N.platillo_imagen&&_.jsx("img",{src:N.platillo_imagen,alt:N.platillo_nombre,className:"w-20 h-20 rounded-lg object-cover"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"font-semibold",children:N.platillo_nombre}),_.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["$",N.precio_unitario.toFixed(2)]}),N.notas&&_.jsxs("p",{className:"text-sm text-gray-500 italic mb-2",children:["Nota: ",N.notas]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("button",{onClick:()=>O(N.id,N.cantidad-1),disabled:N.cantidad<=1,className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400",children:"-"}),_.jsx("span",{className:"w-8 text-center font-semibold",children:N.cantidad}),_.jsx("button",{onClick:()=>O(N.id,N.cantidad+1),className:"w-8 h-8 rounded-full bg-indigo-600 text-white hover:bg-indigo-700",children:"+"})]}),_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsxs("p",{className:"font-bold text-indigo-600",children:["$",N.subtotal.toFixed(2)]}),_.jsx("button",{onClick:()=>D(N.id),className:"text-red-600 hover:text-red-700",children:""})]})]})]})]})},N.id))}),_.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Datos de Entrega"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Direccin de entrega *"}),_.jsx("input",{type:"text",value:x,onChange:N=>T(N.target.value),placeholder:"Calle, nmero, colonia...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notas adicionales (opcional)"}),_.jsx("textarea",{value:E,onChange:N=>j(N.target.value),placeholder:"Indicaciones, referencias, etc.",rows:3,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("span",{className:"text-xl font-bold",children:"Total:"}),_.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:["$",c?.total_carrito.toFixed(2)]})]}),_.jsx("button",{onClick:I,disabled:y||!x.trim(),className:"w-full bg-indigo-600 text-white py-4 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-bold text-lg",children:y?" Creando pedido...":" Realizar Pedido"})]})]}),_.jsx(Pi,{})]})}function EO(){const{usuario:n}=zn(),e=Te(),[s,r]=R.useState([]),[c,h]=R.useState(!0);R.useEffect(()=>{d();const v=Et.channel("mis-pedidos").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`usuario_id=eq.${n?.id}`},()=>{d()}).subscribe();return()=>{Et.removeChannel(v)}},[n?.id]);const d=async()=>{if(n?.id)try{const{data:v,error:x}=await Et.from("vista_pedidos_cliente").select("*").eq("usuario_id",n.id).order("creado_en",{ascending:!1});if(x)throw x;r(v||[])}catch(v){console.error("Error al cargar pedidos:",v)}finally{h(!1)}},g=v=>({pendiente:"bg-yellow-100 text-yellow-800",confirmado:"bg-blue-100 text-blue-800",en_preparacion:"bg-purple-100 text-purple-800",listo:"bg-green-100 text-green-800",en_camino:"bg-indigo-100 text-indigo-800",entregado:"bg-gray-100 text-gray-800",cancelado:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",y=v=>({pendiente:" Pendiente",confirmado:" Confirmado",en_preparacion:" En Preparacin",listo:" Listo",en_camino:" En Camino",entregado:" Entregado",cancelado:" Cancelado"})[v]||v;return c?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),_.jsx(Pi,{})]}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Mis Pedidos"}),s.length===0?_.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[_.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes pedidos activos"}),_.jsx("button",{onClick:()=>e("/home"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Hacer un Pedido"})]}):_.jsx("div",{className:"space-y-4",children:s.map(v=>_.jsxs("div",{onClick:()=>e(`/pedido/${v.pedido_id}`),className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-semibold mb-1",children:[v.restaurante_emoji," ",v.restaurante_nombre]}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Pedido #",v.numero_pedido]})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-xl font-bold text-indigo-600",children:["$",v.total.toFixed(2)]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[v.total_items," item",v.total_items>1?"s":""]})]})]}),_.jsx("div",{className:"mb-4",children:_.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g(v.estado)}`,children:y(v.estado)})}),v.tiene_repartidor&&v.repartidor_nombre&&_.jsx("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:_.jsxs("p",{className:"text-sm font-medium text-blue-800",children:[" Repartidor: ",v.repartidor_nombre]})}),v.tracking_activo&&_.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3 mb-4",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("p",{className:"text-sm font-medium text-indigo-800",children:" Tracking en vivo disponible"}),_.jsx("span",{className:"text-indigo-600 text-sm font-semibold",children:"Ver mapa "})]})}),_.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.creado_en).toLocaleString("es-MX",{dateStyle:"medium",timeStyle:"short"})})]},v.pedido_id))})]}),_.jsx(Pi,{})]})}function Zx(n,e){const s=R.useRef(e);R.useEffect(function(){e!==s.current&&n.attributionControl!=null&&(s.current!=null&&n.attributionControl.removeAttribution(s.current),e!=null&&n.attributionControl.addAttribution(e)),s.current=e},[n,e])}const AO=1;function CO(n){return Object.freeze({__version:AO,map:n})}function jO(n,e){return Object.freeze({...n,...e})}const Ap=R.createContext(null);function Cp(){const n=R.use(Ap);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function RO(n){function e(s,r){const{instance:c,context:h}=n(s).current;R.useImperativeHandle(r,()=>c);const{children:d}=s;return d==null?null:Qf.createElement(Ap,{value:h},d)}return R.forwardRef(e)}function OO(n){function e(s,r){const[c,h]=R.useState(!1),{instance:d}=n(s,h).current;R.useImperativeHandle(r,()=>d),R.useEffect(function(){c&&d.update()},[d,c,s.children]);const g=d._contentNode;return g?X1.createPortal(s.children,g):null}return R.forwardRef(e)}function LO(n){function e(s,r){const{instance:c}=n(s).current;return R.useImperativeHandle(r,()=>c),null}return R.forwardRef(e)}function Gx(n,e){const s=R.useRef(void 0);R.useEffect(function(){return e!=null&&n.instance.on(e),s.current=e,function(){s.current!=null&&n.instance.off(s.current),s.current=null}},[n,e])}function jp(n,e){const s=n.pane??e.pane;return s?{...n,pane:s}:n}function kO(n,e){return function(r,c){const h=Cp(),d=n(jp(r,h),h);return Zx(h.map,r.attribution),Gx(d.current,r.eventHandlers),e(d.current,h,r,c),d}}var Il={exports:{}};var MO=Il.exports,w0;function NO(){return w0||(w0=1,(function(n,e){(function(s,r){r(e)})(MO,(function(s){var r="1.9.4";function c(a){var l,f,b,w;for(f=1,b=arguments.length;f<b;f++){w=arguments[f];for(l in w)a[l]=w[l]}return a}var h=Object.create||(function(){function a(){}return function(l){return a.prototype=l,new a}})();function d(a,l){var f=Array.prototype.slice;if(a.bind)return a.bind.apply(a,f.call(arguments,1));var b=f.call(arguments,2);return function(){return a.apply(l,b.length?b.concat(f.call(arguments)):arguments)}}var g=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function v(a,l,f){var b,w,A,M;return M=function(){b=!1,w&&(A.apply(f,w),w=!1)},A=function(){b?w=arguments:(a.apply(f,arguments),setTimeout(M,l),b=!0)},A}function x(a,l,f){var b=l[1],w=l[0],A=b-w;return a===b&&f?a:((a-w)%A+A)%A+w}function T(){return!1}function E(a,l){if(l===!1)return a;var f=Math.pow(10,l===void 0?6:l);return Math.round(a*f)/f}function j(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return j(a).split(/\s+/)}function O(a,l){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var f in l)a.options[f]=l[f];return a.options}function D(a,l,f){var b=[];for(var w in a)b.push(encodeURIComponent(f?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!l||l.indexOf("?")===-1?"?":"&")+b.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function I(a,l){return a.replace(B,function(f,b){var w=l[b];if(w===void 0)throw new Error("No value provided for variable "+f);return typeof w=="function"&&(w=w(l)),w})}var N=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function J(a,l){for(var f=0;f<a.length;f++)if(a[f]===l)return f;return-1}var et="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function st(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var rt=0;function dt(a){var l=+new Date,f=Math.max(0,16-(l-rt));return rt=l+f,window.setTimeout(a,f)}var Tt=window.requestAnimationFrame||st("RequestAnimationFrame")||dt,Wt=window.cancelAnimationFrame||st("CancelAnimationFrame")||st("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Vt(a,l,f){if(f&&Tt===dt)a.call(l);else return Tt.call(window,d(a,l))}function $t(a){a&&Wt.call(window,a)}var Qn={__proto__:null,extend:c,create:h,bind:d,get lastId(){return g},stamp:y,throttle:v,wrapNum:x,falseFn:T,formatNum:E,trim:j,splitWords:k,setOptions:O,getParamString:D,template:I,isArray:N,indexOf:J,emptyImageUrl:et,requestFn:Tt,cancelFn:Wt,requestAnimFrame:Vt,cancelAnimFrame:$t};function pe(){}pe.extend=function(a){var l=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,b=h(f);b.constructor=l,l.prototype=b;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(l[w]=this[w]);return a.statics&&c(l,a.statics),a.includes&&(Xe(a.includes),c.apply(null,[b].concat(a.includes))),c(b,a),delete b.statics,delete b.includes,b.options&&(b.options=f.options?h(f.options):{},c(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,M=b._initHooks.length;A<M;A++)b._initHooks[A].call(this)}},l},pe.include=function(a){var l=this.prototype.options;return c(this.prototype,a),a.options&&(this.prototype.options=l,this.mergeOptions(a.options)),this},pe.mergeOptions=function(a){return c(this.prototype.options,a),this},pe.addInitHook=function(a){var l=Array.prototype.slice.call(arguments,1),f=typeof a=="function"?a:function(){this[a].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Xe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=N(a)?a:[a];for(var l=0;l<a.length;l++)a[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var F={on:function(a,l,f){if(typeof a=="object")for(var b in a)this._on(b,a[b],l);else{a=k(a);for(var w=0,A=a.length;w<A;w++)this._on(a[w],l,f)}return this},off:function(a,l,f){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],l);else{a=k(a);for(var w=arguments.length===1,A=0,M=a.length;A<M;A++)w?this._off(a[A]):this._off(a[A],l,f)}return this},_on:function(a,l,f,b){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(a,l,f)===!1){f===this&&(f=void 0);var w={fn:l,ctx:f};b&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,l,f){var b,w,A;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(w=0,A=b.length;w<A;w++)b[w].fn=T;delete this._events[a];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var M=this._listens(a,l,f);if(M!==!1){var H=b[M];this._firingCount&&(H.fn=T,this._events[a]=b=b.slice()),b.splice(M,1)}}},fire:function(a,l,f){if(!this.listens(a,f))return this;var b=c({},l,{type:a,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var A=0,M=w.length;A<M;A++){var H=w[A],G=H.fn;H.once&&this.off(a,G,H.ctx),G.call(H.ctx||this,b)}this._firingCount--}}return f&&this._propagateEvent(b),this},listens:function(a,l,f,b){typeof a!="string"&&console.warn('"string" type argument expected');var w=l;typeof l!="function"&&(b=!!l,w=void 0,f=void 0);var A=this._events&&this._events[a];if(A&&A.length&&this._listens(a,w,f)!==!1)return!0;if(b){for(var M in this._eventParents)if(this._eventParents[M].listens(a,l,f,b))return!0}return!1},_listens:function(a,l,f){if(!this._events)return!1;var b=this._events[a]||[];if(!l)return!!b.length;f===this&&(f=void 0);for(var w=0,A=b.length;w<A;w++)if(b[w].fn===l&&b[w].ctx===f)return w;return!1},once:function(a,l,f){if(typeof a=="object")for(var b in a)this._on(b,a[b],l,!0);else{a=k(a);for(var w=0,A=a.length;w<A;w++)this._on(a[w],l,f,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var l in this._eventParents)this._eventParents[l].fire(a.type,c({layer:a.target,propagatedFrom:a.target},a),!0)}};F.addEventListener=F.on,F.removeEventListener=F.clearAllEventListeners=F.off,F.addOneTimeEventListener=F.once,F.fireEvent=F.fire,F.hasEventListeners=F.listens;var it=pe.extend(F);function nt(a,l,f){this.x=f?Math.round(a):a,this.y=f?Math.round(l):l}var kt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};nt.prototype={clone:function(){return new nt(this.x,this.y)},add:function(a){return this.clone()._add(ut(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ut(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new nt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new nt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=kt(this.x),this.y=kt(this.y),this},distanceTo:function(a){a=ut(a);var l=a.x-this.x,f=a.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(a){return a=ut(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ut(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function ut(a,l,f){return a instanceof nt?a:N(a)?new nt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new nt(a.x,a.y):new nt(a,l,f)}function z(a,l){if(a)for(var f=l?[a,l]:a,b=0,w=f.length;b<w;b++)this.extend(f[b])}z.prototype={extend:function(a){var l,f;if(!a)return this;if(a instanceof nt||typeof a[0]=="number"||"x"in a)l=f=ut(a);else if(a=Y(a),l=a.min,f=a.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(a){return ut((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ut(this.min.x,this.max.y)},getTopRight:function(){return ut(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var l,f;return typeof a[0]=="number"||a instanceof nt?a=ut(a):a=Y(a),a instanceof z?(l=a.min,f=a.max):l=f=a,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(a){a=Y(a);var l=this.min,f=this.max,b=a.min,w=a.max,A=w.x>=l.x&&b.x<=f.x,M=w.y>=l.y&&b.y<=f.y;return A&&M},overlaps:function(a){a=Y(a);var l=this.min,f=this.max,b=a.min,w=a.max,A=w.x>l.x&&b.x<f.x,M=w.y>l.y&&b.y<f.y;return A&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var l=this.min,f=this.max,b=Math.abs(l.x-f.x)*a,w=Math.abs(l.y-f.y)*a;return Y(ut(l.x-b,l.y-w),ut(f.x+b,f.y+w))},equals:function(a){return a?(a=Y(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Y(a,l){return!a||a instanceof z?a:new z(a,l)}function at(a,l){if(a)for(var f=l?[a,l]:a,b=0,w=f.length;b<w;b++)this.extend(f[b])}at.prototype={extend:function(a){var l=this._southWest,f=this._northEast,b,w;if(a instanceof ht)b=a,w=a;else if(a instanceof at){if(b=a._southWest,w=a._northEast,!b||!w)return this}else return a?this.extend(ct(a)||ot(a)):this;return!l&&!f?(this._southWest=new ht(b.lat,b.lng),this._northEast=new ht(w.lat,w.lng)):(l.lat=Math.min(b.lat,l.lat),l.lng=Math.min(b.lng,l.lng),f.lat=Math.max(w.lat,f.lat),f.lng=Math.max(w.lng,f.lng)),this},pad:function(a){var l=this._southWest,f=this._northEast,b=Math.abs(l.lat-f.lat)*a,w=Math.abs(l.lng-f.lng)*a;return new at(new ht(l.lat-b,l.lng-w),new ht(f.lat+b,f.lng+w))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ht||"lat"in a?a=ct(a):a=ot(a);var l=this._southWest,f=this._northEast,b,w;return a instanceof at?(b=a.getSouthWest(),w=a.getNorthEast()):b=w=a,b.lat>=l.lat&&w.lat<=f.lat&&b.lng>=l.lng&&w.lng<=f.lng},intersects:function(a){a=ot(a);var l=this._southWest,f=this._northEast,b=a.getSouthWest(),w=a.getNorthEast(),A=w.lat>=l.lat&&b.lat<=f.lat,M=w.lng>=l.lng&&b.lng<=f.lng;return A&&M},overlaps:function(a){a=ot(a);var l=this._southWest,f=this._northEast,b=a.getSouthWest(),w=a.getNorthEast(),A=w.lat>l.lat&&b.lat<f.lat,M=w.lng>l.lng&&b.lng<f.lng;return A&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,l){return a?(a=ot(a),this._southWest.equals(a.getSouthWest(),l)&&this._northEast.equals(a.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(a,l){return a instanceof at?a:new at(a,l)}function ht(a,l,f){if(isNaN(a)||isNaN(l))throw new Error("Invalid LatLng object: ("+a+", "+l+")");this.lat=+a,this.lng=+l,f!==void 0&&(this.alt=+f)}ht.prototype={equals:function(a,l){if(!a)return!1;a=ct(a);var f=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return f<=(l===void 0?1e-9:l)},toString:function(a){return"LatLng("+E(this.lat,a)+", "+E(this.lng,a)+")"},distanceTo:function(a){return re.distance(this,ct(a))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(a){var l=180*a/40075017,f=l/Math.cos(Math.PI/180*this.lat);return ot([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function ct(a,l,f){return a instanceof ht?a:N(a)&&typeof a[0]!="object"?a.length===3?new ht(a[0],a[1],a[2]):a.length===2?new ht(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ht(a.lat,"lng"in a?a.lng:a.lon,a.alt):l===void 0?null:new ht(a,l,f)}var Lt={latLngToPoint:function(a,l){var f=this.projection.project(a),b=this.scale(l);return this.transformation._transform(f,b)},pointToLatLng:function(a,l){var f=this.scale(l),b=this.transformation.untransform(a,f);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(a),b=this.transformation.transform(l.min,f),w=this.transformation.transform(l.max,f);return new z(b,w)},infinite:!1,wrapLatLng:function(a){var l=this.wrapLng?x(a.lng,this.wrapLng,!0):a.lng,f=this.wrapLat?x(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new ht(f,l,b)},wrapLatLngBounds:function(a){var l=a.getCenter(),f=this.wrapLatLng(l),b=l.lat-f.lat,w=l.lng-f.lng;if(b===0&&w===0)return a;var A=a.getSouthWest(),M=a.getNorthEast(),H=new ht(A.lat-b,A.lng-w),G=new ht(M.lat-b,M.lng-w);return new at(H,G)}},re=c({},Lt,{wrapLng:[-180,180],R:6371e3,distance:function(a,l){var f=Math.PI/180,b=a.lat*f,w=l.lat*f,A=Math.sin((l.lat-a.lat)*f/2),M=Math.sin((l.lng-a.lng)*f/2),H=A*A+Math.cos(b)*Math.cos(w)*M*M,G=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*G}}),oe=6378137,zi={R:oe,MAX_LATITUDE:85.0511287798,project:function(a){var l=Math.PI/180,f=this.MAX_LATITUDE,b=Math.max(Math.min(f,a.lat),-f),w=Math.sin(b*l);return new nt(this.R*a.lng*l,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var l=180/Math.PI;return new ht((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*l,a.x*l/this.R)},bounds:(function(){var a=oe*Math.PI;return new z([-a,-a],[a,a])})()};function vs(a,l,f,b){if(N(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=l,this._c=f,this._d=b}vs.prototype={transform:function(a,l){return this._transform(a.clone(),l)},_transform:function(a,l){return l=l||1,a.x=l*(this._a*a.x+this._b),a.y=l*(this._c*a.y+this._d),a},untransform:function(a,l){return l=l||1,new nt((a.x/l-this._b)/this._a,(a.y/l-this._d)/this._c)}};function Bi(a,l,f,b){return new vs(a,l,f,b)}var cr=c({},re,{code:"EPSG:3857",projection:zi,transformation:(function(){var a=.5/(Math.PI*zi.R);return Bi(a,.5,-a,.5)})()}),Ui=c({},cr,{code:"EPSG:900913"});function hr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function dr(a,l){var f="",b,w,A,M,H,G;for(b=0,A=a.length;b<A;b++){for(H=a[b],w=0,M=H.length;w<M;w++)G=H[w],f+=(w?"L":"M")+G.x+" "+G.y;f+=l?pt.svg?"z":"x":""}return f||"M0 0"}var Ro=document.documentElement.style,ua="ActiveXObject"in window,Oo=ua&&!document.addEventListener,fr="msLaunchUri"in navigator&&!("documentMode"in document),ca=cn("webkit"),mu=cn("android"),pu=cn("android 2")||cn("android 3"),nn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xh=mu&&cn("Google")&&nn<537&&!("AudioNode"in window),mr=!!window.opera,Lo=!fr&&cn("chrome"),ha=cn("gecko")&&!ca&&!mr&&!ua,wh=!Lo&&cn("safari"),ko=cn("phantom"),gu="OTransition"in Ro,Sh=navigator.platform.indexOf("Win")===0,_s=ua&&"transition"in Ro,qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pu,ti="MozPerspective"in Ro,sn=!window.L_DISABLE_3D&&(_s||qe||ti)&&!gu&&!ko,da=typeof orientation<"u"||cn("mobile"),Th=da&&ca,Eh=da&&qe,fa=!window.PointerEvent&&window.MSPointerEvent,ma=!!(window.PointerEvent||fa),pa="ontouchstart"in window||!!window.TouchEvent,Vi=!window.L_NO_TOUCH&&(pa||ma),pr=da&&mr,ga=da&&ha,Ah=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yu=(function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",T,l),window.removeEventListener("testPassiveEventSupport",T,l)}catch{}return a})(),Mo=(function(){return!!document.createElement("canvas").getContext})(),Ii=!!(document.createElementNS&&hr("svg").createSVGRect),Ch=!!Ii&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),vu=!Ii&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var l=a.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),_u=navigator.platform.indexOf("Mac")===0,bu=navigator.platform.indexOf("Linux")===0;function cn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var pt={ie:ua,ielt9:Oo,edge:fr,webkit:ca,android:mu,android23:pu,androidStock:xh,opera:mr,chrome:Lo,gecko:ha,safari:wh,phantom:ko,opera12:gu,win:Sh,ie3d:_s,webkit3d:qe,gecko3d:ti,any3d:sn,mobile:da,mobileWebkit:Th,mobileWebkit3d:Eh,msPointer:fa,pointer:ma,touch:Vi,touchNative:pa,mobileOpera:pr,mobileGecko:ga,retina:Ah,passiveEvents:yu,canvas:Mo,svg:Ii,vml:vu,inlineSvg:Ch,mac:_u,linux:bu},No=pt.msPointer?"MSPointerDown":"pointerdown",Do=pt.msPointer?"MSPointerMove":"pointermove",ei=pt.msPointer?"MSPointerUp":"pointerup",Ee=pt.msPointer?"MSPointerCancel":"pointercancel",Be={touchstart:No,touchmove:Do,touchend:ei,touchcancel:Ee},Hi={touchstart:xs,touchmove:_i,touchend:_i,touchcancel:_i},vi={},xu=!1;function jh(a,l,f){return l==="touchstart"&&bs(),Hi[l]?(f=Hi[l].bind(this,f),a.addEventListener(Be[l],f,!1),f):(console.warn("wrong event specified:",l),T)}function wu(a,l,f){if(!Be[l]){console.warn("wrong event specified:",l);return}a.removeEventListener(Be[l],f,!1)}function ya(a){vi[a.pointerId]=a}function Po(a){vi[a.pointerId]&&(vi[a.pointerId]=a)}function qi(a){delete vi[a.pointerId]}function bs(){xu||(document.addEventListener(No,ya,!0),document.addEventListener(Do,Po,!0),document.addEventListener(ei,qi,!0),document.addEventListener(Ee,qi,!0),xu=!0)}function _i(a,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in vi)l.touches.push(vi[f]);l.changedTouches=[l],a(l)}}function xs(a,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ge(l),_i(a,l)}function Ae(a){var l={},f,b;for(b in a)f=a[b],l[b]=f&&f.bind?f.bind(a):f;return a=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Su=200;function Tu(a,l){a.addEventListener("dblclick",l);var f=0,b;function w(A){if(A.detail!==1){b=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var M=Ta(A);if(!(M.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!M.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var H=Date.now();H-f<=Su?(b++,b===2&&l(Ae(A))):b=1,f=H}}}return a.addEventListener("click",w),{dblclick:l,simDblclick:w}}function Zi(a,l){a.removeEventListener("dblclick",l.dblclick),a.removeEventListener("click",l.simDblclick)}var bi=ba(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),va=ba(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zo=va==="webkitTransition"||va==="OTransition"?va+"End":"transitionend";function Bo(a){return typeof a=="string"?document.getElementById(a):a}function _a(a,l){var f=a.style[l]||a.currentStyle&&a.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);f=b?b[l]:null}return f==="auto"?null:f}function Mt(a,l,f){var b=document.createElement(a);return b.className=l||"",f&&f.appendChild(b),b}function Xt(a){var l=a.parentNode;l&&l.removeChild(a)}function hn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Me(a){var l=a.parentNode;l&&l.lastChild!==a&&l.appendChild(a)}function Gi(a){var l=a.parentNode;l&&l.firstChild!==a&&l.insertBefore(a,l.firstChild)}function Uo(a,l){if(a.classList!==void 0)return a.classList.contains(l);var f=gr(a);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function At(a,l){if(a.classList!==void 0)for(var f=k(l),b=0,w=f.length;b<w;b++)a.classList.add(f[b]);else if(!Uo(a,l)){var A=gr(a);ws(a,(A?A+" ":"")+l)}}function le(a,l){a.classList!==void 0?a.classList.remove(l):ws(a,j((" "+gr(a)+" ").replace(" "+l+" "," ")))}function ws(a,l){a.className.baseVal===void 0?a.className=l:a.className.baseVal=l}function gr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function se(a,l){"opacity"in a.style?a.style.opacity=l:"filter"in a.style&&Vo(a,l)}function Vo(a,l){var f=!1,b="DXImageTransform.Microsoft.Alpha";try{f=a.filters.item(b)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):a.style.filter+=" progid:"+b+"(opacity="+l+")"}function ba(a){for(var l=document.documentElement.style,f=0;f<a.length;f++)if(a[f]in l)return a[f];return!1}function ni(a,l,f){var b=l||new nt(0,0);a.style[bi]=(pt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(f?" scale("+f+")":"")}function ee(a,l){a._leaflet_pos=l,pt.any3d?ni(a,l):(a.style.left=l.x+"px",a.style.top=l.y+"px")}function xi(a){return a._leaflet_pos||new nt(0,0)}var Ss,Bn,Io;if("onselectstart"in document)Ss=function(){wt(window,"selectstart",ge)},Bn=function(){Kt(window,"selectstart",ge)};else{var Ts=ba(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ss=function(){if(Ts){var a=document.documentElement.style;Io=a[Ts],a[Ts]="none"}},Bn=function(){Ts&&(document.documentElement.style[Ts]=Io,Io=void 0)}}function yr(){wt(window,"dragstart",ge)}function xa(){Kt(window,"dragstart",ge)}var vr,Ho;function Es(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(dn(),vr=a,Ho=a.style.outlineStyle,a.style.outlineStyle="none",wt(window,"keydown",dn))}function dn(){vr&&(vr.style.outlineStyle=Ho,vr=void 0,Ho=void 0,Kt(window,"keydown",dn))}function _r(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function wa(a){var l=a.getBoundingClientRect();return{x:l.width/a.offsetWidth||1,y:l.height/a.offsetHeight||1,boundingClientRect:l}}var As={__proto__:null,TRANSFORM:bi,TRANSITION:va,TRANSITION_END:zo,get:Bo,getStyle:_a,create:Mt,remove:Xt,empty:hn,toFront:Me,toBack:Gi,hasClass:Uo,addClass:At,removeClass:le,setClass:ws,getClass:gr,setOpacity:se,testProp:ba,setTransform:ni,setPosition:ee,getPosition:xi,get disableTextSelection(){return Ss},get enableTextSelection(){return Bn},disableImageDrag:yr,enableImageDrag:xa,preventOutline:Es,restoreOutline:dn,getSizedParentNode:_r,getScale:wa};function wt(a,l,f,b){if(l&&typeof l=="object")for(var w in l)En(a,w,l[w],f);else{l=k(l);for(var A=0,M=l.length;A<M;A++)En(a,l[A],f,b)}return this}var Tn="_leaflet_events";function Kt(a,l,f,b){if(arguments.length===1)qo(a),delete a[Tn];else if(l&&typeof l=="object")for(var w in l)Sa(a,w,l[w],f);else if(l=k(l),arguments.length===2)qo(a,function(H){return J(l,H)!==-1});else for(var A=0,M=l.length;A<M;A++)Sa(a,l[A],f,b);return this}function qo(a,l){for(var f in a[Tn]){var b=f.split(/\d/)[0];(!l||l(b))&&Sa(a,b,null,null,f)}}var $i={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function En(a,l,f,b){var w=l+y(f)+(b?"_"+y(b):"");if(a[Tn]&&a[Tn][w])return this;var A=function(H){return f.call(b||a,H||window.event)},M=A;!pt.touchNative&&pt.pointer&&l.indexOf("touch")===0?A=jh(a,l,A):pt.touch&&l==="dblclick"?A=Tu(a,A):"addEventListener"in a?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?a.addEventListener($i[l]||l,A,pt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(A=function(H){H=H||window.event,ii(a,H)&&M(H)},a.addEventListener($i[l],A,!1)):a.addEventListener(l,M,!1):a.attachEvent("on"+l,A),a[Tn]=a[Tn]||{},a[Tn][w]=A}function Sa(a,l,f,b,w){w=w||l+y(f)+(b?"_"+y(b):"");var A=a[Tn]&&a[Tn][w];if(!A)return this;!pt.touchNative&&pt.pointer&&l.indexOf("touch")===0?wu(a,l,A):pt.touch&&l==="dblclick"?Zi(a,A):"removeEventListener"in a?a.removeEventListener($i[l]||l,A,!1):a.detachEvent("on"+l,A),a[Tn][w]=null}function An(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Un(a){return En(a,"wheel",An),this}function Ki(a){return wt(a,"mousedown touchstart dblclick contextmenu",An),a._leaflet_disable_click=!0,this}function ge(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function wi(a){return ge(a),An(a),this}function Ta(a){if(a.composedPath)return a.composedPath();for(var l=[],f=a.target;f;)l.push(f),f=f.parentNode;return l}function Ea(a,l){if(!l)return new nt(a.clientX,a.clientY);var f=wa(l),b=f.boundingClientRect;return new nt((a.clientX-b.left)/f.x-l.clientLeft,(a.clientY-b.top)/f.y-l.clientTop)}var Eu=pt.linux&&pt.chrome?window.devicePixelRatio:pt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ze(a){return pt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Eu:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ii(a,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==a;)f=f.parentNode}catch{return!1}return f!==a}var br={__proto__:null,on:wt,off:Kt,stopPropagation:An,disableScrollPropagation:Un,disableClickPropagation:Ki,preventDefault:ge,stop:wi,getPropagationPath:Ta,getMousePosition:Ea,getWheelDelta:Ze,isExternalTarget:ii,addListener:wt,removeListener:Kt},Cs=it.extend({run:function(a,l,f,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=xi(a),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Vt(this._animate,this),this._step()},_step:function(a){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),a):(this._runFrame(1),this._complete())},_runFrame:function(a,l){var f=this._startPos.add(this._offset.multiplyBy(a));l&&f._round(),ee(this._el,f),this.fire("step")},_complete:function(){$t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),zt=it.extend({options:{crs:cr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,l){l=O(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ct(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=va&&pt.any3d&&!pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),wt(this._proxy,zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),a=this._limitCenter(ct(a),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=c({animate:f.animate},f.zoom),f.pan=c({animate:f.animate,duration:f.duration},f.pan));var b=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,l,f.zoom):this._tryAnimatedPan(a,f.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(a,l){return this._loaded?this.setView(this.getCenter(),a,{zoom:l}):(this._zoom=a,this)},zoomIn:function(a,l){return a=a||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,l)},zoomOut:function(a,l){return a=a||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,l)},setZoomAround:function(a,l,f){var b=this.getZoomScale(l),w=this.getSize().divideBy(2),A=a instanceof nt?a:this.latLngToContainerPoint(a),M=A.subtract(w).multiplyBy(1-1/b),H=this.containerPointToLatLng(w.add(M));return this.setView(H,l,{zoom:f})},_getBoundsCenterZoom:function(a,l){l=l||{},a=a.getBounds?a.getBounds():ot(a);var f=ut(l.paddingTopLeft||l.padding||[0,0]),b=ut(l.paddingBottomRight||l.padding||[0,0]),w=this.getBoundsZoom(a,!1,f.add(b));if(w=typeof l.maxZoom=="number"?Math.min(l.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var A=b.subtract(f).divideBy(2),M=this.project(a.getSouthWest(),w),H=this.project(a.getNorthEast(),w),G=this.unproject(M.add(H).divideBy(2).add(A),w);return{center:G,zoom:w}},fitBounds:function(a,l){if(a=ot(a),!a.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(a,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,l){return this.setView(a,this._zoom,{pan:l})},panBy:function(a,l){if(a=ut(a).round(),l=l||{},!a.x&&!a.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,l,f){if(f=f||{},f.animate===!1||!pt.any3d)return this.setView(a,l,f);this._stop();var b=this.project(this.getCenter()),w=this.project(a),A=this.getSize(),M=this._zoom;a=ct(a),l=l===void 0?M:l;var H=Math.max(A.x,A.y),G=H*this.getZoomScale(M,l),Q=w.distanceTo(b)||1,lt=1.42,gt=lt*lt;function Rt(de){var oi=de?-1:1,Xi=de?G:H,sl=G*G-H*H+oi*gt*gt*Q*Q,Ia=2*Xi*gt*Q,Ha=sl/Ia,Li=Math.sqrt(Ha*Ha+1)-Ha,li=Li<1e-9?-18:Math.log(Li);return li}function Ne(de){return(Math.exp(de)-Math.exp(-de))/2}function ye(de){return(Math.exp(de)+Math.exp(-de))/2}function rn(de){return Ne(de)/ye(de)}var It=Rt(0);function Ht(de){return H*(ye(It)/ye(It+lt*de))}function Nt(de){return H*(ye(It)*rn(It+lt*de)-Ne(It))/gt}function Ri(de){return 1-Math.pow(1-de,1.5)}var gn=Date.now(),Nr=(Rt(1)-It)/lt,Oi=f.duration?1e3*f.duration:1e3*Nr*.8;function il(){var de=(Date.now()-gn)/Oi,oi=Ri(de)*Nr;de<=1?(this._flyToFrame=Vt(il,this),this._move(this.unproject(b.add(w.subtract(b).multiplyBy(Nt(oi)/Q)),M),this.getScaleZoom(H/Ht(oi),M),{flyTo:!0})):this._move(a,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),il.call(this),this},flyToBounds:function(a,l){var f=this._getBoundsCenterZoom(a,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(a){return a=ot(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var l=this.options.minZoom;return this.options.minZoom=a,this._loaded&&l!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var l=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&l!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,l){this._enforcingBounds=!0;var f=this.getCenter(),b=this._limitCenter(f,this._zoom,ot(a));return f.equals(b)||this.panTo(b,l),this._enforcingBounds=!1,this},panInside:function(a,l){l=l||{};var f=ut(l.paddingTopLeft||l.padding||[0,0]),b=ut(l.paddingBottomRight||l.padding||[0,0]),w=this.project(this.getCenter()),A=this.project(a),M=this.getPixelBounds(),H=Y([M.min.add(f),M.max.subtract(b)]),G=H.getSize();if(!H.contains(A)){this._enforcingBounds=!0;var Q=A.subtract(H.getCenter()),lt=H.extend(A).getSize().subtract(G);w.x+=Q.x<0?-lt.x:lt.x,w.y+=Q.y<0?-lt.y:lt.y,this.panTo(this.unproject(w),l),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=c({animate:!1,pan:!0},a===!0?{animate:!0}:a);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),b=l.divideBy(2).round(),w=f.divideBy(2).round(),A=b.subtract(w);return!A.x&&!A.y?this:(a.animate&&a.pan?this.panBy(A):(a.pan&&this._rawPanBy(A),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=c({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=d(this._handleGeolocationResponse,this),f=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,a):navigator.geolocation.getCurrentPosition(l,f,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var l=a.code,f=a.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var l=a.coords.latitude,f=a.coords.longitude,b=new ht(l,f),w=b.toBounds(a.coords.accuracy*2),A=this._locateOptions;if(A.setView){var M=this.getBoundsZoom(w);this.setView(b,A.maxZoom?Math.min(M,A.maxZoom):M)}var H={latlng:b,bounds:w,timestamp:a.timestamp};for(var G in a.coords)typeof a.coords[G]=="number"&&(H[G]=a.coords[G]);this.fire("locationfound",H)}},addHandler:function(a,l){if(!l)return this;var f=this[a]=new l(this);return this._handlers.push(f),this.options[a]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Xt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,l){var f="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=Mt("div",f,l||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),l=this.unproject(a.getBottomLeft()),f=this.unproject(a.getTopRight());return new at(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,l,f){a=ot(a),f=ut(f||[0,0]);var b=this.getZoom()||0,w=this.getMinZoom(),A=this.getMaxZoom(),M=a.getNorthWest(),H=a.getSouthEast(),G=this.getSize().subtract(f),Q=Y(this.project(H,b),this.project(M,b)).getSize(),lt=pt.any3d?this.options.zoomSnap:1,gt=G.x/Q.x,Rt=G.y/Q.y,Ne=l?Math.max(gt,Rt):Math.min(gt,Rt);return b=this.getScaleZoom(Ne,b),lt&&(b=Math.round(b/(lt/100))*(lt/100),b=l?Math.ceil(b/lt)*lt:Math.floor(b/lt)*lt),Math.max(w,Math.min(A,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new nt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,l){var f=this._getTopLeftPoint(a,l);return new z(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(a)/f.scale(l)},getScaleZoom:function(a,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var b=f.zoom(a*f.scale(l));return isNaN(b)?1/0:b},project:function(a,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ct(a),l)},unproject:function(a,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ut(a),l)},layerPointToLatLng:function(a){var l=ut(a).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(a){var l=this.project(ct(a))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ct(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ot(a))},distance:function(a,l){return this.options.crs.distance(ct(a),ct(l))},containerPointToLayerPoint:function(a){return ut(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ut(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var l=this.containerPointToLayerPoint(ut(a));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ct(a)))},mouseEventToContainerPoint:function(a){return Ea(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var l=this._container=Bo(a);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");wt(l,"scroll",this._onScroll,this),this._containerId=y(l)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&pt.any3d,At(a,"leaflet-container"+(pt.touch?" leaflet-touch":"")+(pt.retina?" leaflet-retina":"")+(pt.ielt9?" leaflet-oldie":"")+(pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=_a(a,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ee(this._mapPane,new nt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(a.markerPane,"leaflet-zoom-hide"),At(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,l,f){ee(this._mapPane,new nt(0,0));var b=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var w=this._zoom!==l;this._moveStart(w,f)._move(a,l)._moveEnd(w),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,l){return a&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(a,l,f,b){l===void 0&&(l=this._zoom);var w=this._zoom!==l;return this._zoom=l,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?f&&f.pinch&&this.fire("zoom",f):((w||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){ee(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var l=a?Kt:wt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),pt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$t(this._resizeRequest),this._resizeRequest=Vt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,l){for(var f=[],b,w=l==="mouseout"||l==="mouseover",A=a.target||a.srcElement,M=!1;A;){if(b=this._targets[y(A)],b&&(l==="click"||l==="preclick")&&this._draggableMoved(b)){M=!0;break}if(b&&b.listens(l,!0)&&(w&&!ii(A,a)||(f.push(b),w))||A===this._container)break;A=A.parentNode}return!f.length&&!M&&!w&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var l=a.target||a.srcElement;if(!(!this._loaded||l._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(l))){var f=a.type;f==="mousedown"&&Es(l),this._fireDOMEvent(a,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,l,f){if(a.type==="click"){var b=c({},a);b.type="preclick",this._fireDOMEvent(b,b.type,f)}var w=this._findEventTargets(a,l);if(f){for(var A=[],M=0;M<f.length;M++)f[M].listens(l,!0)&&A.push(f[M]);w=A.concat(w)}if(w.length){l==="contextmenu"&&ge(a);var H=w[0],G={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Q=H.getLatLng&&(!H._radius||H._radius<=10);G.containerPoint=Q?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(a),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=Q?H.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(M=0;M<w.length;M++)if(w[M].fire(l,G,!0),G.originalEvent._stopped||w[M].options.bubblingMouseEvents===!1&&J(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,l=this._handlers.length;a<l;a++)this._handlers[a].disable()},whenReady:function(a,l){return this._loaded?a.call(l||this,{target:this}):this.on("load",a,l),this},_getMapPanePos:function(){return xi(this._mapPane)||new nt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,l){var f=a&&l!==void 0?this._getNewPixelOrigin(a,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,l){var f=this.getSize()._divideBy(2);return this.project(a,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,l,f){var b=this._getNewPixelOrigin(f,l);return this.project(a,l)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,l,f){var b=this._getNewPixelOrigin(f,l);return Y([this.project(a.getSouthWest(),l)._subtract(b),this.project(a.getNorthWest(),l)._subtract(b),this.project(a.getSouthEast(),l)._subtract(b),this.project(a.getNorthEast(),l)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,l,f){if(!f)return a;var b=this.project(a,l),w=this.getSize().divideBy(2),A=new z(b.subtract(w),b.add(w)),M=this._getBoundsOffset(A,f,l);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?a:this.unproject(b.add(M),l)},_limitOffset:function(a,l){if(!l)return a;var f=this.getPixelBounds(),b=new z(f.min.add(a),f.max.add(a));return a.add(this._getBoundsOffset(b,l))},_getBoundsOffset:function(a,l,f){var b=Y(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),w=b.min.subtract(a.min),A=b.max.subtract(a.max),M=this._rebound(w.x,-A.x),H=this._rebound(w.y,-A.y);return new nt(M,H)},_rebound:function(a,l){return a+l>0?Math.round(a-l)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(l))},_limitZoom:function(a){var l=this.getMinZoom(),f=this.getMaxZoom(),b=pt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(l,Math.min(f,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,l){var f=this._getCenterOffset(a)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var a=this._proxy=Mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(l){var f=bi,b=this._proxy.style[f];ni(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),b===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),l=this.getZoom();ni(this._proxy,this.project(a,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(l),w=this._getCenterOffset(a)._divideBy(1-1/b);return f.animate!==!0&&!this.getSize().contains(w)?!1:(Vt(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(a,l,!0)},this),!0)},_animateZoom:function(a,l,f,b){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=l,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:l,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zo(a,l){return new zt(a,l)}var an=pe.extend({options:{position:"topright"},initialize:function(a){O(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var l=this._map;return l&&l.removeControl(this),this.options.position=a,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var l=this._container=this.onAdd(a),f=this.getPosition(),b=a._controlCorners[f];return At(l,"leaflet-control"),f.indexOf("bottom")!==-1?b.insertBefore(l,b.firstChild):b.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),si=function(a){return new an(a)};zt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},l="leaflet-",f=this._controlContainer=Mt("div",l+"control-container",this._container);function b(w,A){var M=l+w+" "+l+A;a[w+A]=Mt("div",M,f)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Xt(this._controlCorners[a]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Aa=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,l,f,b){return f<b?-1:b<f?1:0}},initialize:function(a,l,f){O(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in l)this._addLayer(l[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return an.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,l){return this._addLayer(a,l),this._map?this._update():this},addOverlay:function(a,l){return this._addLayer(a,l,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var l=this._getLayer(y(a));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",l=this._container=Mt("div",a),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ki(l),Un(l);var b=this._section=Mt("section",a+"-list");f&&(this._map.on("click",this.collapse,this),wt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Mt("a",a+"-toggle",l);w.href="#",w.title="Layers",w.setAttribute("role","button"),wt(w,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){ge(A),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Mt("div",a+"-base",b),this._separator=Mt("div",a+"-separator",b),this._overlaysList=Mt("div",a+"-overlays",b),l.appendChild(b)},_getLayer:function(a){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&y(this._layers[l].layer)===a)return this._layers[l]},_addLayer:function(a,l,f){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(d(function(b,w){return this.options.sortFunction(b.layer,w.layer,b.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;hn(this._baseLayersList),hn(this._overlaysList),this._layerControlInputs=[];var a,l,f,b,w=0;for(f=0;f<this._layers.length;f++)b=this._layers[f],this._addItem(b),l=l||b.overlay,a=a||!b.overlay,w+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=l&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var l=this._getLayer(y(a.target)),f=l.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(a,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(l?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=f,b.firstChild},_addItem:function(a){var l=document.createElement("label"),f=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=f):b=this._createRadioElement("leaflet-base-layers_"+y(this),f),this._layerControlInputs.push(b),b.layerId=y(a.layer),wt(b,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var A=document.createElement("span");l.appendChild(A),A.appendChild(b),A.appendChild(w);var M=a.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,l,f,b=[],w=[];this._handlingClick=!0;for(var A=a.length-1;A>=0;A--)l=a[A],f=this._getLayer(l.layerId).layer,l.checked?b.push(f):l.checked||w.push(f);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])&&this._map.removeLayer(w[A]);for(A=0;A<b.length;A++)this._map.hasLayer(b[A])||this._map.addLayer(b[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,l,f,b=this._map.getZoom(),w=a.length-1;w>=0;w--)l=a[w],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&b<f.options.minZoom||f.options.maxZoom!==void 0&&b>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,wt(a,"click",ge),this.expand();var l=this;setTimeout(function(){Kt(a,"click",ge),l._preventClick=!1})}}),Au=function(a,l,f){return new Aa(a,l,f)},Go=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var l="leaflet-control-zoom",f=Mt("div",l+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,l,f,b,w){var A=Mt("a",f,b);return A.innerHTML=a,A.href="#",A.title=l,A.setAttribute("role","button"),A.setAttribute("aria-label",l),Ki(A),wt(A,"click",wi),wt(A,"click",w,this),wt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var a=this._map,l="leaflet-disabled";le(this._zoomInButton,l),le(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(At(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(At(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});zt.mergeOptions({zoomControl:!0}),zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Go,this.addControl(this.zoomControl))});var Rh=function(a){return new Go(a)},Cu=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var l="leaflet-control-scale",f=Mt("div",l),b=this.options;return this._addScales(b,l+"-line",f),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,l,f){a.metric&&(this._mScale=Mt("div",l,f)),a.imperial&&(this._iScale=Mt("div",l,f))},_update:function(){var a=this._map,l=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,l]),a.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var l=this._getRoundNum(a),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/a)},_updateImperial:function(a){var l=a*3.2808399,f,b,w;l>5280?(f=l/5280,b=this._getRoundNum(f),this._updateScale(this._iScale,b+" mi",b/f)):(w=this._getRoundNum(l),this._updateScale(this._iScale,w+" ft",w/l))},_updateScale:function(a,l,f){a.style.width=Math.round(this.options.maxWidth*f)+"px",a.innerHTML=l},_getRoundNum:function(a){var l=Math.pow(10,(Math.floor(a)+"").length-1),f=a/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),$o=function(a){return new Cu(a)},Oh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ko=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pt.inlineSvg?Oh+" ":"")+"Leaflet</a>"},initialize:function(a){O(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Mt("div","leaflet-control-attribution"),Ki(this._container);for(var l in a._layers)a._layers[l].getAttribution&&this.addAttribution(a._layers[l].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var l in this._attributions)this._attributions[l]&&a.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),a.length&&f.push(a.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});zt.mergeOptions({attributionControl:!0}),zt.addInitHook(function(){this.options.attributionControl&&new Ko().addTo(this)});var Lh=function(a){return new Ko(a)};an.Layers=Aa,an.Zoom=Go,an.Scale=Cu,an.Attribution=Ko,si.layers=Au,si.zoom=Rh,si.scale=$o,si.attribution=Lh;var Vn=pe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vn.addTo=function(a,l){return a.addHandler(l,this),this};var kh={Events:F},Fo=pt.touch?"touchstart mousedown":"mousedown",Si=it.extend({options:{clickTolerance:3},initialize:function(a,l,f,b){O(this,b),this._element=a,this._dragStartTarget=l||a,this._preventOutline=f},enable:function(){this._enabled||(wt(this._dragStartTarget,Fo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Si._dragging===this&&this.finishDrag(!0),Kt(this._dragStartTarget,Fo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Uo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Si._dragging===this&&this.finishDrag();return}if(!(Si._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Si._dragging=this,this._preventOutline&&Es(this._element),yr(),Ss(),!this._moving)){this.fire("down");var l=a.touches?a.touches[0]:a,f=_r(this._element);this._startPoint=new nt(l.clientX,l.clientY),this._startPos=xi(this._element),this._parentScale=wa(f);var b=a.type==="mousedown";wt(document,b?"mousemove":"touchmove",this._onMove,this),wt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var l=a.touches&&a.touches.length===1?a.touches[0]:a,f=new nt(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,ge(a),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),ee(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){le(document.body,"leaflet-dragging"),this._lastTarget&&(le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Kt(document,"mousemove touchmove",this._onMove,this),Kt(document,"mouseup touchend touchcancel",this._onUp,this),xa(),Bn();var l=this._moved&&this._moving;this._moving=!1,Si._dragging=!1,l&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function ju(a,l,f){var b,w=[1,4,2,8],A,M,H,G,Q,lt,gt,Rt;for(A=0,lt=a.length;A<lt;A++)a[A]._code=Fi(a[A],l);for(H=0;H<4;H++){for(gt=w[H],b=[],A=0,lt=a.length,M=lt-1;A<lt;M=A++)G=a[A],Q=a[M],G._code&gt?Q._code&gt||(Rt=xr(Q,G,gt,l,f),Rt._code=Fi(Rt,l),b.push(Rt)):(Q._code&gt&&(Rt=xr(Q,G,gt,l,f),Rt._code=Fi(Rt,l),b.push(Rt)),b.push(G));a=b}return a}function Ru(a,l){var f,b,w,A,M,H,G,Q,lt;if(!a||a.length===0)throw new Error("latlngs not passed");fn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var gt=ct([0,0]),Rt=ot(a),Ne=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Ne<1700&&(gt=Yo(a));var ye=a.length,rn=[];for(f=0;f<ye;f++){var It=ct(a[f]);rn.push(l.project(ct([It.lat-gt.lat,It.lng-gt.lng])))}for(H=G=Q=0,f=0,b=ye-1;f<ye;b=f++)w=rn[f],A=rn[b],M=w.y*A.x-A.y*w.x,G+=(w.x+A.x)*M,Q+=(w.y+A.y)*M,H+=M*3;H===0?lt=rn[0]:lt=[G/H,Q/H];var Ht=l.unproject(ut(lt));return ct([Ht.lat+gt.lat,Ht.lng+gt.lng])}function Yo(a){for(var l=0,f=0,b=0,w=0;w<a.length;w++){var A=ct(a[w]);l+=A.lat,f+=A.lng,b++}return ct([l/b,f/b])}var Wo={__proto__:null,clipPolygon:ju,polygonCenter:Ru,centroid:Yo};function Ou(a,l){if(!l||!a.length)return a.slice();var f=l*l;return a=Nh(a,f),a=ku(a,f),a}function Lu(a,l,f){return Math.sqrt(Ca(a,l,f,!0))}function Mh(a,l,f){return Ca(a,l,f)}function ku(a,l){var f=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,w=new b(f);w[0]=w[f-1]=1,Xo(a,w,l,0,f-1);var A,M=[];for(A=0;A<f;A++)w[A]&&M.push(a[A]);return M}function Xo(a,l,f,b,w){var A=0,M,H,G;for(H=b+1;H<=w-1;H++)G=Ca(a[H],a[b],a[w],!0),G>A&&(M=H,A=G);A>f&&(l[M]=1,Xo(a,l,f,b,M),Xo(a,l,f,M,w))}function Nh(a,l){for(var f=[a[0]],b=1,w=0,A=a.length;b<A;b++)Dh(a[b],a[w])>l&&(f.push(a[b]),w=b);return w<A-1&&f.push(a[A-1]),f}var Mu;function Nu(a,l,f,b,w){var A=b?Mu:Fi(a,f),M=Fi(l,f),H,G,Q;for(Mu=M;;){if(!(A|M))return[a,l];if(A&M)return!1;H=A||M,G=xr(a,l,H,f,w),Q=Fi(G,f),H===A?(a=G,A=Q):(l=G,M=Q)}}function xr(a,l,f,b,w){var A=l.x-a.x,M=l.y-a.y,H=b.min,G=b.max,Q,lt;return f&8?(Q=a.x+A*(G.y-a.y)/M,lt=G.y):f&4?(Q=a.x+A*(H.y-a.y)/M,lt=H.y):f&2?(Q=G.x,lt=a.y+M*(G.x-a.x)/A):f&1&&(Q=H.x,lt=a.y+M*(H.x-a.x)/A),new nt(Q,lt,w)}function Fi(a,l){var f=0;return a.x<l.min.x?f|=1:a.x>l.max.x&&(f|=2),a.y<l.min.y?f|=4:a.y>l.max.y&&(f|=8),f}function Dh(a,l){var f=l.x-a.x,b=l.y-a.y;return f*f+b*b}function Ca(a,l,f,b){var w=l.x,A=l.y,M=f.x-w,H=f.y-A,G=M*M+H*H,Q;return G>0&&(Q=((a.x-w)*M+(a.y-A)*H)/G,Q>1?(w=f.x,A=f.y):Q>0&&(w+=M*Q,A+=H*Q)),M=a.x-w,H=a.y-A,b?M*M+H*H:new nt(w,A)}function fn(a){return!N(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function wr(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fn(a)}function js(a,l){var f,b,w,A,M,H,G,Q;if(!a||a.length===0)throw new Error("latlngs not passed");fn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var lt=ct([0,0]),gt=ot(a),Rt=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());Rt<1700&&(lt=Yo(a));var Ne=a.length,ye=[];for(f=0;f<Ne;f++){var rn=ct(a[f]);ye.push(l.project(ct([rn.lat-lt.lat,rn.lng-lt.lng])))}for(f=0,b=0;f<Ne-1;f++)b+=ye[f].distanceTo(ye[f+1])/2;if(b===0)Q=ye[0];else for(f=0,A=0;f<Ne-1;f++)if(M=ye[f],H=ye[f+1],w=M.distanceTo(H),A+=w,A>b){G=(A-b)/w,Q=[H.x-G*(H.x-M.x),H.y-G*(H.y-M.y)];break}var It=l.unproject(ut(Q));return ct([It.lat+lt.lat,It.lng+lt.lng])}var Ph={__proto__:null,simplify:Ou,pointToSegmentDistance:Lu,closestPointOnSegment:Mh,clipSegment:Nu,_getEdgeIntersection:xr,_getBitCode:Fi,_sqClosestPointOnSegment:Ca,isFlat:fn,_flat:wr,polylineCenter:js},Sr={project:function(a){return new nt(a.lng,a.lat)},unproject:function(a){return new ht(a.y,a.x)},bounds:new z([-180,-90],[180,90])},Tr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var l=Math.PI/180,f=this.R,b=a.lat*l,w=this.R_MINOR/f,A=Math.sqrt(1-w*w),M=A*Math.sin(b),H=Math.tan(Math.PI/4-b/2)/Math.pow((1-M)/(1+M),A/2);return b=-f*Math.log(Math.max(H,1e-10)),new nt(a.lng*l*f,b)},unproject:function(a){for(var l=180/Math.PI,f=this.R,b=this.R_MINOR/f,w=Math.sqrt(1-b*b),A=Math.exp(-a.y/f),M=Math.PI/2-2*Math.atan(A),H=0,G=.1,Q;H<15&&Math.abs(G)>1e-7;H++)Q=w*Math.sin(M),Q=Math.pow((1-Q)/(1+Q),w/2),G=Math.PI/2-2*Math.atan(A*Q)-M,M+=G;return new ht(M*l,a.x*l/f)}},Du={__proto__:null,LonLat:Sr,Mercator:Tr,SphericalMercator:zi},Pu=c({},re,{code:"EPSG:3395",projection:Tr,transformation:(function(){var a=.5/(Math.PI*Tr.R);return Bi(a,.5,-a,.5)})()}),Jo=c({},re,{code:"EPSG:4326",projection:Sr,transformation:Bi(1/180,1,-1/180,.5)}),Rs=c({},Lt,{projection:Sr,transformation:Bi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,l){var f=l.lng-a.lng,b=l.lat-a.lat;return Math.sqrt(f*f+b*b)},infinite:!0});Lt.Earth=re,Lt.EPSG3395=Pu,Lt.EPSG3857=cr,Lt.EPSG900913=Ui,Lt.EPSG4326=Jo,Lt.Simple=Rs;var Cn=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var l=a.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});zt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var l=y(a);return this._layers[l]?this:(this._layers[l]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var l=y(a);return this._layers[l]?(this._loaded&&a.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,l){for(var f in this._layers)a.call(l,this._layers[f]);return this},_addLayers:function(a){a=a?N(a)?a:[a]:[];for(var l=0,f=a.length;l<f;l++)this.addLayer(a[l])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var l=y(a);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,l=-1/0,f=this._getZoomSpan();for(var b in this._zoomBoundLayers){var w=this._zoomBoundLayers[b].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),l=w.maxZoom===void 0?l:Math.max(l,w.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=a===1/0?void 0:a,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Os=Cn.extend({initialize:function(a,l){O(this,l),this._layers={};var f,b;if(a)for(f=0,b=a.length;f<b;f++)this.addLayer(a[f])},addLayer:function(a){var l=this.getLayerId(a);return this._layers[l]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var l=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(a){var l=typeof a=="number"?a:this.getLayerId(a);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var l=Array.prototype.slice.call(arguments,1),f,b;for(f in this._layers)b=this._layers[f],b[a]&&b[a].apply(b,l);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,l){for(var f in this._layers)a.call(l,this._layers[f]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),zh=function(a,l){return new Os(a,l)},In=Os.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Os.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Os.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new at;for(var l in this._layers){var f=this._layers[l];a.extend(f.getBounds?f.getBounds():f.getLatLng())}return a}}),zu=function(a,l){return new In(a,l)},Hn=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){O(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,l){var f=this._getIconUrl(a);if(!f){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,l){var f=this.options,b=f[l+"Size"];typeof b=="number"&&(b=[b,b]);var w=ut(b),A=ut(l==="shadow"&&f.shadowAnchor||f.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+l+" "+(f.className||""),A&&(a.style.marginLeft=-A.x+"px",a.style.marginTop=-A.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,l){return l=l||document.createElement("img"),l.src=a,l},_getIconUrl:function(a){return pt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function ja(a){return new Hn(a)}var Ra=Hn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ra.imagePath!="string"&&(Ra.imagePath=this._detectIconPath()),(this.options.imagePath||Ra.imagePath)+Hn.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var l=function(f,b,w){var A=b.exec(f);return A&&A[w]};return a=l(a,/^url\((['"])?(.+)\1\)$/,2),a&&l(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Mt("div","leaflet-default-icon-path",document.body),l=_a(a,"background-image")||_a(a,"backgroundImage");if(document.body.removeChild(a),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Oa=Vn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Si(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var l=this._marker,f=l._map,b=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,A=xi(l._icon),M=f.getPixelBounds(),H=f.getPixelOrigin(),G=Y(M.min._subtract(H).add(w),M.max._subtract(H).subtract(w));if(!G.contains(A)){var Q=ut((Math.max(G.max.x,A.x)-G.max.x)/(M.max.x-G.max.x)-(Math.min(G.min.x,A.x)-G.min.x)/(M.min.x-G.min.x),(Math.max(G.max.y,A.y)-G.max.y)/(M.max.y-G.max.y)-(Math.min(G.min.y,A.y)-G.min.y)/(M.min.y-G.min.y)).multiplyBy(b);f.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),ee(l._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Vt(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&($t(this._panRequest),this._panRequest=Vt(this._adjustPan.bind(this,a)))},_onDrag:function(a){var l=this._marker,f=l._shadow,b=xi(l._icon),w=l._map.layerPointToLatLng(b);f&&ee(f,b),l._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,l.fire("move",a).fire("drag",a)},_onDragEnd:function(a){$t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),La=Cn.extend({options:{icon:new Ra,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,l){O(this,l),this._latlng=ct(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var l=this._latlng;return this._latlng=ct(a),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=a.icon.createIcon(this._icon),b=!1;f!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(f.title=a.title),f.tagName==="IMG"&&(f.alt=a.alt||"")),At(f,l),a.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(f,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),A=!1;w!==this._shadow&&(this._removeShadow(),A=!0),w&&(At(w,l),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&A&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&ee(this._icon,a),this._shadow&&ee(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Oa)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Oa(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&se(this._icon,a),this._shadow&&se(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var l=this.options.icon.options,f=l.iconSize?ut(l.iconSize):ut(0,0),b=l.iconAnchor?ut(l.iconAnchor):ut(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:f.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bu(a,l){return new La(a,l)}var qn=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return O(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ls=qn.extend({options:{fill:!0,radius:10},initialize:function(a,l){O(this,l),this._latlng=ct(a),this._radius=this.options.radius},setLatLng:function(a){var l=this._latlng;return this._latlng=ct(a),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var l=a&&a.radius||this._radius;return qn.prototype.setStyle.call(this,a),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,l=this._radiusY||a,f=this._clickTolerance(),b=[a+f,l+f];this._pxBounds=new z(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Uu(a,l){return new Ls(a,l)}var Er=Ls.extend({initialize:function(a,l,f){if(typeof l=="number"&&(l=c({},f,{radius:l})),O(this,l),this._latlng=ct(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new at(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:qn.prototype.setStyle,_project:function(){var a=this._latlng.lng,l=this._latlng.lat,f=this._map,b=f.options.crs;if(b.distance===re.distance){var w=Math.PI/180,A=this._mRadius/re.R/w,M=f.project([l+A,a]),H=f.project([l-A,a]),G=M.add(H).divideBy(2),Q=f.unproject(G).lat,lt=Math.acos((Math.cos(A*w)-Math.sin(l*w)*Math.sin(Q*w))/(Math.cos(l*w)*Math.cos(Q*w)))/w;(isNaN(lt)||lt===0)&&(lt=A/Math.cos(Math.PI/180*l)),this._point=G.subtract(f.getPixelOrigin()),this._radius=isNaN(lt)?0:G.x-f.project([Q,a-lt]).x,this._radiusY=G.y-M.y}else{var gt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(gt).x}this._updateBounds()}});function Vu(a,l,f){return new Er(a,l,f)}var ai=qn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,l){O(this,l),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var l=1/0,f=null,b=Ca,w,A,M=0,H=this._parts.length;M<H;M++)for(var G=this._parts[M],Q=1,lt=G.length;Q<lt;Q++){w=G[Q-1],A=G[Q];var gt=b(a,w,A,!0);gt<l&&(l=gt,f=b(a,w,A))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return js(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,l){return l=l||this._defaultShape(),a=ct(a),l.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new at,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return fn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var l=[],f=fn(a),b=0,w=a.length;b<w;b++)f?(l[b]=ct(a[b]),this._bounds.extend(l[b])):l[b]=this._convertLatLngs(a[b]);return l},_project:function(){var a=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),l=new nt(a,a);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(a,l,f){var b=a[0]instanceof ht,w=a.length,A,M;if(b){for(M=[],A=0;A<w;A++)M[A]=this._map.latLngToLayerPoint(a[A]),f.extend(M[A]);l.push(M)}else for(A=0;A<w;A++)this._projectLatlngs(a[A],l,f)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,b,w,A,M,H,G;for(f=0,w=0,A=this._rings.length;f<A;f++)for(G=this._rings[f],b=0,M=G.length;b<M-1;b++)H=Nu(G[b],G[b+1],a,b,!0),H&&(l[w]=l[w]||[],l[w].push(H[0]),(H[1]!==G[b+1]||b===M-2)&&(l[w].push(H[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,l=this.options.smoothFactor,f=0,b=a.length;f<b;f++)a[f]=Ou(a[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,l){var f,b,w,A,M,H,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(f=0,A=this._parts.length;f<A;f++)for(H=this._parts[f],b=0,M=H.length,w=M-1;b<M;w=b++)if(!(!l&&b===0)&&Lu(a,H[w],H[b])<=G)return!0;return!1}});function Bh(a,l){return new ai(a,l)}ai._flat=wr;var ks=ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ru(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var l=ai.prototype._convertLatLngs.call(this,a),f=l.length;return f>=2&&l[0]instanceof ht&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(a){ai.prototype._setLatLngs.call(this,a),fn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,l=this.options.weight,f=new nt(l,l);if(a=new z(a.min.subtract(f),a.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,w=this._rings.length,A;b<w;b++)A=ju(this._rings[b],a,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var l=!1,f,b,w,A,M,H,G,Q;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(A=0,G=this._parts.length;A<G;A++)for(f=this._parts[A],M=0,Q=f.length,H=Q-1;M<Q;H=M++)b=f[M],w=f[H],b.y>a.y!=w.y>a.y&&a.x<(w.x-b.x)*(a.y-b.y)/(w.y-b.y)+b.x&&(l=!l);return l||ai.prototype._containsPoint.call(this,a,!0)}});function Uh(a,l){return new ks(a,l)}var ri=In.extend({initialize:function(a,l){O(this,l),this._layers={},a&&this.addData(a)},addData:function(a){var l=N(a)?a:a.features,f,b,w;if(l){for(f=0,b=l.length;f<b;f++)w=l[f],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var A=this.options;if(A.filter&&!A.filter(a))return this;var M=Ue(a,A);return M?(M.feature=jr(a),M.defaultOptions=M.options,this.resetStyle(M),A.onEachFeature&&A.onEachFeature(a,M),this.addLayer(M)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=c({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(l){this._setLayerStyle(l,a)},this)},_setLayerStyle:function(a,l){a.setStyle&&(typeof l=="function"&&(l=l(a.feature)),a.setStyle(l))}});function Ue(a,l){var f=a.type==="Feature"?a.geometry:a,b=f?f.coordinates:null,w=[],A=l&&l.pointToLayer,M=l&&l.coordsToLatLng||Ar,H,G,Q,lt;if(!b&&!f)return null;switch(f.type){case"Point":return H=M(b),Ms(A,a,H,l);case"MultiPoint":for(Q=0,lt=b.length;Q<lt;Q++)H=M(b[Q]),w.push(Ms(A,a,H,l));return new In(w);case"LineString":case"MultiLineString":return G=ka(b,f.type==="LineString"?0:1,M),new ai(G,l);case"Polygon":case"MultiPolygon":return G=ka(b,f.type==="Polygon"?1:2,M),new ks(G,l);case"GeometryCollection":for(Q=0,lt=f.geometries.length;Q<lt;Q++){var gt=Ue({geometry:f.geometries[Q],type:"Feature",properties:a.properties},l);gt&&w.push(gt)}return new In(w);case"FeatureCollection":for(Q=0,lt=f.features.length;Q<lt;Q++){var Rt=Ue(f.features[Q],l);Rt&&w.push(Rt)}return new In(w);default:throw new Error("Invalid GeoJSON object.")}}function Ms(a,l,f,b){return a?a(l,f):new La(f,b&&b.markersInheritOptions&&b)}function Ar(a){return new ht(a[1],a[0],a[2])}function ka(a,l,f){for(var b=[],w=0,A=a.length,M;w<A;w++)M=l?ka(a[w],l-1,f):(f||Ar)(a[w]),b.push(M);return b}function Cr(a,l){return a=ct(a),a.alt!==void 0?[E(a.lng,l),E(a.lat,l),E(a.alt,l)]:[E(a.lng,l),E(a.lat,l)]}function Ma(a,l,f,b){for(var w=[],A=0,M=a.length;A<M;A++)w.push(l?Ma(a[A],fn(a[A])?0:l-1,f,b):Cr(a[A],b));return!l&&f&&w.length>0&&w.push(w[0].slice()),w}function Ti(a,l){return a.feature?c({},a.feature,{geometry:l}):jr(l)}function jr(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ei={toGeoJSON:function(a){return Ti(this,{type:"Point",coordinates:Cr(this.getLatLng(),a)})}};La.include(Ei),Er.include(Ei),Ls.include(Ei),ai.include({toGeoJSON:function(a){var l=!fn(this._latlngs),f=Ma(this._latlngs,l?1:0,!1,a);return Ti(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),ks.include({toGeoJSON:function(a){var l=!fn(this._latlngs),f=l&&!fn(this._latlngs[0]),b=Ma(this._latlngs,f?2:l?1:0,!0,a);return l||(b=[b]),Ti(this,{type:(f?"Multi":"")+"Polygon",coordinates:b})}}),Os.include({toMultiPoint:function(a){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(a).geometry.coordinates)}),Ti(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(a){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(a);var f=l==="GeometryCollection",b=[];return this.eachLayer(function(w){if(w.toGeoJSON){var A=w.toGeoJSON(a);if(f)b.push(A.geometry);else{var M=jr(A);M.type==="FeatureCollection"?b.push.apply(b,M.features):b.push(M)}}}),f?Ti(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Rr(a,l){return new ri(a,l)}var Na=Rr,Ns=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,l,f){this._url=a,this._bounds=ot(l),O(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Me(this._image),this},bringToBack:function(){return this._map&&Gi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ot(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",l=this._image=a?this._url:Mt("img");if(At(l,"leaflet-image-layer"),this._zoomAnimated&&At(l,"leaflet-zoom-animated"),this.options.className&&At(l,this.options.className),l.onselectstart=T,l.onmousemove=T,l.onload=d(this.fire,this,"load"),l.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(a){var l=this._map.getZoomScale(a.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ni(this._image,f,l)},_reset:function(){var a=this._image,l=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();ee(a,l.min),a.style.width=f.x+"px",a.style.height=f.y+"px"},_updateOpacity:function(){se(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Iu=function(a,l,f){return new Ns(a,l,f)},Ai=Ns.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",l=this._image=a?this._url:Mt("video");if(At(l,"leaflet-image-layer"),this._zoomAnimated&&At(l,"leaflet-zoom-animated"),this.options.className&&At(l,this.options.className),l.onselectstart=T,l.onmousemove=T,l.onloadeddata=d(this.fire,this,"load"),a){for(var f=l.getElementsByTagName("source"),b=[],w=0;w<f.length;w++)b.push(f[w].src);this._url=f.length>0?b:[l.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var M=Mt("source");M.src=this._url[A],l.appendChild(M)}}});function Ds(a,l,f){return new Ai(a,l,f)}var Or=Ns.extend({_initImage:function(){var a=this._image=this._url;At(a,"leaflet-image-layer"),this._zoomAnimated&&At(a,"leaflet-zoom-animated"),this.options.className&&At(a,this.options.className),a.onselectstart=T,a.onmousemove=T}});function Hu(a,l,f){return new Or(a,l,f)}var Ve=Cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,l){a&&(a instanceof ht||N(a))?(this._latlng=ct(a),O(this,l)):(O(this,a),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&se(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&se(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(se(this._container,0),this._removeTimeout=setTimeout(d(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ct(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Me(this._container),this},bringToBack:function(){return this._map&&Gi(this._container),this},_prepareOpen:function(a){var l=this._source;if(!l._map)return!1;if(l instanceof In){l=null;var f=this._source._layers;for(var b in f)if(f[b]._map){l=f[b];break}if(!l)return!1;this._source=l}if(!a)if(l.getCenter)a=l.getCenter();else if(l.getLatLng)a=l.getLatLng();else if(l.getBounds)a=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")a.innerHTML=l;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),l=ut(this.options.offset),f=this._getAnchor();this._zoomAnimated?ee(this._container,a.add(f)):l=l.add(a).add(f);var b=this._containerBottom=-l.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=b+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});zt.include({_initOverlay:function(a,l,f,b){var w=l;return w instanceof a||(w=new a(b).setContent(l)),f&&w.setLatLng(f),w}}),Cn.include({_initOverlay:function(a,l,f,b){var w=f;return w instanceof a?(O(w,b),w._source=this):(w=l&&!b?l:new a(b,this),w.setContent(f)),w}});var Da=Ve.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ve.prototype.openOn.call(this,a)},onAdd:function(a){Ve.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qn||this._source.on("preclick",An))},onRemove:function(a){Ve.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qn||this._source.off("preclick",An))},getEvents:function(){var a=Ve.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",l=this._container=Mt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Mt("div",a+"-content-wrapper",l);if(this._contentNode=Mt("div",a+"-content",f),Ki(l),Un(this._contentNode),wt(l,"contextmenu",An),this._tipContainer=Mt("div",a+"-tip-container",l),this._tip=Mt("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Mt("a",a+"-close-button",l);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',wt(b,"click",function(w){ge(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,l=a.style;l.width="",l.whiteSpace="nowrap";var f=a.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var b=a.offsetHeight,w=this.options.maxHeight,A="leaflet-popup-scrolled";w&&b>w?(l.height=w+"px",At(a,A)):le(a,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),f=this._getAnchor();ee(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,l=parseInt(_a(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,b=this._containerWidth,w=new nt(this._containerLeft,-f-this._containerBottom);w._add(xi(this._container));var A=a.layerPointToContainerPoint(w),M=ut(this.options.autoPanPadding),H=ut(this.options.autoPanPaddingTopLeft||M),G=ut(this.options.autoPanPaddingBottomRight||M),Q=a.getSize(),lt=0,gt=0;A.x+b+G.x>Q.x&&(lt=A.x+b-Q.x+G.x),A.x-lt-H.x<0&&(lt=A.x-H.x),A.y+f+G.y>Q.y&&(gt=A.y+f-Q.y+G.y),A.y-gt-H.y<0&&(gt=A.y-H.y),(lt||gt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([lt,gt]))}},_getAnchor:function(){return ut(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qu=function(a,l){return new Da(a,l)};zt.mergeOptions({closePopupOnClick:!0}),zt.include({openPopup:function(a,l,f){return this._initOverlay(Da,a,l,f).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Cn.include({bindPopup:function(a,l){return this._popup=this._initOverlay(Da,this._popup,a,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){wi(a);var l=a.layer||a.target;if(this._popup._source===l&&!(l instanceof qn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=l,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Pa=Ve.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ve.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ve.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ve.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",l=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Mt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var l,f,b=this._map,w=this._container,A=b.latLngToContainerPoint(b.getCenter()),M=b.layerPointToContainerPoint(a),H=this.options.direction,G=w.offsetWidth,Q=w.offsetHeight,lt=ut(this.options.offset),gt=this._getAnchor();H==="top"?(l=G/2,f=Q):H==="bottom"?(l=G/2,f=0):H==="center"?(l=G/2,f=Q/2):H==="right"?(l=0,f=Q/2):H==="left"?(l=G,f=Q/2):M.x<A.x?(H="right",l=0,f=Q/2):(H="left",l=G+(lt.x+gt.x)*2,f=Q/2),a=a.subtract(ut(l,f,!0)).add(lt).add(gt),le(w,"leaflet-tooltip-right"),le(w,"leaflet-tooltip-left"),le(w,"leaflet-tooltip-top"),le(w,"leaflet-tooltip-bottom"),At(w,"leaflet-tooltip-"+H),ee(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&se(this._container,a)},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(l)},_getAnchor:function(){return ut(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vh=function(a,l){return new Pa(a,l)};zt.include({openTooltip:function(a,l,f){return this._initOverlay(Pa,a,l,f).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Cn.include({bindTooltip:function(a,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Pa,this._tooltip,a,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var l=a?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var l=typeof a.getElement=="function"&&a.getElement();l&&(wt(l,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),wt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var l=typeof a.getElement=="function"&&a.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var l=a.latlng,f,b;this._tooltip.options.sticky&&a.originalEvent&&(f=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(l)}});var Zu=Hn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var l=a&&a.tagName==="DIV"?a:document.createElement("div"),f=this.options;if(f.html instanceof Element?(hn(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var b=ut(f.bgPos);l.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Ih(a){return new Zu(a)}Hn.Default=Ra;var Ps=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){O(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Xt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Me(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof nt?a:new nt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var l=this.getPane().children,f=-a(-1/0,1/0),b=0,w=l.length,A;b<w;b++)A=l[b].style.zIndex,l[b]!==this._container&&A&&(f=a(f,+A));isFinite(f)&&(this.options.zIndex=f+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pt.ielt9){se(this._container,this.options.opacity);var a=+new Date,l=!1,f=!1;for(var b in this._tiles){var w=this._tiles[b];if(!(!w.current||!w.loaded)){var A=Math.min(1,(a-w.loaded)/200);se(w.el,A),A<1?l=!0:(w.active?f=!0:this._onOpaqueTile(w),w.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&($t(this._fadeFrame),this._fadeFrame=Vt(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,l=this.options.maxZoom;if(a!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===a?(this._levels[f].el.style.zIndex=l-Math.abs(a-f),this._onUpdateLevel(f)):(Xt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var b=this._levels[a],w=this._map;return b||(b=this._levels[a]={},b.el=Mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=l,b.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,w.getCenter(),w.getZoom()),T(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var a,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)l=this._tiles[a],l.retain=l.current;for(a in this._tiles)if(l=this._tiles[a],l.current&&!l.active){var b=l.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var l in this._tiles)this._tiles[l].coords.z===a&&this._removeTile(l)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Xt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,l,f,b){var w=Math.floor(a/2),A=Math.floor(l/2),M=f-1,H=new nt(+w,+A);H.z=+M;var G=this._tileCoordsToKey(H),Q=this._tiles[G];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),M>b?this._retainParent(w,A,M,b):!1)},_retainChildren:function(a,l,f,b){for(var w=2*a;w<2*a+2;w++)for(var A=2*l;A<2*l+2;A++){var M=new nt(w,A);M.z=f+1;var H=this._tileCoordsToKey(M),G=this._tiles[H];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);f+1<b&&this._retainChildren(w,A,f+1,b)}},_resetView:function(a){var l=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var l=this.options;return l.minNativeZoom!==void 0&&a<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<a?l.maxNativeZoom:a},_setView:function(a,l,f,b){var w=Math.round(l);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var A=this.options.updateWhenZooming&&w!==this._tileZoom;(!b||A)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(a,l)},_setZoomTransforms:function(a,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],a,l)},_setZoomTransform:function(a,l,f){var b=this._map.getZoomScale(f,a.zoom),w=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(l,f)).round();pt.any3d?ni(a.el,w,b):ee(a.el,w)},_resetGrid:function(){var a=this._map,l=a.options.crs,f=this._tileSize=this.getTileSize(),b=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,l.wrapLng[0]],b).x/f.x),Math.ceil(a.project([0,l.wrapLng[1]],b).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([l.wrapLat[0],0],b).y/f.x),Math.ceil(a.project([l.wrapLat[1],0],b).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),b=l.getZoomScale(f,this._tileZoom),w=l.project(a,this._tileZoom).floor(),A=l.getSize().divideBy(b*2);return new z(w.subtract(A),w.add(A))},_update:function(a){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(a===void 0&&(a=l.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(b),A=w.getCenter(),M=[],H=this.options.keepBuffer,G=new z(w.getBottomLeft().subtract([H,-H]),w.getTopRight().add([H,-H]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var lt=this._tiles[Q].coords;(lt.z!==this._tileZoom||!G.contains(new nt(lt.x,lt.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(a,f);return}for(var gt=w.min.y;gt<=w.max.y;gt++)for(var Rt=w.min.x;Rt<=w.max.x;Rt++){var Ne=new nt(Rt,gt);if(Ne.z=this._tileZoom,!!this._isValidTile(Ne)){var ye=this._tiles[this._tileCoordsToKey(Ne)];ye?ye.current=!0:M.push(Ne)}}if(M.sort(function(It,Ht){return It.distanceTo(A)-Ht.distanceTo(A)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var rn=document.createDocumentFragment();for(Rt=0;Rt<M.length;Rt++)this._addTile(M[Rt],rn);this._level.el.appendChild(rn)}}}},_isValidTile:function(a){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(a.x<f.min.x||a.x>f.max.x)||!l.wrapLat&&(a.y<f.min.y||a.y>f.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return ot(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var l=this._map,f=this.getTileSize(),b=a.scaleBy(f),w=b.add(f),A=l.unproject(b,a.z),M=l.unproject(w,a.z);return[A,M]},_tileCoordsToBounds:function(a){var l=this._tileCoordsToNwSe(a),f=new at(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var l=a.split(":"),f=new nt(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(a){var l=this._tiles[a];l&&(Xt(l.el),delete this._tiles[a],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){At(a,"leaflet-tile");var l=this.getTileSize();a.style.width=l.x+"px",a.style.height=l.y+"px",a.onselectstart=T,a.onmousemove=T,pt.ielt9&&this.options.opacity<1&&se(a,this.options.opacity)},_addTile:function(a,l){var f=this._getTilePos(a),b=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&Vt(d(this._tileReady,this,a,null,w)),ee(w,f),this._tiles[b]={el:w,coords:a,current:!0},l.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:a});var b=this._tileCoordsToKey(a);f=this._tiles[b],f&&(f.loaded=+new Date,this._map._fadeAnimated?(se(f.el,0),$t(this._fadeFrame),this._fadeFrame=Vt(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(At(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pt.ielt9||!this._map._fadeAnimated?Vt(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var l=new nt(this._wrapX?x(a.x,this._wrapX):a.x,this._wrapY?x(a.y,this._wrapY):a.y);return l.z=a.z,l},_pxBoundsToTileRange:function(a){var l=this.getTileSize();return new z(a.min.unscaleBy(l).floor(),a.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Gu(a){return new Ps(a)}var Ci=Ps.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,l){this._url=a,l=O(this,l),l.detectRetina&&pt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,l){return this._url===a&&l===void 0&&(l=!0),this._url=a,l||this.redraw(),this},createTile:function(a,l){var f=document.createElement("img");return wt(f,"load",d(this._tileOnLoad,this,l,f)),wt(f,"error",d(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(a),f},getTileUrl:function(a){var l={r:pt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-a.y;this.options.tms&&(l.y=f),l["-y"]=f}return I(this._url,c(l,this.options))},_tileOnLoad:function(a,l){pt.ielt9?setTimeout(d(a,this,null,l),0):a(null,l)},_tileOnError:function(a,l,f){var b=this.options.errorTileUrl;b&&l.getAttribute("src")!==b&&(l.src=b),a(f,l)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,b=this.options.zoomOffset;return f&&(a=l-a),a+b},_getSubdomain:function(a){var l=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var a,l;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(l=this._tiles[a].el,l.onload=T,l.onerror=T,!l.complete)){l.src=et;var f=this._tiles[a].coords;Xt(l),delete this._tiles[a],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(a){var l=this._tiles[a];if(l)return l.el.setAttribute("src",et),Ps.prototype._removeTile.call(this,a)},_tileReady:function(a,l,f){if(!(!this._map||f&&f.getAttribute("src")===et))return Ps.prototype._tileReady.call(this,a,l,f)}});function mn(a,l){return new Ci(a,l)}var za=Ci.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,l){this._url=a;var f=c({},this.defaultWmsParams);for(var b in l)b in this.options||(f[b]=l[b]);l=O(this,l);var w=l.detectRetina&&pt.retina?2:1,A=this.getTileSize();f.width=A.x*w,f.height=A.y*w,this.wmsParams=f},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ci.prototype.onAdd.call(this,a)},getTileUrl:function(a){var l=this._tileCoordsToNwSe(a),f=this._crs,b=Y(f.project(l[0]),f.project(l[1])),w=b.min,A=b.max,M=(this._wmsVersion>=1.3&&this._crs===Jo?[w.y,w.x,A.y,A.x]:[w.x,w.y,A.x,A.y]).join(","),H=Ci.prototype.getTileUrl.call(this,a);return H+D(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(a,l){return c(this.wmsParams,a),l||this.redraw(),this}});function pn(a,l){return new za(a,l)}Ci.WMS=za,mn.wms=pn;var Je=Cn.extend({options:{padding:.1},initialize:function(a){O(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,l){var f=this._map.getZoomScale(l,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,l),A=b.multiplyBy(-f).add(w).subtract(this._map._getNewPixelOrigin(a,l));pt.any3d?ni(this._container,A,f):ee(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-a)).round();this._bounds=new z(f,f.add(l.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lr=Je.extend({options:{tolerance:0},getEvents:function(){var a=Je.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Je.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");wt(a,"mousemove",this._onMouseMove,this),wt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),wt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){$t(this._redrawRequest),delete this._ctx,Xt(this._container),Kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var l in this._layers)a=this._layers[l],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Je.prototype._update.call(this);var a=this._bounds,l=this._container,f=a.getSize(),b=pt.retina?2:1;ee(l,a.min),l.width=b*f.x,l.height=b*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Je.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var l=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var l=a._order,f=l.next,b=l.prev;f?f.prev=b:this._drawLast=b,b?b.next=f:this._drawFirst=f,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var l=a.options.dashArray.split(/[, ]+/),f=[],b,w;for(w=0;w<l.length;w++){if(b=Number(l[w]),isNaN(b))return;f.push(b)}a.options._dashArray=f}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Vt(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var l=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(a._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(a._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var l=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!l||a._pxBounds&&a._pxBounds.intersects(l))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,l){if(this._drawing){var f,b,w,A,M=a._parts,H=M.length,G=this._ctx;if(H){for(G.beginPath(),f=0;f<H;f++){for(b=0,w=M[f].length;b<w;b++)A=M[f][b],G[b?"lineTo":"moveTo"](A.x,A.y);l&&G.closePath()}this._fillStroke(G,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var l=a._point,f=this._ctx,b=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||b)/b;w!==1&&(f.save(),f.scale(1,w)),f.beginPath(),f.arc(l.x,l.y/w,b,0,Math.PI*2,!1),w!==1&&f.restore(),this._fillStroke(f,a)}},_fillStroke:function(a,l){var f=l.options;f.fill&&(a.globalAlpha=f.fillOpacity,a.fillStyle=f.fillColor||f.color,a.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(a.setLineDash&&a.setLineDash(l.options&&l.options._dashArray||[]),a.globalAlpha=f.opacity,a.lineWidth=f.weight,a.strokeStyle=f.color,a.lineCap=f.lineCap,a.lineJoin=f.lineJoin,a.stroke())},_onClick:function(a){for(var l=this._map.mouseEventToLayerPoint(a),f,b,w=this._drawFirst;w;w=w.next)f=w.layer,f.options.interactive&&f._containsPoint(l)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(f))&&(b=f);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,l)}},_handleMouseOut:function(a){var l=this._hoveredLayer;l&&(le(this._container,"leaflet-interactive"),this._fireEvent([l],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,l){if(!this._mouseHoverThrottled){for(var f,b,w=this._drawFirst;w;w=w.next)f=w.layer,f.options.interactive&&f._containsPoint(l)&&(b=f);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(At(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,l,f){this._map._fireDOMEvent(l,f||l.type,a)},_bringToFront:function(a){var l=a._order;if(l){var f=l.next,b=l.prev;if(f)f.prev=b;else return;b?b.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(a)}},_bringToBack:function(a){var l=a._order;if(l){var f=l.next,b=l.prev;if(b)b.next=f;else return;f?f.prev=b:b&&(this._drawLast=b),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(a)}}});function Ba(a){return pt.canvas?new Lr(a):null}var ji=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Qo={_initContainer:function(){this._container=Mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Je.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var l=a._container=ji("shape");At(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",a._path=ji("path"),l.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var l=a._container;this._container.appendChild(l),a.options.interactive&&a.addInteractiveTarget(l)},_removePath:function(a){var l=a._container;Xt(l),a.removeInteractiveTarget(l),delete this._layers[y(a)]},_updateStyle:function(a){var l=a._stroke,f=a._fill,b=a.options,w=a._container;w.stroked=!!b.stroke,w.filled=!!b.fill,b.stroke?(l||(l=a._stroke=ji("stroke")),w.appendChild(l),l.weight=b.weight+"px",l.color=b.color,l.opacity=b.opacity,b.dashArray?l.dashStyle=N(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=b.lineCap.replace("butt","flat"),l.joinstyle=b.lineJoin):l&&(w.removeChild(l),a._stroke=null),b.fill?(f||(f=a._fill=ji("fill")),w.appendChild(f),f.color=b.fillColor||b.color,f.opacity=b.fillOpacity):f&&(w.removeChild(f),a._fill=null)},_updateCircle:function(a){var l=a._point.round(),f=Math.round(a._radius),b=Math.round(a._radiusY||f);this._setPath(a,a._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+b+" 0,"+65535*360)},_setPath:function(a,l){a._path.v=l},_bringToFront:function(a){Me(a._container)},_bringToBack:function(a){Gi(a._container)}},Zn=pt.vml?ji:hr,zs=Je.extend({_initContainer:function(){this._container=Zn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),Kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Je.prototype._update.call(this);var a=this._bounds,l=a.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),ee(f,a.min),f.setAttribute("viewBox",[a.min.x,a.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(a){var l=a._path=Zn("path");a.options.className&&At(l,a.options.className),a.options.interactive&&At(l,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Xt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var l=a._path,f=a.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(a,l){this._setPath(a,dr(a._parts,l))},_updateCircle:function(a){var l=a._point,f=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||f,w="a"+f+","+b+" 0 1,0 ",A=a._empty()?"M0 0":"M"+(l.x-f)+","+l.y+w+f*2+",0 "+w+-f*2+",0 ";this._setPath(a,A)},_setPath:function(a,l){a._path.setAttribute("d",l)},_bringToFront:function(a){Me(a._path)},_bringToBack:function(a){Gi(a._path)}});pt.vml&&zs.include(Qo);function Ua(a){return pt.svg||pt.vml?new zs(a):null}zt.include({getRenderer:function(a){var l=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var l=this._paneRenderers[a];return l===void 0&&(l=this._createRenderer({pane:a}),this._paneRenderers[a]=l),l},_createRenderer:function(a){return this.options.preferCanvas&&Ba(a)||Ua(a)}});var Yi=ks.extend({initialize:function(a,l){ks.prototype.initialize.call(this,this._boundsToLatLngs(a),l)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ot(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Hh(a,l){return new Yi(a,l)}zs.create=Zn,zs.pointsToPath=dr,ri.geometryToLayer=Ue,ri.coordsToLatLng=Ar,ri.coordsToLatLngs=ka,ri.latLngToCoords=Cr,ri.latLngsToCoords=Ma,ri.getFeature=Ti,ri.asFeature=jr,zt.mergeOptions({boxZoom:!0});var Qe=Vn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ss(),yr(),this._startPoint=this._map.mouseEventToContainerPoint(a),wt(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Mt("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var l=new z(this._point,this._startPoint),f=l.getSize();ee(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Xt(this._box),le(this._container,"leaflet-crosshair")),Bn(),xa(),Kt(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var l=new at(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zt.addInitHook("addHandler","boxZoom",Qe),zt.mergeOptions({doubleClickZoom:!0});var kr=Vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var l=this._map,f=l.getZoom(),b=l.options.zoomDelta,w=a.originalEvent.shiftKey?f-b:f+b;l.options.doubleClickZoom==="center"?l.setZoom(w):l.setZoomAround(a.containerPoint,w)}});zt.addInitHook("addHandler","doubleClickZoom",kr),zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gn=Vn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Si(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){le(this._map._container,"leaflet-grab"),le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ot(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,l){return a-(a-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;a.x<l.min.x&&(a.x=this._viscousLimit(a.x,l.min.x)),a.y<l.min.y&&(a.y=this._viscousLimit(a.y,l.min.y)),a.x>l.max.x&&(a.x=this._viscousLimit(a.x,l.max.x)),a.y>l.max.y&&(a.y=this._viscousLimit(a.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,l=Math.round(a/2),f=this._initialWorldOffset,b=this._draggable._newPos.x,w=(b-l+f)%a+l-f,A=(b+l+f)%a-l-f,M=Math.abs(w+f)<Math.abs(A+f)?w:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(a){var l=this._map,f=l.options,b=!f.inertia||a.noInertia||this._times.length<2;if(l.fire("dragend",a),b)l.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,M=f.easeLinearity,H=w.multiplyBy(M/A),G=H.distanceTo([0,0]),Q=Math.min(f.inertiaMaxSpeed,G),lt=H.multiplyBy(Q/G),gt=Q/(f.inertiaDeceleration*M),Rt=lt.multiplyBy(-gt/2).round();!Rt.x&&!Rt.y?l.fire("moveend"):(Rt=l._limitOffset(Rt,l.options.maxBounds),Vt(function(){l.panBy(Rt,{duration:gt,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});zt.addInitHook("addHandler","dragging",Gn),zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tl=Vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),wt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,l=document.documentElement,f=a.scrollTop||l.scrollTop,b=a.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(b,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var l=this._panKeys={},f=this.keyCodes,b,w;for(b=0,w=f.left.length;b<w;b++)l[f.left[b]]=[-1*a,0];for(b=0,w=f.right.length;b<w;b++)l[f.right[b]]=[a,0];for(b=0,w=f.down.length;b<w;b++)l[f.down[b]]=[0,a];for(b=0,w=f.up.length;b<w;b++)l[f.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var l=this._zoomKeys={},f=this.keyCodes,b,w;for(b=0,w=f.zoomIn.length;b<w;b++)l[f.zoomIn[b]]=a;for(b=0,w=f.zoomOut.length;b<w;b++)l[f.zoomOut[b]]=-a},_addHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var l=a.keyCode,f=this._map,b;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(b=this._panKeys[l],a.shiftKey&&(b=ut(b).multiplyBy(3)),f.options.maxBounds&&(b=f._limitOffset(ut(b),f.options.maxBounds)),f.options.worldCopyJump){var w=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(b)));f.panTo(w)}else f.panBy(b)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;wi(a)}}});zt.addInitHook("addHandler","keyboard",tl),zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Va=Vn.extend({addHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var l=Ze(a),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),b),wi(a)},_performZoom:function(){var a=this._map,l=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,A=f?Math.ceil(w/f)*f:w,M=a._limitZoom(l+(this._delta>0?A:-A))-l;this._delta=0,this._startTime=null,M&&(a.options.scrollWheelZoom==="center"?a.setZoom(l+M):a.setZoomAround(this._lastMousePos,l+M))}});zt.addInitHook("addHandler","scrollWheelZoom",Va);var Wi=600;zt.mergeOptions({tapHold:pt.touchNative&&pt.safari&&pt.mobile,tapTolerance:15});var Mr=Vn.extend({addHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var l=a.touches[0];this._startPos=this._newPos=new nt(l.clientX,l.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(wt(document,"touchend",ge),wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Wi),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Kt(document,"touchend",ge),Kt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)},_onMove:function(a){var l=a.touches[0];this._newPos=new nt(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,l){var f=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});zt.addInitHook("addHandler","tapHold",Mr),zt.mergeOptions({touchZoom:pt.touch,bounceAtZoomLimits:!0});var el=Vn.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){le(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var l=this._map;if(!(!a.touches||a.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(a.touches[0]),b=l.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(b)._divideBy(2))),this._startDist=f.distanceTo(b),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),ge(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(a.touches[0]),b=l.mouseEventToContainerPoint(a.touches[1]),w=f.distanceTo(b)/this._startDist;if(this._zoom=l.getScaleZoom(w,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&w<1||this._zoom>l.getMaxZoom()&&w>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var A=f._add(b)._divideBy(2)._subtract(this._centerPoint);if(w===1&&A.x===0&&A.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),$t(this._animRequest);var M=d(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Vt(M,this,!0),ge(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$t(this._animRequest),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zt.addInitHook("addHandler","touchZoom",el),zt.BoxZoom=Qe,zt.DoubleClickZoom=kr,zt.Drag=Gn,zt.Keyboard=tl,zt.ScrollWheelZoom=Va,zt.TapHold=Mr,zt.TouchZoom=el,s.Bounds=z,s.Browser=pt,s.CRS=Lt,s.Canvas=Lr,s.Circle=Er,s.CircleMarker=Ls,s.Class=pe,s.Control=an,s.DivIcon=Zu,s.DivOverlay=Ve,s.DomEvent=br,s.DomUtil=As,s.Draggable=Si,s.Evented=it,s.FeatureGroup=In,s.GeoJSON=ri,s.GridLayer=Ps,s.Handler=Vn,s.Icon=Hn,s.ImageOverlay=Ns,s.LatLng=ht,s.LatLngBounds=at,s.Layer=Cn,s.LayerGroup=Os,s.LineUtil=Ph,s.Map=zt,s.Marker=La,s.Mixin=kh,s.Path=qn,s.Point=nt,s.PolyUtil=Wo,s.Polygon=ks,s.Polyline=ai,s.Popup=Da,s.PosAnimation=Cs,s.Projection=Du,s.Rectangle=Yi,s.Renderer=Je,s.SVG=zs,s.SVGOverlay=Or,s.TileLayer=Ci,s.Tooltip=Pa,s.Transformation=vs,s.Util=Qn,s.VideoOverlay=Ai,s.bind=d,s.bounds=Y,s.canvas=Ba,s.circle=Vu,s.circleMarker=Uu,s.control=si,s.divIcon=Ih,s.extend=c,s.featureGroup=zu,s.geoJSON=Rr,s.geoJson=Na,s.gridLayer=Gu,s.icon=ja,s.imageOverlay=Iu,s.latLng=ct,s.latLngBounds=ot,s.layerGroup=zh,s.map=Zo,s.marker=Bu,s.point=ut,s.polygon=Uh,s.polyline=Bh,s.popup=qu,s.rectangle=Hh,s.setOptions=O,s.stamp=y,s.svg=Ua,s.svgOverlay=Hu,s.tileLayer=mn,s.tooltip=Vh,s.transformation=Bi,s.version=r,s.videoOverlay=Ds;var nl=window.L;s.noConflict=function(){return window.L=nl,this},window.L=s}))})(Il,Il.exports)),Il.exports}var fu=NO();const bh=A0(fu);function Rp(n,e,s){return Object.freeze({instance:n,context:e,container:s})}function Op(n,e){return e==null?function(r,c){const h=R.useRef(void 0);return h.current||(h.current=n(r,c)),h}:function(r,c){const h=R.useRef(void 0);h.current||(h.current=n(r,c));const d=R.useRef(r),{instance:g}=h.current;return R.useEffect(function(){d.current!==r&&(e(g,r,d.current),d.current=r)},[g,r,e]),h}}function DO(n,e){R.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function $x(n){return function(s){const r=Cp(),c=n(jp(s,r),r);return Zx(r.map,s.attribution),Gx(c.current,s.eventHandlers),DO(c.current,r),c}}function PO(n,e){const s=Op(n,e),r=$x(s);return RO(r)}function zO(n,e){const s=Op(n),r=kO(s,e);return OO(r)}function BO(n,e){const s=Op(n,e),r=$x(s);return LO(r)}function UO(n,e,s){const{opacity:r,zIndex:c}=e;r!=null&&r!==s.opacity&&n.setOpacity(r),c!=null&&c!==s.zIndex&&n.setZIndex(c)}function VO(){return Cp().map}function IO({bounds:n,boundsOptions:e,center:s,children:r,className:c,id:h,placeholder:d,style:g,whenReady:y,zoom:v,...x},T){const[E]=R.useState({className:c,id:h,style:g}),[j,k]=R.useState(null),O=R.useRef(void 0);R.useImperativeHandle(T,()=>j?.map??null,[j]);const D=R.useCallback(I=>{if(I!==null&&!O.current){const N=new fu.Map(I,x);O.current=N,s!=null&&v!=null?N.setView(s,v):n!=null&&N.fitBounds(n,e),y!=null&&N.whenReady(y),k(CO(N))}},[]);R.useEffect(()=>()=>{j?.map.remove()},[j]);const B=j?Qf.createElement(Ap,{value:j},r):d??null;return Qf.createElement("div",{...E,ref:D},B)}const HO=R.forwardRef(IO),S0=PO(function({position:e,...s},r){const c=new fu.Marker(e,s);return Rp(c,jO(r,{overlayContainer:c}))},function(e,s,r){s.position!==r.position&&e.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&e.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&e.setOpacity(s.opacity),e.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?e.dragging.enable():e.dragging.disable())}),T0=zO(function(e,s){const r=new fu.Popup(e,s.overlayContainer);return Rp(r,s)},function(e,s,{position:r},c){R.useEffect(function(){const{instance:d}=e;function g(v){v.popup===d&&(d.update(),c(!0))}function y(v){v.popup===d&&c(!1)}return s.map.on({popupopen:g,popupclose:y}),s.overlayContainer==null?(r!=null&&d.setLatLng(r),d.openOn(s.map)):s.overlayContainer.bindPopup(d),function(){s.map.off({popupopen:g,popupclose:y}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(d)}},[e,s,c,r])}),qO=BO(function({url:e,...s},r){const c=new fu.TileLayer(e,jp(s,r));return Rp(c,r)},function(e,s,r){UO(e,s,r);const{url:c}=s;c!=null&&c!==r.url&&e.setUrl(c)});delete bh.Icon.Default.prototype._getIconUrl;bh.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const ZO=new bh.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),GO=new bh.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function $O({lat:n,lng:e}){const s=VO();return R.useEffect(()=>{s.setView([n,e],13)},[n,e,s]),null}function Kx({pedidoId:n,clienteLat:e,clienteLng:s}){const[r,c]=R.useState(null),[h,d]=R.useState(!0);R.useEffect(()=>{g();const x=Et.channel(`tracking-${n}`).on("postgres_changes",{event:"*",schema:"public",table:"ubicaciones_repartidor",filter:`pedido_id=eq.${n}`},()=>{g()}).subscribe(),T=setInterval(()=>{g()},3e4);return()=>{Et.removeChannel(x),clearInterval(T)}},[n]);const g=async()=>{try{const{data:x,error:T}=await Et.from("vista_ubicacion_actual_pedido").select("*").eq("pedido_id",n).single();if(T)throw T;c(x)}catch(x){console.error("Error al cargar ubicacin:",x)}finally{d(!1)}};if(h)return _.jsx("div",{className:"h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:_.jsx("p",{className:"text-gray-500",children:"Cargando mapa..."})});const y=r?(r.repartidor_latitud+e)/2:e,v=r?(r.repartidor_longitud+s)/2:s;return _.jsxs("div",{className:"space-y-4",children:[r&&_.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-600",children:"ltima actualizacin:"}),_.jsxs("p",{className:"font-medium",children:[Math.floor(r.segundos_desde_actualizacion/60)," ","minutos atrs"]})]}),r.velocidad&&_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-600",children:"Velocidad:"}),_.jsxs("p",{className:"font-medium",children:[r.velocidad.toFixed(1)," km/h"]})]})]})}),_.jsx("div",{className:"h-96 rounded-lg overflow-hidden shadow-lg",children:_.jsxs(HO,{center:[y,v],zoom:13,style:{height:"100%",width:"100%"},children:[_.jsx(qO,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),_.jsx(S0,{position:[e,s],icon:GO,children:_.jsx(T0,{children:_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"font-bold",children:" Cliente"}),_.jsx("p",{className:"text-sm",children:"Destino de entrega"})]})})}),r&&_.jsx(S0,{position:[r.repartidor_latitud,r.repartidor_longitud],icon:ZO,children:_.jsx(T0,{children:_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"font-bold",children:" Repartidor"}),_.jsx("p",{className:"text-sm",children:r.repartidor_nombre}),_.jsx("p",{className:"text-sm text-gray-600",children:r.tipo_vehiculo}),r.velocidad&&_.jsxs("p",{className:"text-sm",children:[r.velocidad.toFixed(1)," km/h"]})]})})}),_.jsx($O,{lat:y,lng:v})]})}),_.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full"}),_.jsx("span",{children:"Repartidor"})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"}),_.jsx("span",{children:"Cliente (Destino)"})]})]}),!r&&_.jsx("div",{className:"text-center text-gray-500 text-sm",children:"El repartidor an no ha iniciado el tracking GPS"})]})}function KO(){const{pedidoId:n}=Eo(),{usuario:e}=zn(),s=Te(),[r,c]=R.useState(null),[h,d]=R.useState([]),[g,y]=R.useState(!0);R.useEffect(()=>{if(!e||!n){s("/login");return}v();const E=Et.channel(`pedido-${n}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pedidos",filter:`id=eq.${n}`},()=>{v()}).subscribe();return()=>{Et.removeChannel(E)}},[n,e]);const v=async()=>{if(n)try{const{data:E,error:j}=await Et.from("vista_pedidos_cliente").select("*").eq("pedido_id",n).single();if(j)throw j;const{data:k,error:O}=await Et.from("vista_detalle_pedido_completo").select("*").eq("pedido_id",n);if(O)throw O;c(E),d(k)}catch(E){console.error("Error al cargar pedido:",E),alert("Error al cargar el pedido")}finally{y(!1)}},x=E=>({pendiente:"bg-yellow-100 text-yellow-800",confirmado:"bg-blue-100 text-blue-800",en_preparacion:"bg-purple-100 text-purple-800",listo:"bg-green-100 text-green-800",en_camino:"bg-indigo-100 text-indigo-800",entregado:"bg-gray-100 text-gray-800",cancelado:"bg-red-100 text-red-800"})[E]||"bg-gray-100 text-gray-800",T=E=>({pendiente:" Esperando confirmacin",confirmado:" Confirmado por el restaurante",en_preparacion:" Preparando tu pedido",listo:" Listo para entrega",en_camino:" En camino a tu ubicacin",entregado:" Entregado",cancelado:" Cancelado"})[E]||E;return g?_.jsx("div",{className:"flex justify-center items-center h-screen",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r?_.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-20",children:[_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Pedido #",r.numero_pedido]}),_.jsxs("p",{className:"text-gray-600",children:[r.restaurante_emoji," ",r.restaurante_nombre]})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",r.total.toFixed(2)]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[r.total_items," items"]})]})]}),_.jsx("div",{className:`px-4 py-3 rounded-lg ${x(r.estado)}`,children:_.jsx("p",{className:"text-center font-semibold text-lg",children:T(r.estado)})}),_.jsxs("div",{className:"mt-6 space-y-3",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:"Pedido realizado"}),_.jsx("p",{className:"text-sm text-gray-500",children:new Date(r.creado_en).toLocaleString("es-MX")})]})]}),r.confirmado_en&&_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:"Confirmado"}),_.jsx("p",{className:"text-sm text-gray-500",children:new Date(r.confirmado_en).toLocaleString("es-MX")})]})]}),r.asignado_en&&_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:"Repartidor asignado"}),_.jsx("p",{className:"text-sm text-gray-500",children:new Date(r.asignado_en).toLocaleString("es-MX")})]})]}),r.entregado_en&&_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:"Entregado"}),_.jsx("p",{className:"text-sm text-gray-500",children:new Date(r.entregado_en).toLocaleString("es-MX")})]})]})]})]}),r.tiene_repartidor&&r.repartidor_nombre&&_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Tu Repartidor"}),_.jsxs("div",{className:"flex items-center space-x-4",children:[r.repartidor_foto?_.jsx("img",{src:r.repartidor_foto,alt:r.repartidor_nombre,className:"w-16 h-16 rounded-full object-cover"}):_.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-2xl",children:""}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"font-semibold text-lg",children:r.repartidor_nombre}),r.repartidor_vehiculo&&_.jsx("p",{className:"text-gray-600 capitalize",children:r.repartidor_vehiculo}),r.repartidor_telefono&&_.jsxs("a",{href:`tel:${r.repartidor_telefono}`,className:"text-indigo-600 hover:underline text-sm",children:[" ",r.repartidor_telefono]})]})]})]}),r.tracking_activo&&_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Ubicacin en Tiempo Real"}),_.jsx(Kx,{pedidoId:n,clienteLat:r.latitud,clienteLng:r.longitud})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Direccin de Entrega"}),_.jsx("p",{className:"text-gray-900",children:r.direccion_entrega}),r.notas_cliente&&_.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg",children:[_.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas de entrega:"}),_.jsx("p",{className:"text-gray-700",children:r.notas_cliente})]})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Items del Pedido"}),_.jsx("div",{className:"space-y-4",children:h.map(E=>_.jsxs("div",{className:"flex space-x-4 border-b pb-4 last:border-b-0",children:[E.platillo_imagen&&_.jsx("img",{src:E.platillo_imagen,alt:E.platillo_nombre,className:"w-20 h-20 rounded-lg object-cover"}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("h3",{className:"font-semibold",children:E.platillo_nombre}),_.jsxs("p",{className:"font-bold text-indigo-600",children:["$",E.subtotal.toFixed(2)]})]}),_.jsx("p",{className:"text-sm text-gray-600 mb-2",children:E.platillo_descripcion}),_.jsx("div",{className:"flex justify-between items-center",children:_.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",E.cantidad,"  $",E.precio_unitario.toFixed(2)]})}),E.notas_platillo&&_.jsxs("p",{className:"text-sm text-gray-600 italic mt-1",children:["Nota: ",E.notas_platillo]})]})]},E.detalle_id))}),_.jsx("div",{className:"border-t pt-4 mt-4",children:_.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[_.jsx("span",{children:"Total:"}),_.jsxs("span",{className:"text-indigo-600",children:["$",r.total.toFixed(2)]})]})})]}),_.jsx("button",{onClick:()=>s("/pedidos"),className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors",children:" Volver a Mis Pedidos"})]}):_.jsxs("div",{className:"text-center py-12",children:[_.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"}),_.jsx("button",{onClick:()=>s("/pedidos"),className:"mt-4 text-indigo-600 hover:underline",children:"Volver a mis pedidos"})]})}async function Fx(n){const{data:e,error:s}=await Et.from("repartidores").select("*").eq("usuario_id",n).single();if(s)throw s;return e}async function FO(n,e){const{data:s,error:r}=await Et.rpc("cambiar_disponibilidad_repartidor",{p_usuario_id:n,p_disponible:e});if(r)throw r;return s}async function Yx(){const{data:n,error:e}=await Et.from("vista_pedidos_disponibles_repartidores").select("*").order("creado_en",{ascending:!0});if(e)throw e;return n}async function Lp(n){const{data:e,error:s}=await Et.from("vista_pedidos_repartidor").select("*").eq("repartidor_id",n).order("asignado_en",{ascending:!0});if(s)throw s;return e}async function YO(n,e){const{data:s,error:r}=await Et.rpc("asignar_repartidor_pedido",{p_pedido_id:n,p_repartidor_id:e});if(r)throw r;return s}async function WO(n,e){const{data:s,error:r}=await Et.rpc("marcar_pedido_entregado",{p_pedido_id:n,p_repartidor_id:e});if(r)throw r;return s}async function E0(n,e,s,r,c,h){const{data:d,error:g}=await Et.rpc("actualizar_ubicacion_repartidor",{p_repartidor_id:n,p_latitud:e,p_longitud:s,p_pedido_id:r||null,p_velocidad:c||null,p_precision:h||null});if(g)throw g;return d}function XO(n,e,s=60){let r=null,c=null;return navigator.geolocation&&(r=navigator.geolocation.watchPosition(async h=>{try{await E0(n,h.coords.latitude,h.coords.longitude,e,h.coords.speed||void 0,h.coords.accuracy),console.log("Ubicacin actualizada:",h.coords)}catch(d){console.error("Error al actualizar ubicacin:",d)}},h=>{console.error("Error al obtener ubicacin:",h)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),c=setInterval(()=>{navigator.geolocation.getCurrentPosition(async h=>{try{await E0(n,h.coords.latitude,h.coords.longitude,e,h.coords.speed||void 0,h.coords.accuracy)}catch(d){console.error("Error en actualizacin peridica:",d)}})},s*1e3)),()=>{r!==null&&navigator.geolocation.clearWatch(r),c!==null&&clearInterval(c)}}async function JO(n){const{data:e,error:s}=await Et.from("vista_estadisticas_repartidor").select("*").eq("usuario_id",n).single();if(s)throw s;return e}function QO(n){const e=Et.channel("pedidos-disponibles").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:"estado=in.(listo,confirmado)"},async()=>{const s=await Yx();n(s)}).subscribe();return()=>{Et.removeChannel(e)}}function tL(n,e){const s=Et.channel("mis-pedidos-repartidor").on("postgres_changes",{event:"*",schema:"public",table:"pedidos",filter:`repartidor_id=eq.${n}`},async()=>{const r=await Lp(n);e(r)}).subscribe();return()=>{Et.removeChannel(s)}}function eL(){const{usuario:n}=zn(),[e,s]=R.useState([]),[r,c]=R.useState(!0),[h,d]=R.useState(null);R.useEffect(()=>{g();const v=QO(x=>{s(x)});return()=>{v()}},[]);const g=async()=>{try{const v=await Yx();s(v)}catch(v){console.error("Error al cargar pedidos:",v)}finally{c(!1)}},y=async v=>{if(n){d(v);try{await YO(v,n.id),alert('Pedido asignado! Ve a "Mis Pedidos" para comenzar la entrega.'),await g()}catch(x){console.error("Error al tomar pedido:",x),alert("No se pudo tomar el pedido. Intenta de nuevo.")}finally{d(null)}}};return r?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Pedidos Disponibles"}),e.length===0?_.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[_.jsx("p",{className:"text-gray-500 text-lg",children:"No hay pedidos disponibles en este momento"}),_.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Los nuevos pedidos aparecern aqu automticamente"})]}):_.jsx("div",{className:"space-y-4",children:e.map(v=>_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-semibold",children:[v.restaurante_emoji," ",v.restaurante_nombre]}),_.jsx("p",{className:"text-gray-600 text-sm",children:v.restaurante_direccion})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["$",v.total.toFixed(2)]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[v.total_items," item",v.total_items>1?"s":""]})]})]}),_.jsxs("div",{className:"border-t pt-4 mb-4",children:[_.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[_.jsx("span",{className:"text-gray-500",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium",children:"Entrega en:"}),_.jsx("p",{className:"text-gray-700",children:v.direccion_entrega})]})]}),_.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[_.jsx("span",{children:""}),_.jsxs("p",{children:["Hace ",Math.floor(v.minutos_desde_creacion)," minutos"]})]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v.estado==="listo"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v.estado==="listo"?" Listo":" En preparacin"}),_.jsx("button",{onClick:()=>y(v.pedido_id),disabled:h===v.pedido_id,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:h===v.pedido_id?" Tomando...":" Tomar Pedido"})]})]},v.pedido_id))})]})]})}function nL(){const{usuario:n}=zn(),e=Te(),[s,r]=R.useState([]),[c,h]=R.useState(!0);R.useEffect(()=>{if(!n)return;d();const g=tL(n.id,y=>{r(y)});return()=>{g()}},[n]);const d=async()=>{if(n)try{const g=await Lp(n.id);r(g)}catch(g){console.error("Error al cargar pedidos:",g)}finally{h(!1)}};return c?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h1",{className:"text-2xl font-bold",children:" Mis Pedidos"}),_.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"text-indigo-600 hover:underline text-sm",children:"Ver disponibles "})]}),s.length===0?_.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[_.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes pedidos asignados"}),_.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Ver Pedidos Disponibles"})]}):_.jsx("div",{className:"space-y-4",children:s.map(g=>_.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-lg font-semibold",children:[g.restaurante_emoji," ",g.restaurante_nombre]}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Pedido #",g.numero_pedido]})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["$",g.total.toFixed(2)]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[g.total_items," items"]})]})]}),_.jsxs("div",{className:"border-t pt-4 mb-4",children:[_.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[_.jsx("span",{className:"text-gray-500",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium",children:"Entregar en:"}),_.jsx("p",{className:"text-gray-700",children:g.direccion_entrega})]})]}),g.notas_cliente&&_.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[_.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),_.jsx("p",{className:"text-gray-700 text-sm",children:g.notas_cliente})]}),_.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[_.jsx("span",{children:""}),_.jsxs("p",{children:["Asignado hace"," ",Math.floor(g.minutos_desde_asignacion)," minutos"]})]})]}),_.jsx("button",{onClick:()=>e(`/repartidor/entrega/${g.pedido_id}`),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Iniciar Entrega"})]},g.pedido_id))})]})]})}function iL(){const{pedidoId:n}=Eo(),{usuario:e}=zn(),s=Te(),[r,c]=R.useState(null),[h,d]=R.useState(!0),[g,y]=R.useState(!1),[v,x]=R.useState(!1),T=R.useRef(null);R.useEffect(()=>(E(),()=>{T.current&&T.current()}),[n]);const E=async()=>{if(!(!e||!n))try{const[D,B]=await Promise.all([Lp(e.id),Fx(e.id)]),I=D.find(N=>N.pedido_id===n);if(!I){alert("Pedido no encontrado"),s("/repartidor/mis-pedidos");return}c(I),B&&j(B.id)}catch(D){console.error("Error al cargar datos:",D)}finally{d(!1)}},j=D=>{if(!n||v)return;console.log("Iniciando tracking GPS...");const B=XO(D,n,60);T.current=B,x(!0)},k=async()=>{if(!(!e||!n||!window.confirm("Confirmas que el pedido fue entregado al cliente?"))){y(!0);try{await WO(n,e.id),T.current&&T.current(),alert(" Pedido marcado como entregado. Buen trabajo!"),s("/repartidor/mis-pedidos")}catch(B){console.error("Error al marcar como entregado:",B),alert("Error al marcar el pedido como entregado")}finally{y(!1)}}},O=()=>{if(!r)return;const D=`https://www.google.com/maps/dir/?api=1&destination=${r.latitud},${r.longitud}`;window.open(D,"_blank")};return h?_.jsx("div",{className:"flex justify-center items-center h-screen",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r?_.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold",children:" Entrega en Curso"}),_.jsxs("p",{className:"text-gray-600",children:["Pedido #",r.numero_pedido]})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",r.total.toFixed(2)]}),_.jsxs("p",{className:"text-sm text-gray-500",children:[r.total_items," items"]})]})]}),v&&_.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("span",{className:"animate-pulse text-green-600",children:""}),_.jsx("p",{className:"text-green-700 text-sm font-medium",children:" Tracking GPS activo - Tu ubicacin se actualiza cada minuto"})]})})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsxs("h2",{className:"text-lg font-semibold mb-3",children:[r.restaurante_emoji," Recoger en:"]}),_.jsx("p",{className:"text-xl font-medium mb-2",children:r.restaurante_nombre}),_.jsx("p",{className:"text-gray-600 mb-2",children:r.restaurante_direccion}),r.restaurante_telefono&&_.jsxs("a",{href:`tel:${r.restaurante_telefono}`,className:"text-indigo-600 hover:underline",children:[" ",r.restaurante_telefono]})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Entregar en:"}),_.jsx("p",{className:"text-gray-900 text-lg mb-3",children:r.direccion_entrega}),r.notas_cliente&&_.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[_.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:" Notas del cliente:"}),_.jsx("p",{className:"text-gray-700",children:r.notas_cliente})]}),_.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["Cliente: ",r.cliente_email]}),_.jsx("button",{onClick:O,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Abrir Navegacin GPS"})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Mapa de Entrega"}),_.jsx(Kx,{pedidoId:n,clienteLat:r.latitud,clienteLng:r.longitud})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[_.jsx("button",{onClick:k,disabled:g,className:"w-full bg-green-600 text-white py-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-lg font-bold",children:g?" Marcando...":" Marcar como Entregado"}),_.jsx("p",{className:"text-center text-gray-500 text-sm mt-2",children:"Solo marca como entregado cuando hayas confirmado la entrega con el cliente"})]})]}):_.jsx("div",{className:"text-center py-12",children:_.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"})})}function sL(){const{usuario:n}=zn(),e=Te(),[s,r]=R.useState(null),[c,h]=R.useState(null),[d,g]=R.useState(!0),[y,v]=R.useState(!1);R.useEffect(()=>{x()},[n]);const x=async()=>{if(n)try{const[E,j]=await Promise.all([Fx(n.id),JO(n.id)]);r(E),h(j)}catch(E){console.error("Error al cargar datos:",E)}finally{g(!1)}},T=async()=>{if(!(!n||!s)){v(!0);try{await FO(n.id,!s.disponible),await x()}catch(E){console.error("Error al cambiar disponibilidad:",E),alert("Error al cambiar disponibilidad")}finally{v(!1)}}};return d?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):s?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Mi Perfil"}),_.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[_.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.foto_url?_.jsx("img",{src:s.foto_url,alt:s.nombre_completo,className:"w-20 h-20 rounded-full object-cover"}):_.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-3xl",children:""}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h2",{className:"text-xl font-bold",children:s.nombre_completo}),s.telefono&&_.jsxs("p",{className:"text-gray-600",children:[" ",s.telefono]}),s.tipo_vehiculo&&_.jsxs("p",{className:"text-gray-600 capitalize",children:[" ",s.tipo_vehiculo]})]})]}),_.jsx("div",{className:"border-t pt-4",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold",children:"Estado"}),_.jsx("p",{className:"text-sm text-gray-600",children:s.disponible?" Disponible para pedidos":" No disponible"})]}),_.jsx("button",{onClick:T,disabled:y,className:`px-6 py-2 rounded-lg font-medium transition-colors ${s.disponible?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"} disabled:bg-gray-400`,children:y?"":s.disponible?"Pausar":"Activar"})]})})]}),c&&_.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Estadsticas"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[_.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Entregas"}),_.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.total_entregas})]}),_.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[_.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Calificacin"}),_.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[" ",s.calificacion_promedio.toFixed(1)]})]}),_.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[_.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completadas"}),_.jsx("p",{className:"text-3xl font-bold text-purple-600",children:c.entregas_completadas})]}),_.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[_.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"En Curso"}),_.jsx("p",{className:"text-3xl font-bold text-orange-600",children:c.entregas_en_curso})]})]}),c.ganancias_estimadas>0&&_.jsxs("div",{className:"mt-4 bg-indigo-50 rounded-lg p-4",children:[_.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ganancias Estimadas"}),_.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",c.ganancias_estimadas.toFixed(2)]})]})]}),_.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Acciones Rpidas"}),_.jsxs("div",{className:"space-y-3",children:[_.jsx("button",{onClick:()=>e("/repartidor/disponibles"),className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:" Ver Pedidos Disponibles"}),_.jsx("button",{onClick:()=>e("/repartidor/mis-pedidos"),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:" Mis Pedidos Activos"}),_.jsx("button",{onClick:()=>e("/home"),className:"w-full bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:" Volver al Inicio"})]})]})]})]}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx(Sn,{}),_.jsx("div",{className:"max-w-4xl mx-auto p-4",children:_.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[_.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No tienes un perfil de repartidor"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Contacta al administrador para registrarte como repartidor"})]})})]})}function ln({children:n}){const{usuario:e}=zn();return e?_.jsx(_.Fragment,{children:n}):_.jsx(Im,{to:"/",replace:!0})}function aL({children:n}){const{usuario:e}=zn();return e?_.jsx(Im,{to:"/home",replace:!0}):_.jsx(_.Fragment,{children:n})}function rL(){return _.jsxs(y1,{children:[_.jsx(He,{path:"/",element:_.jsx(aL,{children:_.jsx(PA,{})})}),_.jsx(He,{path:"/home",element:_.jsx(ln,{children:_.jsx(gO,{})})}),_.jsx(He,{path:"/platillos/:categoriaId",element:_.jsx(ln,{children:_.jsx(yO,{})})}),_.jsx(He,{path:"/categoria/:id",element:_.jsx(ln,{children:_.jsx(vO,{})})}),_.jsx(He,{path:"/categorias",element:_.jsx(ln,{children:_.jsx(_O,{})})}),_.jsx(He,{path:"/restaurantes",element:_.jsx(ln,{children:_.jsx(bO,{})})}),_.jsx(He,{path:"/restaurante/:id",element:_.jsx(ln,{children:_.jsx(xO,{})})}),_.jsx(He,{path:"/platillo/:id",element:_.jsx(ln,{children:_.jsx(wO,{})})}),_.jsx(He,{path:"/mi-cuenta",element:_.jsx(ln,{children:_.jsx(SO,{})})}),_.jsx(He,{path:"/carrito",element:_.jsx(ln,{children:_.jsx(TO,{})})}),_.jsx(He,{path:"/pedidos",element:_.jsx(ln,{children:_.jsx(EO,{})})}),_.jsx(He,{path:"/pedido/:pedidoId",element:_.jsx(ln,{children:_.jsx(KO,{})})}),_.jsx(He,{path:"/repartidor/disponibles",element:_.jsx(ln,{children:_.jsx(eL,{})})}),_.jsx(He,{path:"/repartidor/mis-pedidos",element:_.jsx(ln,{children:_.jsx(nL,{})})}),_.jsx(He,{path:"/repartidor/entrega/:pedidoId",element:_.jsx(ln,{children:_.jsx(iL,{})})}),_.jsx(He,{path:"/repartidor/perfil",element:_.jsx(ln,{children:_.jsx(sL,{})})}),_.jsx(He,{path:"*",element:_.jsx(Im,{to:"/",replace:!0})})]})}function oL(){return _.jsx(I1,{children:_.jsx(Q1,{children:_.jsx(tT,{children:_.jsx(rL,{})})})})}bS.createRoot(document.getElementById("root")).render(_.jsx(R.StrictMode,{children:_.jsx(oL,{})}));
